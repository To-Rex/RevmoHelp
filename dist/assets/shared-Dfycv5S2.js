import{as as Y,aE as _e,ba as pe,r as m,j as e,av as I,aU as Oe,aT as st,X as P,bG as at,b4 as W,x as fe,F as de,S as U,o as te,bH as rt,G as ie,D as lt,af as ke,a4 as nt,bj as ze,ad as H,M as qe,bp as Ke,bI as He,bk as Ce,aj as it,bJ as Ye,bK as ot,bL as ct,B as ue,aw as V,P as G,al as J,aQ as Qe,e as le,E as oe,f as ae,aR as Ie,aY as Ue,a as Xe,at as dt,au as mt,i as Ve,d as be,n as xt,A as F,ae as ht,b as ce,a1 as ut,ac as bt,C as D,p as je,T as me,N as xe,bM as gt,bt as pt,ak as ft,O as se,bN as Be,bO as jt,bP as yt,aa as vt,aL as Nt,bn as wt,bQ as kt,bR as zt,bS as Ct,bT as St,I as Je,V as Ge,U as ge,bU as _t,bV as qt,bW as Bt,bX as $t,bY as Lt,bZ as Et,b_ as Tt,az as Rt,k as Fe,b$ as Mt,ao as he,c0 as Pt,c1 as At,c2 as Ut,c3 as Ft,c4 as Dt,bC as Ot,ag as De,c5 as Kt,c6 as Ht,c7 as Yt,Q as Qt}from"./adminCore-DQHRBU2b.js";import{u as ye}from"./doctor-AZbeNxOG.js";import{u as It}from"./publicCore-yzVbvisD.js";const Xt=()=>{const{i18n:t}=Y(),d=_e(),n=pe(),x=c=>{const g=c.split("/").filter(Boolean)[0];return["ru","en"].includes(g)?g:null},u=c=>{const o=c.split("/").filter(Boolean),g=o[0];return["ru","en"].includes(g)?"/"+o.slice(1).join("/"):c},b=(c,o)=>{const g=u(c);return o==="uz"?g||"/":`/${o}${g}`},h=c=>{const o=u(n.pathname),g=b(o,c);t.changeLanguage(c),d(g,{replace:!0})};return m.useEffect(()=>{const c=x(n.pathname);if(c&&c!==t.language)t.changeLanguage(c);else if(!c&&t.language!=="uz"){const o=b(n.pathname,t.language);d(o,{replace:!0})}},[n.pathname,t,d]),{currentLanguage:t.language,changeLanguage:h,getPathWithoutLanguage:u,addLanguageToPath:b}},Vt=({isOpen:t,onClose:d,admin:n,currentPath:x,collapsed:u,onToggleCollapse:b})=>{const h=[{name:"Dashboard",href:"/admin",icon:at},{name:"Adminlar",href:"/admin/admins",icon:W},{name:"Foydalanuvchilar",href:"/admin/users",icon:fe},{name:"Maqolalar",href:"/admin/posts",icon:de},{name:"Shifokorlar",href:"/admin/doctors",icon:U},{name:"Kasalliklar",href:"/admin/diseases",icon:te},{name:"Sahifalar",href:"/admin/pages",icon:rt},{name:"Bemorlar Tarixi",href:"/admin/patient-stories",icon:ie},{name:"Hamkorlar",href:"/admin/partners",icon:lt},{name:"Bildirishnomalar",href:"/admin/notifications",icon:ke},{name:"Analitika",href:"/admin/analytics",icon:nt},{name:"Sozlamalar",href:"/admin/settings",icon:ze}],c=o=>o==="/admin"?x==="/admin":x.startsWith(o);return e.jsxs("div",{className:`
      fixed inset-y-0 left-0 z-50 ${u?"w-16":"w-64 lg:w-72"} theme-bg theme-shadow-lg
      transform transition-all duration-300 ease-in-out
      lg:translate-x-0 lg:static lg:inset-0 lg:flex lg:flex-col overflow-hidden
      ${t?"translate-x-0":"-translate-x-full"}
    `,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-18 px-4 lg:px-6 theme-border border-b flex-shrink-0",children:[e.jsxs(I,{to:"/",className:`flex items-center ${u?"justify-center":"space-x-3"} group`,children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 lg:w-9 lg:h-9 rounded-lg object-cover group-hover:scale-110 transition-transform duration-300"}),!u&&e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:"Revmohelp"}),e.jsx("div",{className:"text-xs theme-text-muted hidden lg:block",children:"Admin Panel"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:b,className:"hidden lg:flex p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",title:u?"Expand sidebar":"Collapse sidebar",children:u?e.jsx(Oe,{size:20}):e.jsx(st,{size:20})}),e.jsx("button",{onClick:d,className:"lg:hidden p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(P,{size:20})})]})]}),e.jsx("nav",{className:"flex-1 px-3 lg:px-4 py-4 lg:py-5",children:e.jsx("div",{className:"space-y-2",children:h.map(o=>{const g=o.icon;return e.jsxs(I,{to:o.href,className:`group flex items-center ${u?"justify-center px-2":"px-3 lg:px-4"} py-2 lg:py-2.5 text-sm font-medium rounded-xl transition-all duration-200 ${c(o.href)?"bg-primary-500 text-white shadow-lg":"theme-text-secondary hover:theme-bg-tertiary hover:theme-text group-hover:translate-x-1"}`,onClick:d,title:u?o.name:void 0,children:[e.jsx(g,{size:18,className:`${u?"":"mr-2 lg:mr-3"} ${c(o.href)?"text-white":"theme-text-muted group-hover:theme-accent"}`}),!u&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"truncate text-sm",children:o.name}),c(o.href)&&e.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full"})]})]},o.name)})})}),e.jsx("div",{className:"p-3 lg:p-4 theme-border border-t flex-shrink-0",children:e.jsxs("div",{className:`flex items-center ${u?"justify-center":"space-x-2 lg:space-x-3"} p-2 lg:p-3 theme-bg-tertiary rounded-xl`,children:[e.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-accent-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(H,{size:16,className:"theme-accent"})}),!u&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold theme-text truncate",children:n?.full_name||"Admin User"}),e.jsxs("p",{className:"text-xs theme-text-muted capitalize flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:n?.role||"admin"})]})]})]})})]})},Ne=[{code:"uz",name:"O'zbek",nativeName:"O'zbekcha"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"en",name:"English",nativeName:"English"}],Se=()=>{const[t,d]=m.useState(!1),n=m.useRef(null);m.useEffect(()=>{const c=o=>{n.current&&!n.current.contains(o.target)&&d(!1)};return t&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[t]);const{i18n:x}=Y(),{changeLanguage:u}=Xt(),b=Ne.find(c=>c.code===x.language)||Ne[0],h=c=>{u(c),d(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>d(!t),className:"flex items-center space-x-2 p-2 rounded-lg theme-text-secondary hover:theme-accent hover:theme-bg-tertiary transition-all duration-200",children:[e.jsx(qe,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm font-medium theme-text",children:b.code.toUpperCase()}),e.jsx(Ke,{size:14,className:"theme-text-muted"})]}),t&&e.jsx("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl theme-border border py-2 z-50",ref:n,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:Ne.map(c=>e.jsx("button",{onClick:()=>h(c.code),className:`block w-full text-left px-4 py-2 text-sm hover:theme-bg-tertiary transition-colors duration-200 ${b.code===c.code?"theme-accent bg-blue-50 dark:bg-blue-900/20":"theme-text-secondary"}`,children:c.nativeName},c.code))})]})},Jt=({onMenuClick:t,admin:d,onSignOut:n})=>{const[x,u]=m.useState(!1),b=m.useRef(null);m.useEffect(()=>{const c=o=>{b.current&&!b.current.contains(o.target)&&u(!1)};return x&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[x]);const h=()=>{n(),u(!1)};return e.jsx("div",{className:"theme-bg theme-shadow-lg theme-border border-b backdrop-blur-sm bg-opacity-95 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-16 px-4 lg:px-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:t,className:"lg:hidden p-2 theme-text-secondary hover:theme-text rounded-xl hover:theme-bg-tertiary transition-all duration-200 transform hover:scale-105",children:e.jsx(He,{size:20})})}),e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(Se,{}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!x),className:"flex items-center space-x-2 lg:space-x-3 p-2 rounded-xl hover:theme-bg-tertiary transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-gradient-to-r from-primary-100 to-primary-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(H,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"hidden lg:block text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold theme-text truncate max-w-32",children:d?.full_name||"Admin User"}),e.jsxs("div",{className:"text-xs theme-text-muted truncate max-w-32",children:["@",d?.login||"admin"]})]}),e.jsx(Ke,{size:14,className:"hidden lg:block theme-text-muted flex-shrink-0"})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 lg:w-52 theme-bg rounded-xl theme-shadow-lg theme-border border py-2 z-50",ref:b,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b",children:[e.jsx("div",{className:"text-sm font-semibold theme-text truncate",children:d?.full_name||"Admin User"}),e.jsxs("div",{className:"text-xs theme-text-muted truncate",children:["@",d?.login||"admin"," â€¢ ",d?.role||"admin"]})]}),e.jsxs(I,{to:"/",className:"flex items-center space-x-2 px-4 py-3 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-200",onClick:()=>u(!1),children:[e.jsx(U,{size:16}),e.jsx("span",{children:"Saytni ko'rish"})]}),e.jsx("div",{className:"theme-border border-t my-2"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-all duration-200",children:[e.jsx(Ce,{size:16}),e.jsx("span",{children:"Chiqish"})]})]})]})]})]})})},ls=()=>{const[t,d]=m.useState(!1),[n,x]=m.useState(!1),u=pe(),b=_e(),{admin:h,isAuthenticated:c,loading:o,logout:g}=it();return m.useEffect(()=>{d(!1)},[u.pathname]),o?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Admin panel yuklanmoqda..."})]})}):c?e.jsxs("div",{className:"h-screen theme-bg-secondary flex overflow-hidden",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black bg-opacity-50",onClick:()=>d(!1)}),e.jsx(Vt,{isOpen:t,onClose:()=>d(!1),admin:h,currentPath:u.pathname,collapsed:n,onToggleCollapse:()=>x(!n)}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-0 overflow-hidden",children:[e.jsx(Jt,{onMenuClick:()=>d(!0),admin:h,onSignOut:()=>{g(),b("/admin/login")}}),e.jsx("main",{className:"flex-1 p-4 lg:p-6 2xl:p-8 overflow-auto bg-gray-50 dark:bg-gray-900/20",children:e.jsx("div",{className:"max-w-none",children:e.jsx(Ye,{})})})]})]}):(console.log("âŒ Not authenticated, redirecting to login"),b("/admin/login"),null)},ns=({title:t="Revmohelp - Revmatik kasalliklar haqida ishonchli ma'lumot",description:d="Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi. Revmatik kasalliklar haqida eng so'nggi ma'lumotlar va maslahatlar.",keywords:n="revmatik kasalliklar, shifokor, bemor, tibbiy ma'lumot, revmatologiya, salomatlik",image:x="https://images.pexels.com/photos/4021775/pexels-photo-4021775.jpeg?auto=compress&cs=tinysrgb&w=1200",url:u="https://revmohelp.uz",type:b="website",article:h})=>{const{i18n:c}=Y(),o=pe(),g="Revmohelp",p="https://revmohelp.uz",s=o.pathname.replace(/^\/(ru|en)/,""),j=[{lang:"uz",url:`${p}${s}`},{lang:"ru",url:`${p}/ru${s}`},{lang:"en",url:`${p}/en${s}`}],v=(()=>{switch(c.language){case"ru":return{title:t==="Revmohelp"?"Revmohelp":t==="Biz Haqimizda"?"Ðž Ð½Ð°Ñ":t==="Aloqa"?"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹":t==="Maxfiylik Siyosati"?"ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸":t==="Ma'lumotlar Xavfsizligi"?"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ñ…":t==="Foydalanish Shartlari"?"Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ":t==="Tez-tez Beriladigan Savollar"?"Ð§Ð°ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹":t==="Maqolalar"?"Ð¡Ñ‚Ð°Ñ‚ÑŒÐ¸":t==="Shifokorlar"?"Ð’Ñ€Ð°Ñ‡Ð¸":t==="Savol-Javob"?"Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹-Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹":t==="Kirish"?"Ð’Ð¾Ð¹Ñ‚Ð¸":t==="Ro'yxatdan o'tish"?"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ":t==="Profil"?"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ":t,description:c.language==="ru"?"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð²Ñ€Ð°Ñ‡ÐµÐ¹. Ð”Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ….":d};case"en":return{title:t==="Revmohelp"?"Revmohelp":t==="Biz Haqimizda"?"About Us":t==="Aloqa"?"Contact":t==="Maxfiylik Siyosati"?"Privacy Policy":t==="Ma'lumotlar Xavfsizligi"?"Data Security":t==="Foydalanish Shartlari"?"Terms of Use":t==="Tez-tez Beriladigan Savollar"?"FAQ":t==="Maqolalar"?"Articles":t==="Shifokorlar"?"Doctors":t==="Savol-Javob"?"Q&A":t==="Kirish"?"Login":t==="Ro'yxatdan o'tish"?"Register":t==="Profil"?"Profile":t,description:c.language==="en"?"Professional medical information platform for patients and doctors. Reliable information about rheumatic diseases.":d};default:return{title:t,description:d}}})(),C=v.title===g?v.title:`${v.title} | ${g}`;return e.jsxs(ot,{children:[e.jsx("title",{children:C}),e.jsx("meta",{name:"description",content:v.description}),e.jsx("meta",{name:"keywords",content:n}),e.jsx("meta",{name:"author",content:"Revmoinfo Team"}),e.jsx("link",{rel:"canonical",href:u}),j.map(i=>e.jsx("link",{rel:"alternate",hrefLang:i.lang,href:i.url},i.lang)),e.jsx("link",{rel:"alternate",hrefLang:"x-default",href:`${p}${s}`}),e.jsx("meta",{property:"og:title",content:C}),e.jsx("meta",{property:"og:description",content:v.description}),e.jsx("meta",{property:"og:image",content:x}),e.jsx("meta",{property:"og:url",content:u}),e.jsx("meta",{property:"og:type",content:b}),e.jsx("meta",{property:"og:site_name",content:g}),e.jsx("meta",{property:"og:locale",content:`${c.language}_${c.language.toUpperCase()}`}),e.jsx("meta",{property:"og:locale:alternate",content:"ru_RU"}),e.jsx("meta",{property:"og:locale:alternate",content:"uz_UZ"}),e.jsx("meta",{property:"og:locale:alternate",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:C}),e.jsx("meta",{name:"twitter:description",content:v.description}),e.jsx("meta",{name:"twitter:image",content:x}),h&&b==="article"&&e.jsxs(e.Fragment,{children:[e.jsx("meta",{property:"article:author",content:h.author}),h.publishedTime&&e.jsx("meta",{property:"article:published_time",content:h.publishedTime}),h.modifiedTime&&e.jsx("meta",{property:"article:modified_time",content:h.modifiedTime}),h.section&&e.jsx("meta",{property:"article:section",content:h.section}),h.tags?.map(i=>e.jsx("meta",{property:"article:tag",content:i},i))]}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":b==="article"?"Article":"WebSite",name:C,description:v.description,url:u,image:x,inLanguage:c.language,...b==="article"&&h&&{author:{"@type":"Person",name:h.author},datePublished:h.publishedTime,dateModified:h.modifiedTime,articleSection:h.section,keywords:h.tags?.join(", "),inLanguage:c.language},...b==="website"&&{availableLanguage:["uz","ru","en"]},...b==="website"&&{potentialAction:{"@type":"SearchAction",target:`${u}/search?q={search_term_string}`,"query-input":"required name=search_term_string"}}})})]})},Gt=({end:t,duration:d=2e3,start:n=0,delay:x=0,easing:u=b=>b*b*(3-2*b)})=>{const[b,h]=m.useState(n),[c,o]=m.useState(!1),[g,p]=m.useState(!1),s=m.useRef(null);return m.useEffect(()=>{const j=new IntersectionObserver(([y])=>{y.isIntersecting&&!g&&o(!0)},{threshold:.3});return s.current&&j.observe(s.current),()=>j.disconnect()},[g]),m.useEffect(()=>{if(!c||g)return;p(!0);const j=Date.now()+x,y=n,v=t,C=d,i=()=>{const N=Date.now(),q=Math.max(0,N-j),L=Math.min(q/C,1);if(L<1){const a=u(L),f=Math.round(y+(v-y)*a);h(f),requestAnimationFrame(i)}else h(v)};Date.now()>=j?i():setTimeout(i,x)},[c,g,n,t,d,x,u]),{count:b,ref:s}},$=({to:t,preserveLanguage:d=!0,children:n,...x})=>{const{i18n:u}=Y(),b=h=>!d||u.language==="uz"?h:u.language==="ru"||u.language==="en"?`/${u.language}${h}`:h;return e.jsx(I,{to:b(t),...x,children:n})},we=({icon:t,endValue:d,label:n,suffix:x="",delay:u=0})=>{const{count:b,ref:h}=Gt({end:d,duration:2500,delay:u,easing:o=>o*o*(3-2*o)}),c=o=>o>=1e3?(o/1e3).toFixed(o%1e3===0?0:1)+"K":o.toString();return e.jsxs("div",{ref:h,className:"group text-center p-6 theme-bg-secondary backdrop-blur-sm rounded-xl theme-shadow-lg theme-border border hover:theme-shadow-lg transition-all duration-300 hover:scale-105 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-primary-100 rounded-xl mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(t,{size:28,className:"text-white"})}),e.jsxs("div",{className:"text-2xl font-bold theme-text mb-2 tabular-nums",children:[c(b),x]}),e.jsx("div",{className:"theme-text-secondary text-sm font-medium",children:n})]})},is=()=>{const{t,i18n:d}=Y(),{isAuthenticated:n}=ye(),[x,u]=m.useState(null),[b,h]=m.useState(!0);m.useEffect(()=>{c()},[d.language]);const c=async()=>{try{const{data:v}=await ct("hero",d.language);v&&u(v)}catch(v){console.error("Error loading homepage settings:",v)}finally{h(!1)}},g=(()=>{switch(d.language){case"ru":return{title:"Ð”Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…",subtitle_authenticated:"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð²Ñ€Ð°Ñ‡ÐµÐ¹",subtitle_unauthenticated:"Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",stats:{articles:{value:500,label:"ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ Ð¡Ñ‚Ð°Ñ‚ÑŒÐ¸",suffix:"+"},doctors:{value:50,label:"Ð’Ñ€Ð°Ñ‡Ð¸-Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹",suffix:"+"},patients:{value:1e4,label:"ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ð»Ð¸ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",suffix:"+"}}};case"en":return{title:"Reliable information about rheumatic diseases",subtitle_authenticated:"Professional medical information platform for patients and doctors",subtitle_unauthenticated:"If you are a patient, register and get professional advice",stats:{articles:{value:500,label:"Medical Articles",suffix:"+"},doctors:{value:50,label:"Expert Doctors",suffix:"+"},patients:{value:1e4,label:"Patients Helped",suffix:"+"}}};default:return{title:"Revmatik kasalliklar haqida ishonchli ma'lumot",subtitle_authenticated:"Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi",subtitle_unauthenticated:"Agar bemor bo'lsangiz, ro'yxatdan o'ting va professional maslahat oling",stats:{articles:{value:500,label:"Tibbiy Maqolalar",suffix:"+"},doctors:{value:50,label:"Ekspert Shifokorlar",suffix:"+"},patients:{value:1e4,label:"Yordam Berilgan Bemorlar",suffix:"+"}}}}})(),p=x?.title||g.title,s=x?.subtitle_authenticated||g.subtitle_authenticated,j=x?.subtitle_unauthenticated||g.subtitle_unauthenticated,y=x?.stats||g.stats;return e.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden theme-bg",children:[e.jsx("div",{className:"absolute inset-0 theme-bg"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 opacity-20 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-200 opacity-15 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-200 opacity-10 rounded-full blur-2xl animate-pulse-slow"}),e.jsx("div",{className:"absolute top-20 right-20 opacity-10",children:e.jsx(U,{size:48,className:"theme-accent animate-float"})}),e.jsx("div",{className:"absolute bottom-20 left-20 opacity-10",children:e.jsx(ie,{size:40,className:"text-red-500 animate-pulse-slow"})}),e.jsx("div",{className:"absolute top-1/3 left-16 opacity-8",children:e.jsx(te,{size:36,className:"theme-accent-secondary animate-float",style:{animationDelay:"1s"}})}),e.jsx("div",{className:"absolute bottom-1/3 right-16 opacity-8",children:e.jsx(W,{size:32,className:"text-green-600 animate-float",style:{animationDelay:"3s"}})}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--accent-primary) 1px, transparent 0)",backgroundSize:"40px 40px"}})})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 z-10",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-bg-secondary backdrop-blur-sm rounded-full px-6 py-3 mb-8 animate-fade-in hover:scale-105 transition-all duration-300 theme-shadow-lg theme-border border",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx(U,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium border border-secondary-500 rounded px-1",children:"Professional Medical Platform"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-8 animate-fade-in theme-text leading-tight",children:p}),n?e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:s}):e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:j}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-20 animate-slide-up delay-300",children:n?e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/posts",className:"group bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(ue,{size:20}),e.jsx("span",{children:t("readArticles")}),e.jsx(V,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs($,{to:"/qa",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(G,{size:20}),e.jsx("span",{children:t("askQuestionBtn")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/register",className:"group bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(J,{size:20}),e.jsx("span",{children:t("register")}),e.jsx(V,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs($,{to:"/posts",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(ue,{size:20}),e.jsx("span",{children:t("viewArticles")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto animate-fade-in delay-500",children:[e.jsx(we,{icon:ue,endValue:y.articles.value,label:y.articles.label,suffix:y.articles.suffix,delay:0}),e.jsx(we,{icon:U,endValue:y.doctors.value,label:y.doctors.label,suffix:y.doctors.suffix,delay:300}),e.jsx(we,{icon:fe,endValue:y.patients.value,label:y.patients.label,suffix:y.patients.suffix,delay:600})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap items-center justify-center space-x-8 opacity-60 animate-fade-in delay-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(W,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Tasdiqlangan Tibbiy Kontent"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(ie,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Bemorga Yo'naltirilgan G'amxo'rlik"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(te,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Real Vaqt Yangilanishlari"})]})]})]})})]})},os=({posts:t=[]})=>{const{t:d,i18n:n}=Y(),[x,u]=m.useState({}),[b,h]=m.useState(!1);m.useEffect(()=>{t.length>0&&!b&&c()},[t]);const c=async()=>{try{const s=`post_comments_count_${t.map(N=>N.id).join(",")}`,j=localStorage.getItem(s),y=localStorage.getItem(`${s}_timestamp`);if(j&&y&&Date.now()-parseInt(y)<120*1e3){u(JSON.parse(j)),h(!0),console.log("ðŸ“¦ Using cached post comments count");return}const v=t.map(async N=>{const{data:q}=await Qe(N.id);return{postId:N.id,count:q?.length||0}}),i=(await Promise.all(v)).reduce((N,{postId:q,count:L})=>(N[q]=L,N),{});u(i),localStorage.setItem(s,JSON.stringify(i)),localStorage.setItem(`${s}_timestamp`,Date.now().toString()),h(!0)}catch(s){console.error("Error loading comments count:",s)}},o=[],g=t.length>0?t:o,p=s=>{const y={uz:"uz-UZ",ru:"ru-RU",en:"en-US"}[n.language]||"uz-UZ";return new Date(s).toLocaleDateString(y,{year:"numeric",month:"long",day:"numeric"})};return e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:d("latestPosts")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:"Revmatik kasalliklar bo'yicha eng so'nggi maqolalar va maslahatlar"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:g.slice(0,3).map((s,j)=>e.jsx(I,{to:`/posts/${s.slug}`,className:"group block",style:{animationDelay:`${j*100}ms`},children:e.jsxs("article",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in group-hover:scale-[1.02] h-full flex flex-col hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[16/9]",children:[s.featured_image_url?e.jsx("img",{src:s.featured_image_url,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"}):s.youtube_url?e.jsx("div",{className:"relative w-full h-full",children:e.jsx("img",{src:`https://img.youtube.com/vi/${s.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onError:y=>{const v=y.target;v.src=`https://img.youtube.com/vi/${s.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}})}):e.jsx("div",{className:"w-full h-full theme-bg-secondary dark:from-blue-900/20 dark:to-teal-900/20 flex items-center justify-center group-hover:from-blue-100 group-hover:to-teal-100 dark:group-hover:from-blue-900/30 dark:group-hover:to-teal-900/30 transition-all duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{size:56,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300 opacity-60"}),e.jsx("p",{className:"theme-text-muted text-lg font-medium",children:"Matn Maqolasi"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.category&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 text-xs font-bold text-white rounded-full shadow-lg backdrop-blur-sm",style:{backgroundColor:s.category.color},children:s.category.name})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full shadow-lg ${s.youtube_url?"bg-red-500 text-white":s.featured_image_url?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:s.youtube_url?"Video":s.featured_image_url?"Rasm":"Matn"})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(le,{size:12,className:"text-gray-600"}),e.jsxs("span",{className:"text-xs font-medium theme-text",children:[Math.ceil(s.content.length/1e3)," daqiqa"]})]})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(oe,{size:12,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-bold theme-text",children:(s.views_count||0).toLocaleString()})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"theme-bg-secondary/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"theme-text font-semibold flex items-center space-x-2",children:[e.jsx(V,{size:16}),e.jsx("span",{children:"Batafsil o'qish"})]})})})]}),e.jsxs("div",{className:"p-6 space-y-4 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(H,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:s.author?.full_name}),s.author?.role==="doctor"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-bold",children:"Dr"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(ae,{size:10}),e.jsx("span",{children:p(s.published_at||s.created_at)})]})]})]}),e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300 leading-tight",children:s.title}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.tags.slice(0,3).map(y=>e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0 hover:opacity-90 transition-colors duration-200",children:["#",y]},y)),s.tags.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0",children:["+",s.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border mt-auto",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(oe,{size:14}),e.jsx("span",{className:"font-medium",children:(s.views_count||0).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(J,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*20)," sharh"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ie,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*50)," yoqdi"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 theme-accent group-hover:theme-accent-secondary font-medium transition-colors duration-200",children:[e.jsx("span",{className:"text-sm",children:"O'qish"}),e.jsx(V,{size:14,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})},s.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(I,{to:"/posts",className:"inline-flex items-center space-x-2 bg-[#62B6CB] text-white px-8 py-4 rounded-lg font-semibold hover:bg-[#5FA8D3] transition-colors duration-300 transform hover:scale-105",children:[e.jsx("span",{children:d("viewAll")}),e.jsx(V,{size:20})]})})]})})},cs=({doctors:t=[]})=>{const{t:d}=Y(),{i18n:n}=Y(),[x,u]=m.useState([]),[b,h]=m.useState({}),[c,o]=m.useState({}),[g,p]=m.useState(!0),[s,j]=m.useState(!1);m.useEffect(()=>{y()},[n.language]);const y=async()=>{try{p(!0),console.log("ðŸ” Loading featured doctors...");const f=`featured_doctors_${n.language}`,S=Ue.get(f);if(S&&typeof S=="object"&&"doctors"in S){u(S.doctors),h(S.ratings),o(S.comments),j(!0),p(!1),console.log("ðŸ“¦ Using cached featured doctors data");return}const{data:E,error:l}=await Xe(n.language,{active:!0,verified:!0,limit:4});if(E){console.log("âœ… Featured doctors loaded:",E.length),u(E);const B=E.map(async M=>{const[z,_]=await Promise.all([dt(M.id),mt(M.id,{approved:!0})]);return{doctorId:M.id,stats:z,commentsCount:_.data?.length||0}}),w=await Promise.all(B),T=w.reduce((M,{doctorId:z,stats:_})=>(M[z]={averageRating:_.averageRating,totalReviews:_.totalReviews},M),{}),K=w.reduce((M,{doctorId:z,commentsCount:_})=>(M[z]=_,M),{});h(T),o(K);const X={doctors:E,ratings:T,comments:K};Ue.set(f,X,180*1e3),j(!0)}else l&&console.log("âŒ Error loading featured doctors:",l)}catch(f){console.error("Error loading doctors:",f)}finally{p(!1)}},v=[],C=x.length>0?x:t.length>0?t:v,i=f=>{switch(n.language){case"ru":return`${f} Ð»ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°`;case"en":return`${f} years experience`;default:return`${f} yil tajriba`}},N=f=>{switch(n.language){case"ru":return`${f} Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²`;case"en":return`${f} reviews`;default:return`${f} sharh`}},q=n.language==="ru"?"Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹:":n.language==="en"?"Certificates:":"Sertifikatlar:",L=n.language==="ru"?"ÐµÑ‰Ñ‘":n.language==="en"?"more":"ko'proq",a=n.language==="ru"?"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ":n.language==="en"?"View profile":"Profil ko'rish";return g?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})})}):e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:d("ourDoctors")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:d("experiencedDoctorsHelp")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:C.slice(0,3).map((f,S)=>e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in h-full flex flex-col group hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{animationDelay:`${S*100}ms`,boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:f.avatar_url||"https://images.pexels.com/photos/559829/pexels-photo-559829.jpeg?auto=compress&cs=tinysrgb&w=400",alt:f.full_name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),f.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(Ve,{size:16})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(be,{size:14,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:b[f.id]?.averageRating?.toFixed(1)||"4.9"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"text-gray-900 font-semibold flex items-center space-x-2",children:[e.jsx(V,{size:16}),e.jsx("span",{children:a})]})})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-200",children:e.jsx(I,{to:`/doctors/${f.id}`,className:"hover:theme-accent transition-colors duration-200",children:f.full_name})}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:f.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3",children:f.bio}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{size:14}),e.jsx("span",{children:i(f.experience_years)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(be,{size:14,className:"text-yellow-500"}),e.jsxs("span",{children:[b[f.id]?.averageRating?.toFixed(1)||"4.9","(",N(b[f.id]?.totalReviews??c[f.id]??0),")"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-2",children:q}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.certificates?.slice(0,2).map((E,l)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:E},l)),f.certificates&&f.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",f.certificates.length-2," ",L]})]})]})]})]},f.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(I,{to:"/doctors",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx("span",{children:d("viewAllDoctors")}),e.jsx(V,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]})})},ds=()=>{const{t,i18n:d}=Y(),n=d.language,[x,u]=m.useState([]),[b,h]=m.useState(!0);m.useEffect(()=>{c()},[d.language]);const c=async()=>{h(!0);try{const{data:s}=await xt(d.language,{active:!0,featured:!0});s&&u(s)}catch(s){console.error("Error loading diseases:",s)}finally{h(!1)}},o=s=>{const j=[ie,te,U,F,W,ht];return j[s%j.length]},g=s=>{const j=["from-red-500 to-pink-500","from-blue-500 to-indigo-500","from-green-500 to-teal-500","from-purple-500 to-violet-500","from-orange-500 to-amber-500","from-cyan-500 to-blue-500"];return j[s%j.length]},p=s=>{const j=["bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800","bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800","bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800","bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800","bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800","bg-cyan-50 dark:bg-cyan-900/20 border-cyan-200 dark:border-cyan-800"];return j[s%j.length]};return b?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kasalliklar yuklanmoqda..."})]})})}):x.length===0?null:e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(te,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium",children:t("medicalConditions")})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-6",children:t("rheumaticDiseases")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:n==="ru"?"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…. Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹, Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸Ñ.":n==="en"?"Get detailed information about the most common rheumatic diseases. Symptoms, treatment methods and preventive measures for each disease.":"Eng keng tarqalgan revmatik kasalliklar haqida batafsil ma'lumot oling. Har bir kasallik uchun belgilar, davolash usullari va profilaktika choralari."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:x.map((s,j)=>{const y=o(j),v=g(j),C=p(j);return e.jsx($,{to:`/diseases/${s.slug}`,className:"group block animate-fade-in transform hover:scale-105 transition-all duration-300",style:{animationDelay:`${j*150}ms`},children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 ${C} p-6 h-full hover:shadow-xl transition-all duration-500 group-hover:-translate-y-2`,style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20px 20px, currentColor 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${v} rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300 animate-pulse-medical`,children:e.jsx(y,{size:28,className:"text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Oe,{size:14,className:"text-gray-600"})})]}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-3 group-hover:theme-accent transition-colors duration-300 leading-tight",children:s.name}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.description}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs theme-text-secondary mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{size:12}),e.jsxs("span",{children:[s.symptoms?.length||0," ",t("symptoms")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(U,{size:12}),e.jsxs("span",{children:[s.treatment_methods?.length||0," ",t("methods")]})]})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-text font-medium text-sm",children:[e.jsx(ue,{size:14}),e.jsx("span",{children:t("detailedInfo")}),e.jsx(V,{size:12,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${v} opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-2xl`})]})},s.id)})}),e.jsx("div",{className:"text-center animate-fade-in delay-700",children:e.jsxs($,{to:"/diseases",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx(te,{size:20}),e.jsx("span",{children:t("allDiseases")}),e.jsx(V,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})}),e.jsx("div",{className:"mt-16 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl animate-fade-in delay-1000",children:e.jsxs("div",{className:"flex items-center space-x-3 text-black dark:text-black",children:[e.jsx(W,{size:20,className:"flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:t("medicalWarning")}),e.jsx("p",{className:"text-sm",children:t("medicalWarningText")})]})]})})]})})},ms=({searchTerm:t,selectedRole:d,selectedProvider:n,onSearchChange:x,onRoleChange:u,onProviderChange:b,userCounts:h})=>{const c=[{value:"all",label:"Barcha rollar",count:h.total},{value:"admin",label:"Admin",count:h.byRole.admin||0},{value:"moderator",label:"Moderator",count:h.byRole.moderator||0},{value:"doctor",label:"Shifokor",count:h.byRole.doctor||0},{value:"patient",label:"Bemor",count:h.byRole.patient||0}],o=[{value:"all",label:"Barcha providerlar",count:h.total},{value:"email",label:"Email",count:h.byProvider.email||0},{value:"google",label:"Google",count:h.byProvider.google||0}];return e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Foydalanuvchilarni qidiring...",value:t,onChange:g=>x(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 theme-text"})]})}),e.jsx("div",{className:"lg:w-56",children:e.jsxs("div",{className:"relative",children:[e.jsx(fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{value:d,onChange:g=>u(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none theme-text",children:c.map(g=>e.jsxs("option",{value:g.value,children:[g.label," (",g.count,")"]},g.value))})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{value:n,onChange:g=>b(g.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none theme-text",children:o.map(g=>e.jsxs("option",{value:g.value,children:[g.label," (",g.count,")"]},g.value))})]})})]})})},xs=({searchTerm:t,selectedRole:d,selectedProvider:n})=>{const[x,u]=m.useState([]),[b,h]=m.useState([]),[c,o]=m.useState(!0),[g,p]=m.useState(null),[s,j]=m.useState({type:"",text:""});m.useEffect(()=>{y()},[]);const y=async()=>{o(!0);try{const[a,f]=await Promise.all([ut(),bt()]);a.data&&u(a.data),f.data&&h(f.data)}catch(a){console.error("Error loading users:",a),j({type:"error",text:"Foydalanuvchilarni yuklashda xatolik"})}finally{o(!1)}},v=async(a,f)=>{if(confirm(`${f} foydalanuvchisini o'chirishni xohlaysizmi?`)){p(a),j({type:"",text:""});try{const{error:S}=await gt(a);S?j({type:"error",text:S.message}):(j({type:"success",text:"Foydalanuvchi muvaffaqiyatli o'chirildi!"}),await y())}catch{j({type:"error",text:"Xatolik yuz berdi"})}finally{p(null)}}},i=x.map(a=>{const f=b.find(S=>S.id===a.id);return{...a,profile:f,full_name:f?.full_name||a.user_metadata?.full_name||a.user_metadata?.name||a.email?.split("@")[0]||"User",role:f?.role||a.user_metadata?.role||"patient",phone:f?.phone||a.user_metadata?.phone||a.phone,avatar_url:f?.avatar_url||a.user_metadata?.avatar_url||a.user_metadata?.picture}}).filter(a=>{const f=a.full_name.toLowerCase().includes(t.toLowerCase())||a.email.toLowerCase().includes(t.toLowerCase()),S=d==="all"||a.role===d,E=n==="all"||a.app_metadata?.provider===n;return f&&S&&E}),N=a=>{switch(a){case"admin":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case"moderator":return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200";case"doctor":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"patient":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}},q=a=>{switch(a){case"google":return e.jsx("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})});case"email":return e.jsx(xe,{size:16,className:"text-blue-600"});default:return e.jsx(W,{size:16,className:"text-gray-600"})}},L=a=>new Date(a).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return c?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Foydalanuvchilar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[s.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${s.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[s.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:s.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:s.text})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y theme-border",children:[e.jsx("thead",{className:"theme-bg-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Foydalanuvchi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Telefon"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Oxirgi kirish"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Holat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Amallar"})]})}),e.jsx("tbody",{className:"theme-bg divide-y theme-border",children:i.map(a=>e.jsxs("tr",{className:"hover:theme-bg-tertiary transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:a.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"theme-accent font-medium text-sm",children:a.full_name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium theme-text",children:a.full_name}),e.jsx("div",{className:"text-sm theme-text-muted",children:a.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${N(a.role)}`,children:a.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[q(a.app_metadata?.provider||"email"),e.jsx("span",{className:"text-sm theme-text capitalize",children:a.app_metadata?.provider||"email"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text",children:a.phone||"Kiritilmagan"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text-muted",children:a.last_sign_in_at?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(le,{size:14}),e.jsx("span",{children:L(a.last_sign_in_at)})]}):"Hech qachon"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${a.email_confirmed_at?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"}`,children:a.email_confirmed_at?"Tasdiqlangan":"Tasdiqlanmagan"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"theme-accent hover:text-blue-900 dark:hover:text-blue-300 p-1 rounded",children:e.jsx(je,{size:16})}),e.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 p-1 rounded",children:e.jsx(oe,{size:16})}),e.jsx("button",{onClick:()=>v(a.id,a.full_name),disabled:g===a.id,className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 p-1 rounded disabled:opacity-50",children:g===a.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(me,{size:16})})]})})]},a.id))})]})})}),i.length===0&&!c&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(ce,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Foydalanuvchi topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm theme-text-secondary",children:[i.length," ta foydalanuvchi ko'rsatilmoqda"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-4 py-2 theme-border border rounded-lg hover:theme-bg-tertiary transition-colors duration-200 theme-text-secondary",children:"Oldingi"}),e.jsx("button",{className:"px-4 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"1"}),e.jsx("button",{className:"px-4 py-2 theme-border border rounded-lg hover:theme-bg-tertiary transition-colors duration-200 theme-text-secondary",children:"Keyingi"})]})]})]})},hs=({stats:t})=>{const d=[{name:"Jami Foydalanuvchilar",value:t.total.toLocaleString(),icon:fe,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Tasdiqlangan",value:t.confirmed.toLocaleString(),icon:pt,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Email Foydalanuvchilar",value:t.emailUsers.toLocaleString(),icon:xe,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Google Foydalanuvchilar",value:t.googleUsers.toLocaleString(),icon:qe,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Oxirgi 7 kun",value:t.recentSignups.toLocaleString(),icon:le,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Tasdiqlanmagan",value:t.unconfirmed.toLocaleString(),icon:W,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"}];return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:d.map(n=>{const x=n.icon;return e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:`p-2 rounded-lg ${n.bgColor}`,children:e.jsx(x,{size:20,className:n.textColor})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold theme-text mb-1",children:n.value}),e.jsx("p",{className:"text-xs theme-text-secondary",children:n.name})]})]},n.name)})})},us=({searchTerm:t,selectedStatus:d})=>{const[n,x]=m.useState([]),[u,b]=m.useState(!0),[h,c]=m.useState(null),[o,g]=m.useState(null),[p,s]=m.useState({type:"",text:""});m.useEffect(()=>{j()},[]);const j=async()=>{b(!0);try{const{data:a}=await ft();a&&x(a)}catch(a){console.error("Error loading consultation requests:",a),s({type:"error",text:"Maslahat so'rovlarini yuklashda xatolik"})}finally{b(!1)}},y=async(a,f)=>{c(a),s({type:"",text:""});try{const{error:S}=await jt({id:a,status:f});S?s({type:"error",text:S.message}):(s({type:"success",text:"Holat muvaffaqiyatli yangilandi!"}),await j())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{c(null)}},v=async(a,f)=>{if(confirm(`${f}ning so'rovini o'chirishni xohlaysizmi?`)){g(a),s({type:"",text:""});try{const{error:S}=await yt(a);S?s({type:"error",text:S.message}):(s({type:"success",text:"So'rov muvaffaqiyatli o'chirildi!"}),await j())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{g(null)}}},C=n.filter(a=>{const f=a.first_name.toLowerCase().includes(t.toLowerCase())||a.last_name.toLowerCase().includes(t.toLowerCase())||a.disease_type.toLowerCase().includes(t.toLowerCase())||a.phone.includes(t),S=d==="all"||a.status===d;return f&&S}),i=a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"contacted":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=a=>{switch(a){case"pending":return le;case"contacted":return se;case"completed":return D;case"cancelled":return Be;default:return F}},q=a=>{switch(a){case"pending":return"Kutilmoqda";case"contacted":return"Bog'lanildi";case"completed":return"Yakunlandi";case"cancelled":return"Bekor qilindi";default:return"Noma'lum"}},L=a=>new Date(a).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return u?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maslahat so'rovlari yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[p.type==="success"?e.jsx(D,{size:20,className:"text-green-600"}):e.jsx(F,{size:20,className:"text-red-600"}),e.jsx("span",{className:p.type==="success"?"text-green-700":"text-red-700",children:p.text})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y theme-border",children:[e.jsx("thead",{className:"theme-bg-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Bemor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Kasallik"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Telefon"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Holat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"So'ralgan vaqt"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Amallar"})]})}),e.jsx("tbody",{className:"theme-bg divide-y theme-border",children:C.map(a=>{const f=N(a.status);return e.jsxs("tr",{className:"hover:theme-bg-tertiary transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(H,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium theme-text",children:[a.first_name," ",a.last_name]}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[a.age," yosh"]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm theme-text",children:a.disease_type}),a.comments&&e.jsx("div",{className:"text-xs theme-text-muted line-clamp-2 max-w-48",children:a.comments})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{size:14,className:"theme-text-muted"}),e.jsx("a",{href:`tel:${a.phone}`,className:"text-sm theme-accent hover:text-primary-700 transition-colors duration-200",children:a.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(f,{size:16,className:a.status==="pending"?"text-yellow-600":a.status==="contacted"?"text-blue-600":a.status==="completed"?"text-green-600":"text-red-600"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${i(a.status)}`,children:q(a.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text-muted",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{size:14}),e.jsx("span",{children:L(a.created_at)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("select",{value:a.status,onChange:S=>y(a.id,S.target.value),disabled:h===a.id,className:"text-xs px-2 py-1 theme-border border rounded theme-bg theme-text disabled:opacity-50",children:[e.jsx("option",{value:"pending",children:"Kutilmoqda"}),e.jsx("option",{value:"contacted",children:"Bog'lanildi"}),e.jsx("option",{value:"completed",children:"Yakunlandi"}),e.jsx("option",{value:"cancelled",children:"Bekor qilindi"})]}),e.jsx("a",{href:`tel:${a.phone}`,className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Qo'ng'iroq qilish",children:e.jsx(se,{size:16})}),e.jsx("button",{onClick:()=>v(a.id,`${a.first_name} ${a.last_name}`),disabled:o===a.id,className:"text-red-600 hover:text-red-900 p-1 rounded disabled:opacity-50",title:"O'chirish",children:o===a.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(me,{size:16})})]})})]},a.id)})})]})})}),C.length===0&&!u&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(J,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Maslahat so'rovi topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]})]})},bs=({stats:t})=>{const d=[{name:"Jami So'rovlar",value:t.total.toLocaleString(),icon:J,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Kutilmoqda",value:t.pending.toLocaleString(),icon:le,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Bog'lanildi",value:t.contacted.toLocaleString(),icon:se,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Yakunlandi",value:t.completed.toLocaleString(),icon:D,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Bekor qilindi",value:t.cancelled.toLocaleString(),icon:Be,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Oxirgi 7 kun",value:t.recent.toLocaleString(),icon:vt,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"}];return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:d.map(n=>{const x=n.icon;return e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:`p-2 rounded-lg ${n.bgColor}`,children:e.jsx(x,{size:20,className:n.textColor})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold theme-text mb-1",children:n.value}),e.jsx("p",{className:"text-xs theme-text-secondary",children:n.name})]})]},n.name)})})},gs=({onCategoriesChange:t,triggerCreateModal:d,onModalClosed:n})=>{const[x,u]=m.useState([]),[b,h]=m.useState(!0),[c,o]=m.useState(!1),[g,p]=m.useState(!1),[s,j]=m.useState(null),[y,v]=m.useState(!1),[C,i]=m.useState(null),[N,q]=m.useState({type:"",text:""}),[L,a]=m.useState({name:"",slug:"",description:"",color:"#62B6CB"}),f=["#62B6CB","#5FA8D3","#1B4965","#BEE9E8","#CAE9FF","#62B6CB","#1B4965","#BEE9E8","#5FA8D3","#CAE9FF","#62B6CB","#1B4965"];m.useEffect(()=>{S()},[]),m.useEffect(()=>{d&&(o(!0),n?.())},[d,n]);const S=async()=>{h(!0);try{const{data:z}=await Nt();z&&u(z)}catch{q({type:"error",text:"Kategoriyalarni yuklashda xatolik"})}finally{h(!1)}},E=z=>{const{name:_,value:A}=z.target;a(ve=>({...ve,[_]:A})),N.text&&q({type:"",text:""})};m.useEffect(()=>{if(L.name&&!s){const z=L.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();a(_=>({..._,slug:z}))}},[L.name,s]);const l=()=>{a({name:"",slug:"",description:"",color:"#62B6CB"}),j(null)},B=z=>{a({name:z.name,slug:z.slug,description:z.description||"",color:z.color}),j(z),p(!0)},w=()=>{o(!1),p(!1),l(),q({type:"",text:""})},T=async()=>{if(!L.name.trim())return q({type:"error",text:"Kategoriya nomi kiritilishi shart"}),!1;if(!L.slug.trim())return q({type:"error",text:"URL slug kiritilishi shart"}),!1;const{isUnique:z}=await St(L.slug,s?.id);return z?!0:(q({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa nom yozing yoki URL ni o'zgartiring."}),!1)},K=async z=>{if(z.preventDefault(),!!await T()){v(!0),q({type:"",text:""});try{const{data:_,error:A}=await zt(L);A?q({type:"error",text:"Xatolik: "+A.message}):(q({type:"success",text:"Kategoriya muvaffaqiyatli yaratildi!"}),await S(),t?.(),setTimeout(()=>{w()},1500))}catch{q({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{v(!1)}}},X=async z=>{if(z.preventDefault(),!(!s||!await T())){v(!0),q({type:"",text:""});try{const{data:_,error:A}=await Ct({id:s.id,...L});A?q({type:"error",text:"Xatolik: "+A.message}):(q({type:"success",text:"Kategoriya muvaffaqiyatli yangilandi!"}),await S(),t?.(),setTimeout(()=>{w()},1500))}catch{q({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{v(!1)}}},M=async(z,_)=>{if(confirm(`"${_}" kategoriyasini o'chirishni xohlaysizmi? Bu kategoriyaga tegishli barcha maqolalar kategoriyasiz qoladi.`)){i(z),q({type:"",text:""});try{const{error:A}=await kt(z);A?q({type:"error",text:A.message}):(q({type:"success",text:"Kategoriya muvaffaqiyatli o'chirildi!"}),await S(),t?.())}catch{q({type:"error",text:"Xatolik yuz berdi"})}finally{i(null)}}};return b?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"theme-text-muted text-sm",children:"Kategoriyalar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[N.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 animate-slide-down ${N.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[N.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${N.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:N.text})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(z=>e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow hover:theme-shadow-lg transition-all duration-300 theme-border border p-4 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:z.color},children:e.jsx(wt,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold theme-text",children:z.name}),e.jsxs("p",{className:"text-xs theme-text-muted",children:["/",z.slug]})]})]}),e.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:()=>B(z),className:"p-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 rounded",title:"Tahrirlash",children:e.jsx(je,{size:14})}),e.jsx("button",{onClick:()=>M(z.id,z.name),disabled:C===z.id,className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded disabled:opacity-50",title:"O'chirish",children:C===z.id?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}):e.jsx(me,{size:14})})]})]}),z.description&&e.jsx("p",{className:"theme-text-secondary text-sm line-clamp-2",children:z.description})]},z.id))}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Kategoriya"}),e.jsx("button",{onClick:w,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(P,{size:20})})]}),e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[N.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${N.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[N.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${N.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:N.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kategoriya nomi *"}),e.jsx("input",{type:"text",name:"name",value:L.name,onChange:E,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Kategoriya nomi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug *"}),e.jsx("input",{type:"text",name:"slug",value:L.slug,onChange:E,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"url-slug"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tavsif"}),e.jsx("textarea",{name:"description",value:L.description,onChange:E,rows:2,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Kategoriya haqida qisqacha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Rang"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map(z=>e.jsx("button",{type:"button",onClick:()=>a(_=>({..._,color:z})),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 ${L.color===z?"border-gray-400 scale-110":"border-gray-200 hover:scale-105"}`,style:{backgroundColor:z}},z))}),e.jsx("input",{type:"color",name:"color",value:L.color,onChange:E,className:"w-full h-10 rounded-lg border theme-border cursor-pointer"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:w,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:y?"Yaratilmoqda...":"Yaratish"})]})]})]})}),g&&s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Kategoriyani Tahrirlash"}),e.jsx("button",{onClick:w,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(P,{size:20})})]}),e.jsxs("form",{onSubmit:X,className:"space-y-4",children:[N.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${N.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[N.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${N.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:N.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kategoriya nomi *"}),e.jsx("input",{type:"text",name:"name",value:L.name,onChange:E,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug *"}),e.jsx("input",{type:"text",name:"slug",value:L.slug,onChange:E,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tavsif"}),e.jsx("textarea",{name:"description",value:L.description,onChange:E,rows:2,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Rang"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:f.map(z=>e.jsx("button",{type:"button",onClick:()=>a(_=>({..._,color:z})),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 ${L.color===z?"border-gray-400 scale-110":"border-gray-200 hover:scale-105"}`,style:{backgroundColor:z}},z))}),e.jsx("input",{type:"color",name:"color",value:L.color,onChange:E,className:"w-full h-10 rounded-lg border theme-border cursor-pointer"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:w,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:y,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:y?"Saqlanmoqda...":"Saqlash"})]})]})]})})]})},ps=({formData:t,onInputChange:d,onFormDataChange:n})=>{const[x,u]=m.useState("uz"),[b,h]=m.useState(null),c=p=>{const s=p.target.files?.[0];if(s){if(s.size>5*1024*1024){alert("Rasm hajmi 5MB dan kichik bo'lishi kerak");return}d("featured_image",s);const j=new FileReader;j.onload=()=>h(j.result),j.readAsDataURL(s)}},o=()=>{d("featured_image",void 0),h(null)},g=p=>{const s=document.getElementById(`content-editor-${x}`);if(!s)return;const j=s.selectionStart,y=s.selectionEnd,v=s.value.substring(j,y);let C="";switch(p){case"bold":C=`**${v||"qalin matn"}**`;break;case"italic":C=`*${v||"qiya matn"}*`;break;case"h1":C=`# ${v||"Sarlavha 1"}`;break;case"h2":C=`## ${v||"Sarlavha 2"}`;break;case"h3":C=`### ${v||"Sarlavha 3"}`;break;case"ul":C=`- ${v||"Ro'yxat elementi"}`;break;case"ol":C=`1. ${v||"Raqamlangan ro'yxat"}`;break}const i=x==="uz"?t.content:t.translations[x].content,N=i.substring(0,j)+C+i.substring(y);x==="uz"?d("content",N):n(q=>({...q,translations:{...q.translations,[x]:{...q.translations[x],content:N}}})),setTimeout(()=>{s.focus(),s.setSelectionRange(j+C.length,j+C.length)},0)};return e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Maqola Sarlavhasi"}),e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasini kiriting",value:t.title,onChange:p=>d("title",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-lg font-medium"})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Maqola Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:de,label:"Matn Maqolasi"},{type:"image",icon:Je,label:"Rasm Maqolasi"},{type:"video",icon:Ge,label:"Video Maqolasi"}].map(({type:p,icon:s,label:j})=>e.jsxs("button",{onClick:()=>d("post_type",p),className:`p-4 border-2 rounded-lg transition-all duration-200 ${t.post_type===p?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(s,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:j})]},p))})]}),(t.post_type==="image"||t.post_type==="video")&&e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6 animate-fade-in",children:[t.post_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Asosiy Rasm"}),b?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:b,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{onClick:o,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(P,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ge,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:c})]})]}),t.post_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t.youtube_url||"",onChange:p=>d("youtube_url",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 space-y-4 lg:space-y-0",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Maqola Matni"}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}].map(p=>e.jsxs("button",{type:"button",onClick:()=>u(p.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${x===p.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:p.flag}),e.jsx("span",{className:"hidden sm:inline",children:p.label})]},p.code))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1 lg:gap-2 mb-4 p-3 theme-bg-tertiary rounded-lg overflow-x-auto",children:[e.jsx("button",{type:"button",onClick:()=>g("bold"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Qalin",children:e.jsx(_t,{size:16})}),e.jsx("button",{type:"button",onClick:()=>g("italic"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Qiya",children:e.jsx(qt,{size:16})}),e.jsx("div",{className:"w-px h-6 theme-border"}),e.jsx("button",{type:"button",onClick:()=>g("h1"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 1",children:e.jsx(Bt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>g("h2"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 2",children:e.jsx($t,{size:16})}),e.jsx("button",{type:"button",onClick:()=>g("h3"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 3",children:e.jsx(Lt,{size:16})}),e.jsx("div",{className:"w-px h-6 theme-border"}),e.jsx("button",{type:"button",onClick:()=>g("ul"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Ro'yxat",children:e.jsx(Et,{size:16})}),e.jsx("button",{type:"button",onClick:()=>g("ol"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Raqamlangan ro'yxat",children:e.jsx(Tt,{size:16})})]}),x==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi (O'zbek)",value:t.title,onChange:p=>d("title",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-uz",rows:12,placeholder:"Tibbiy maqola matnini shu yerga yozing... (O'zbek tilida)",value:t.content,onChange:p=>d("content",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.content.length," belgi"]})]}),x==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ð°Ñ‚ÑŒÐ¸ (Ð ÑƒÑÑÐºÐ¸Ð¹)",value:t.translations.ru.title,onChange:p=>n(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,title:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-ru",rows:12,placeholder:"Ð¢ÐµÐºÑÑ‚ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸... (Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ)",value:t.translations.ru.content,onChange:p=>n(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,content:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.ru.content.length," ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),x==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Article title (English)",value:t.translations.en.title,onChange:p=>n(s=>({...s,translations:{...s.translations,en:{...s.translations.en,title:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-en",rows:12,placeholder:"Medical article content... (in English)",value:t.translations.en.content,onChange:p=>n(s=>({...s,translations:{...s.translations,en:{...s.translations.en,content:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.en.content.length," characters"]})]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:["Qisqacha Mazmun (",x==="uz"?"O'zbek":x==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),x==="uz"&&e.jsx("textarea",{rows:3,placeholder:"Maqolaning qisqacha mazmuni (avtomatik yaratiladi)",value:t.excerpt,onChange:p=>d("excerpt",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"}),x==="ru"&&e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸",value:t.translations.ru.excerpt,onChange:p=>n(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,excerpt:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"}),x==="en"&&e.jsx("textarea",{rows:3,placeholder:"Article excerpt",value:t.translations.en.excerpt,onChange:p=>n(s=>({...s,translations:{...s.translations,en:{...s.translations.en,excerpt:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${t.title&&t.content?"text-green-600":"theme-text-muted"}`,children:t.title&&t.content?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.ru.title&&t.translations.ru.content?"text-green-600":"theme-text-muted"}`,children:t.translations.ru.title&&t.translations.ru.content?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.en.title&&t.translations.en.content?"text-green-600":"theme-text-muted"}`,children:t.translations.en.title&&t.translations.en.content?"Ready":"Not filled"})]})]})]})]})},fs=({formData:t,categories:d,onInputChange:n,onFormDataChange:x})=>{const[u,b]=m.useState(""),h=()=>{u.trim()&&!t.tags.includes(u.trim())&&(n("tags",[...t.tags,u.trim()]),b(""))},c=o=>{n("tags",t.tags.filter(g=>g!==o))};return e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.published,onChange:o=>n("published",o.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("span",{className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]})})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Kategoriya"}),e.jsxs("select",{value:t.category_id,onChange:o=>n("category_id",o.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"",children:"Kategoriya tanlang"}),d.map(o=>e.jsx("option",{value:o.id,children:o.name},o.id))]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Teglar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Teg qo'shish",value:u,onChange:o=>b(o.target.value),onKeyPress:o=>o.key==="Enter"&&(o.preventDefault(),h()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text min-w-0"}),e.jsx("button",{type:"button",onClick:h,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex-shrink-0",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(o=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full animate-fade-in",children:[e.jsx("span",{className:"truncate max-w-20",children:o}),e.jsx("button",{type:"button",onClick:()=>c(o),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200 flex-shrink-0",children:e.jsx(P,{size:12})})]},o))})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Yordamchisi"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:()=>{t.title&&!t.translations.ru.title&&x(o=>({...o,translations:{...o.translations,ru:{...o.translations.ru,title:`[RU] ${t.title}`,content:`[Ð ÑƒÑÑÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´]

${t.content}`,excerpt:`[RU] ${t.excerpt}`,slug:t.slug+"-ru"}}}))},className:"w-full text-left p-3 theme-bg-tertiary rounded-lg hover:theme-bg-quaternary transition-colors duration-200 text-sm",children:"ðŸ‡·ðŸ‡º Rus tiliga shablon yaratish"}),e.jsx("button",{type:"button",onClick:()=>{t.title&&!t.translations.en.title&&x(o=>({...o,translations:{...o.translations,en:{...o.translations.en,title:`[EN] ${t.title}`,content:`[English translation]

${t.content}`,excerpt:`[EN] ${t.excerpt}`,slug:t.slug+"-en"}}}))},className:"w-full text-left p-3 theme-bg-tertiary rounded-lg hover:theme-bg-quaternary transition-colors duration-200 text-sm",children:"ðŸ‡ºðŸ‡¸ Ingliz tiliga shablon yaratish"})]})]})]})},js=({isEditing:t,isSubmitting:d,onBack:n,onPreview:x,onSaveDraft:u,onPublish:b,canPreview:h})=>e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:n,className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(Rt,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold theme-text",children:t?"Maqolani Tahrirlash":"Yangi Maqola Yaratish"}),e.jsx("p",{className:"theme-text-secondary text-sm lg:text-base",children:t?"Mavjud maqolani tahrirlang":"Yangi tibbiy maqola yoki kontent qo'shing"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[e.jsxs("button",{onClick:x,disabled:!h,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-3 lg:px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(oe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Ko'rish"})]}),e.jsxs("button",{onClick:u,disabled:d,className:"flex items-center space-x-2 bg-gray-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(Fe,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Qoralama"})]}),e.jsxs("button",{onClick:b,disabled:d,className:"flex items-center space-x-2 theme-accent-bg text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(Fe,{size:16}),e.jsx("span",{children:d?"Saqlanmoqda...":"Nashr etish"})]})]})]}),ys=()=>{const[t,d]=m.useState([]),[n,x]=m.useState(!0),[u,b]=m.useState(""),[h,c]=m.useState("all"),[o,g]=m.useState(!1),[p,s]=m.useState(!1),[j,y]=m.useState(null),[v,C]=m.useState(null),[i,N]=m.useState(!1),[q,L]=m.useState(null),[a,f]=m.useState({type:"",text:""}),[S,E]=m.useState("uz"),[l,B]=m.useState(null),[w,T]=m.useState({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:0,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),[K,X]=m.useState(""),M=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}];m.useEffect(()=>{z()},[]);const z=async()=>{console.log("ðŸ”„ Loading doctors in DoctorsManagement component"),x(!0);try{const{data:r}=await Xe();console.log("ðŸ“‹ Doctors received in component:",r?.length||0,r?.map(k=>({id:k.id,name:k.full_name,email:k.email}))),r&&d(r)}catch(r){console.log("âŒ Error loading doctors in component:",r),f({type:"error",text:"Shifokorlarni yuklashda xatolik"})}finally{x(!1)}},_=r=>{const{name:k,value:R,type:O}=r.target,ne=O==="checkbox"?r.target.checked:!1;if(k.includes(".")){const[Q,Z]=k.split(".");T(ee=>({...ee,translations:{...ee.translations,[Q]:{...ee.translations[Q],[Z]:R}}}))}else T(Q=>({...Q,[k]:O==="checkbox"?ne:O==="number"?Number(R):R}));a.text&&f({type:"",text:""})},A=()=>{K.trim()&&!w.certificates.includes(K.trim())&&(T(r=>({...r,certificates:[...r.certificates,K.trim()]})),X(""))},ve=r=>{T(k=>({...k,certificates:k.certificates.filter(R=>R!==r)}))},$e=()=>{T({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:0,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),X(""),y(null),C(null),B(null),E("uz")},Le=()=>{$e(),g(!0)},We=r=>{T({full_name:r.full_name,email:r.email,phone:r.phone||"",specialization:r.specialization,experience_years:r.experience_years,bio:r.bio||"",avatar_url:r.avatar_url||"",certificates:r.certificates||[],verified:r.verified,active:r.active,order_index:r.order_index,translations:{ru:{bio:r.translations?.find(k=>k.language==="ru")?.bio||"",specialization:r.translations?.find(k=>k.language==="ru")?.specialization||""},en:{bio:r.translations?.find(k=>k.language==="en")?.bio||"",specialization:r.translations?.find(k=>k.language==="en")?.specialization||""}}}),y(r),C(r.avatar_url||null),B(null),s(!0)},re=()=>{g(!1),s(!1),$e(),f({type:"",text:""})},Ee=r=>{const k=r.target.files?.[0];if(k){if(k.size>5*1024*1024){f({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}B(k);const R=new FileReader;R.onload=()=>{const O=R.result;C(O)},R.readAsDataURL(k)}},Te=()=>{C(null),B(null),T(r=>({...r,avatar_url:""}))},Re=async()=>{if(!w.full_name.trim())return f({type:"error",text:"Shifokor ismi kiritilishi shart"}),!1;if(!w.email.trim())return f({type:"error",text:"Email kiritilishi shart"}),!1;if(!w.specialization.trim())return f({type:"error",text:"Mutaxassislik kiritilishi shart"}),!1;const{isUnique:r}=await Ut(w.email,j?.id);return r?!0:(f({type:"error",text:"Bu email allaqachon mavjud. Boshqa email kiriting."}),!1)},Ze=async r=>{if(r.preventDefault(),!!await Re()){N(!0),f({type:"",text:""});try{let k={...w};if(l){const ne=l.name.split(".").pop(),Q=`${Date.now()}_${Math.random().toString(36).substring(2)}.${ne}`,{error:Z}=await he.storage.from("avatars").upload(`doctors/${Q}`,l);if(Z)throw new Error(`Image upload failed: ${Z.message}`);const{data:ee}=he.storage.from("avatars").getPublicUrl(`doctors/${Q}`);k.avatar_url=ee.publicUrl}const{data:R,error:O}=await Pt(k);O?f({type:"error",text:"Xatolik: "+O.message}):(f({type:"success",text:"Shifokor muvaffaqiyatli yaratildi!"}),await z(),setTimeout(()=>{re()},1500))}catch(k){f({type:"error",text:`Xatolik yuz berdi: ${k.message}`})}finally{N(!1)}}},et=async r=>{if(r.preventDefault(),!(!j||!await Re())){N(!0),f({type:"",text:""});try{let k={...w};if(l){const ne=l.name.split(".").pop(),Q=`${Date.now()}_${Math.random().toString(36).substring(2)}.${ne}`,{error:Z}=await he.storage.from("avatars").upload(`doctors/${Q}`,l);if(Z)throw new Error(`Image upload failed: ${Z.message}`);const{data:ee}=he.storage.from("avatars").getPublicUrl(`doctors/${Q}`);k.avatar_url=ee.publicUrl}const{data:R,error:O}=await At({id:j.id,...k});O?f({type:"error",text:"Xatolik: "+O.message}):(f({type:"success",text:"Shifokor muvaffaqiyatli yangilandi!"}),await z(),setTimeout(()=>{re()},1500))}catch(k){f({type:"error",text:`Xatolik yuz berdi: ${k.message}`})}finally{N(!1)}}},tt=async(r,k)=>{if(confirm(`${k} shifokorni o'chirishni xohlaysizmi?`)){L(r),f({type:"",text:""});try{const{error:R}=await Mt(r);R?f({type:"error",text:R.message}):(f({type:"success",text:"Shifokor muvaffaqiyatli o'chirildi!"}),await z())}catch{f({type:"error",text:"Xatolik yuz berdi"})}finally{L(null)}}},Me=t.filter(r=>{const k=r.full_name.toLowerCase().includes(u.toLowerCase())||r.email.toLowerCase().includes(u.toLowerCase())||r.specialization.toLowerCase().includes(u.toLowerCase()),R=h==="all"||h==="active"&&r.active||h==="inactive"&&!r.active||h==="verified"&&r.verified||h==="unverified"&&!r.verified;return k&&R}),Pe=r=>new Date(r).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"}),Ae=r=>{if(r==="uz")return!!(w.full_name&&w.specialization&&w.bio)?"complete":"partial";const k=w.translations?.[r];return!!(k?.bio&&k?.specialization)?"complete":"empty"};return n?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Shifokorlar Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Revmoinfo shifokorlarini boshqarish"})]}),e.jsxs("button",{onClick:Le,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(G,{size:20}),e.jsx("span",{children:"Yangi Shifokor"})]})]}),a.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${a.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[a.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:a.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:a.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:t.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(r=>r.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(r=>r.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:t.reduce((r,k)=>r+k.experience_years,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami tajriba (yil)"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.reduce((r,k)=>r+k.certificates.length,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami sertifikatlar"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:u,onChange:r=>b(r.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:h,onChange:r=>c(r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha shifokorlar"}),e.jsx("option",{value:"active",children:"Faol"}),e.jsx("option",{value:"inactive",children:"Faol emas"}),e.jsx("option",{value:"verified",children:"Tasdiqlangan"}),e.jsx("option",{value:"unverified",children:"Tasdiqlanmagan"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Me.map(r=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[r.avatar_url?e.jsx("img",{src:r.avatar_url,alt:r.full_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center",children:e.jsx(H,{size:48,className:"theme-text-muted opacity-50"})}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${r.active?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:r.active?"Faol":"Faol emas"}),r.verified&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-blue-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(Ve,{size:12}),e.jsx("span",{children:"Tasdiqlangan"})]})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-white/90 text-gray-800 rounded-full",children:["#",r.order_index]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-300",children:r.full_name}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:r.specialization}),r.bio&&e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:r.bio}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(ae,{size:14}),e.jsxs("span",{children:[r.experience_years," yil tajriba"]})]}),r.email&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(xe,{size:14}),e.jsx("span",{className:"truncate",children:r.email})]}),r.phone&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(se,{size:14}),e.jsx("span",{children:r.phone})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.certificates.slice(0,2).map((k,R)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:k},R)),r.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",r.certificates.length-2]})]})}),e.jsxs("div",{className:"text-xs theme-text-muted mb-6 p-3 theme-bg-secondary rounded-lg",children:[e.jsxs("div",{children:["Yaratilgan: ",Pe(r.created_at)]}),e.jsxs("div",{children:["Yangilangan: ",Pe(r.updated_at)]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>We(r),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(je,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsx("button",{onClick:()=>tt(r.id,r.full_name),disabled:q===r.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:q===r.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(me,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsx("div",{className:"flex items-center space-x-3 text-xs theme-text-muted",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(be,{size:12}),e.jsxs("span",{children:[r.certificates.length," sertifikat"]})]})})]})]})]},r.id))}),Me.length===0&&!n&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(ce,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi shifokor qo'shing"}),e.jsxs("button",{onClick:Le,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(G,{size:20}),e.jsx("span",{children:"Birinchi shifokorni qo'shish"})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Shifokor Qo'shish"}),e.jsx("button",{onClick:re,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(P,{size:20})})]}),e.jsxs("form",{onSubmit:Ze,className:"space-y-6",children:[a.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[a.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${a.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:a.text})]}),e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-3",children:"Tillar bo'yicha holat"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:M.map(r=>{const k=Ae(r.code);return e.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${S===r.code?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"theme-border hover:border-blue-300"}`,onClick:()=>E(r.code),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:r.flag}),e.jsx("span",{className:"font-medium theme-text text-sm",children:r.label})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${k==="complete"?"bg-green-500":k==="partial"?"bg-yellow-500":"bg-gray-300"}`})]}),e.jsx("div",{className:"text-xs theme-text-muted",children:k==="complete"?"To'liq":k==="partial"?"Qisman":"Bo'sh"})]},r.code)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:w.full_name,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Dr. Ism Familiya"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),v?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:v,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:Te,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(P,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ge,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ee})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"doctor@revmoinfo.uz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:w.phone,onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"+998 90 123 45 67"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:w.experience_years,onChange:_,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:w.avatar_url,onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"https://example.com/photo.jpg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tartib raqami"}),e.jsx("input",{type:"number",name:"order_index",value:w.order_index,onChange:_,min:"0",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",M.find(r=>r.code===S)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:M.map(r=>e.jsxs("button",{type:"button",onClick:()=>E(r.code),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1 ${S===r.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:r.flag}),e.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.code))})]}),S==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:w.specialization,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Revmatologiya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:w.bio,onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Shifokor haqida batafsil ma'lumot..."})]})]}),S==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:w.translations?.ru.specialization||"",onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Ð ÐµÐ²Ð¼Ð°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:w.translations?.ru.bio||"",onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²Ñ€Ð°Ñ‡Ðµ..."})]})]}),S==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:w.translations?.en.specialization||"",onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Rheumatology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:w.translations?.en.bio||"",onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Detailed information about the doctor..."})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Sertifikatlar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat qo'shish",value:K,onChange:r=>X(r.target.value),onKeyPress:r=>r.key==="Enter"&&(r.preventDefault(),A()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.certificates.map(r=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>ve(r),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(P,{size:12})})]},r))})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:w.active,onChange:_,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:w.verified,onChange:_,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:re,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:i?"Yaratilmoqda...":"Yaratish"})]})]})]})}),p&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Shifokorni Tahrirlash"}),e.jsx("button",{onClick:re,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(P,{size:20})})]}),e.jsxs("form",{onSubmit:et,className:"space-y-6",children:[a.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${a.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[a.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${a.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:a.text})]}),e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-3",children:"Tillar bo'yicha holat"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:M.map(r=>{const k=Ae(r.code);return e.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${S===r.code?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"theme-border hover:border-blue-300"}`,onClick:()=>E(r.code),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:r.flag}),e.jsx("span",{className:"font-medium theme-text text-sm",children:r.label})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${k==="complete"?"bg-green-500":k==="partial"?"bg-yellow-500":"bg-gray-300"}`})]}),e.jsx("div",{className:"text-xs theme-text-muted",children:k==="complete"?"To'liq":k==="partial"?"Qisman":"Bo'sh"})]},r.code)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:w.full_name,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),v?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:v,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:Te,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(P,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ge,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Ee})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:w.phone,onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:w.experience_years,onChange:_,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:w.avatar_url,onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tartib raqami"}),e.jsx("input",{type:"number",name:"order_index",value:w.order_index,onChange:_,min:"0",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",M.find(r=>r.code===S)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:M.map(r=>e.jsxs("button",{type:"button",onClick:()=>E(r.code),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1 ${S===r.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:r.flag}),e.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.code))})]}),S==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:w.specialization,onChange:_,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:w.bio,onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]})]}),S==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:w.translations?.ru.specialization||"",onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:w.translations?.ru.bio||"",onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]})]}),S==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:w.translations?.en.specialization||"",onChange:_,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:w.translations?.en.bio||"",onChange:_,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:w.active,onChange:_,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:w.verified,onChange:_,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:re,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:i,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:i?"Saqlanmoqda...":"Saqlash"})]})]})]})})]})},vs=()=>{const[t,d]=m.useState([]),[n,x]=m.useState(!0),[u,b]=m.useState(""),[h,c]=m.useState("all"),[o,g]=m.useState(null),[p,s]=m.useState({type:"",text:""});m.useEffect(()=>{j()},[]);const j=async()=>{x(!0);try{const{data:i}=await Ft();i&&d(i)}catch{s({type:"error",text:"Profillarni yuklashda xatolik"})}finally{x(!1)}},y=async(i,N,q)=>{if(confirm(`${q} shifokorni ${N?"tasdiqlash":"rad etish"}ni xohlaysizmi?`)){g(i),s({type:"",text:""});try{const{error:a}=await Dt(i,N);a?s({type:"error",text:a.message}):(s({type:"success",text:`Shifokor ${N?"tasdiqlandi":"rad etildi"}!`}),await j())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{g(null)}}},v=t.filter(i=>{const N=i.full_name.toLowerCase().includes(u.toLowerCase())||i.specialization.toLowerCase().includes(u.toLowerCase())||i.email.toLowerCase().includes(u.toLowerCase()),q=h==="all"||h==="verified"&&i.verified||h==="pending"&&!i.verified||h==="active"&&i.active;return N&&q}),C=i=>new Date(i).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return n?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor profillari yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Shifokor Profillari"}),e.jsx("p",{className:"theme-text-secondary",children:"Shifokor profillarini tasdiqlash va boshqarish"})]})}),p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[p.type==="success"?e.jsx(D,{size:20,className:"text-green-600"}):e.jsx(F,{size:20,className:"text-red-600"}),e.jsx("span",{className:p.type==="success"?"text-green-700":"text-red-700",children:p.text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:t.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(i=>i.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(i=>!i.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Kutilmoqda"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(i=>i.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:u,onChange:i=>b(i.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:h,onChange:i=>c(i.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha holatlar"}),e.jsx("option",{value:"pending",children:"Tasdiq kutilmoqda"}),e.jsx("option",{value:"verified",children:"Tasdiqlangan"}),e.jsx("option",{value:"active",children:"Faol"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(i=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 theme-border border overflow-hidden",children:[e.jsxs("div",{className:"relative p-6 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[i.avatar_url?e.jsx("img",{src:i.avatar_url,alt:i.full_name,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center",children:e.jsx(U,{size:24,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold theme-text",children:i.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:i.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[i.experience_years," yil tajriba"]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${i.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.verified?"Tasdiqlangan":"Kutilmoqda"}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${i.active?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:i.active?"Faol":"Faol emas"})]})]}),i.bio&&e.jsx("p",{className:"theme-text-secondary text-sm line-clamp-3 mb-4",children:i.bio}),e.jsxs("div",{className:"space-y-2 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{size:14}),e.jsx("span",{className:"truncate",children:i.email})]}),i.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{size:14}),e.jsx("span",{children:i.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:14}),e.jsxs("span",{children:["Ro'yxatdan o'tgan: ",C(i.created_at)]})]})]})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:i.certificates.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Sertifikatlar"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:i.education.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Ta'lim"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:i.languages.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Tillar"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.languages.slice(0,3).map(N=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:N.toUpperCase()},N)),i.languages.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",i.languages.length-3]})]})})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex space-x-2",children:[!i.verified&&e.jsx("button",{onClick:()=>y(i.id,!0,i.full_name),disabled:o===i.id,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:o===i.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:16}),e.jsx("span",{className:"text-sm",children:"Tasdiqlash"})]})}),i.verified&&e.jsx("button",{onClick:()=>y(i.id,!1,i.full_name),disabled:o===i.id,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:o===i.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:16}),e.jsx("span",{className:"text-sm",children:"Rad etish"})]})}),e.jsx("button",{className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(oe,{size:16})})]})})]},i.id))}),v.length===0&&!n&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(U,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor profili topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]})]})},Ns=({formData:t,doctors:d,onInputChange:n,onFormDataChange:x,imagePreview:u,onImageUpload:b,onRemoveImage:h})=>{const[c,o]=m.useState(""),[g,p]=m.useState(""),[s,j]=m.useState(""),[y,v]=m.useState("uz"),C=(l,B)=>{const w=B.translations||{},T=w[l]||{patient_name:"",diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:B.doctor_name||"",symptoms:B.symptoms||[],treatment_methods:B.treatment_methods||[],medications:B.medications||[],lifestyle_changes:B.lifestyle_changes||"",meta_title:"",meta_description:""};return{current:w,langObj:T}},i=(l,B)=>{if(y==="uz"){n(l,B);return}const w=y;x(T=>{const{current:K,langObj:X}=C(w,T);return{...T,translations:{...K,[w]:{...X,[l]:B}}}})},N=l=>{if(y==="uz")return t[l]??"";const B=y;return t.translations?.[B]?.[l]??""},q=()=>{c.trim()&&!t.symptoms.includes(c.trim())&&(n("symptoms",[...t.symptoms,c.trim()]),o(""))},L=l=>{n("symptoms",t.symptoms.filter(B=>B!==l))},a=()=>{g.trim()&&!t.treatment_methods.includes(g.trim())&&(n("treatment_methods",[...t.treatment_methods,g.trim()]),p(""))},f=l=>{n("treatment_methods",t.treatment_methods.filter(B=>B!==l))},S=()=>{s.trim()&&!t.medications.includes(s.trim())&&(n("medications",[...t.medications,s.trim()]),j(""))},E=l=>{n("medications",t.medications.filter(B=>B!==l))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Til"}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}].map(l=>e.jsxs("button",{type:"button",onClick:()=>v(l.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${y===l.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:l.flag}),e.jsx("span",{className:"hidden sm:inline",children:l.label})]},l.code))})]})}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(H,{size:20,className:"text-blue-600"}),e.jsx("span",{children:"Asosiy Ma'lumotlar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Bemor ismi * ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:N("patient_name"),onChange:l=>i("patient_name",l.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Bemor to'liq ismi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Yoshi *"}),e.jsx("input",{type:"number",value:t.age,onChange:l=>n("age",parseInt(l.target.value)||0),required:!0,min:"1",max:"120",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Tashxis * ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:N("diagnosis"),onChange:l=>i("diagnosis",l.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Kasallik tashxisi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Davolash shifokor *"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:16}),e.jsxs("select",{value:t.doctor_name,onChange:l=>n("doctor_name",l.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text appearance-none",children:[e.jsx("option",{value:"",children:"Shifokorni tanlang"}),d.map(l=>e.jsxs("option",{value:l.full_name,children:[l.full_name," - ",l.specialization]},l.id))]})]}),d.length===0&&e.jsx("p",{className:"text-xs theme-text-muted mt-1",children:"Hozircha shifokorlar mavjud emas. Avval shifokor qo'shing."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Davolash muddati * ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:N("treatment_duration"),onChange:l=>i("treatment_duration",l.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Masalan: 6 oy, 1 yil"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Reyting *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(l=>e.jsx("button",{type:"button",onClick:()=>n("rating",l),className:`p-1 transition-colors duration-200 ${l<=t.rating?"text-yellow-500":"text-gray-300"}`,children:e.jsx(be,{size:20,className:l<=t.rating?"fill-current":""})},l))}),e.jsxs("span",{className:"text-sm theme-text-secondary",children:["(",t.rating,"/5)"]})]})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(ie,{size:20,className:"text-red-600"}),e.jsx("span",{children:"Bemor Hikoyasi"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Hikoya matni * ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("textarea",{value:N("story_content"),onChange:l=>i("story_content",l.target.value),required:!0,rows:6,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Bemorning to'liq hikoyasini yozing..."}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[N("story_content").length," belgi"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Davolash natijasi * ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("textarea",{value:N("outcome"),onChange:l=>i("outcome",l.target.value),required:!0,rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Davolash natijasi va hozirgi holat"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Turmush tarzi o'zgarishlari"}),e.jsx("textarea",{value:t.lifestyle_changes,onChange:l=>n("lifestyle_changes",l.target.value),rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Ovqatlanish, mashqlar, kundalik rejim o'zgarishlari"})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Kontent Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:de,label:"Matn Hikoyasi"},{type:"image",icon:Je,label:"Rasm Hikoyasi"},{type:"video",icon:Ge,label:"Video Hikoya"}].map(({type:l,icon:B,label:w})=>e.jsxs("button",{type:"button",onClick:()=>n("content_type",l),className:`p-4 border-2 rounded-lg transition-all duration-200 ${t.content_type===l?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(B,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:w})]},l))})]}),(t.content_type==="image"||t.content_type==="video")&&e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 animate-fade-in",children:[t.content_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Hikoya rasmi"}),u?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:h,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(P,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ge,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:b})]})]}),t.content_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t.youtube_url||"",onChange:l=>n("youtube_url",l.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(te,{size:20,className:"text-orange-600"}),e.jsx("span",{children:"Kasallik Belgilari"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Yangi belgi qo'shish",value:c,onChange:l=>o(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),q()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:q,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.symptoms.map((l,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200 rounded-lg text-sm",children:[e.jsx("span",{children:l}),e.jsx("button",{type:"button",onClick:()=>L(l),className:"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300",children:e.jsx(P,{size:14})})]},B))})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(U,{size:20,className:"text-blue-600"}),e.jsx("span",{children:"Davolash Usullari"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Davolash usuli qo'shish",value:g,onChange:l=>p(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),a()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:a,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.treatment_methods.map((l,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-sm",children:[e.jsx("span",{children:l}),e.jsx("button",{type:"button",onClick:()=>f(l),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:e.jsx(P,{size:14})})]},B))})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(Ot,{size:20,className:"text-green-600"}),e.jsx("span",{children:"Dorilar"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Dori qo'shish",value:s,onChange:l=>j(l.target.value),onKeyPress:l=>l.key==="Enter"&&(l.preventDefault(),S()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:S,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(G,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.medications.map((l,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg text-sm",children:[e.jsx("span",{children:l}),e.jsx("button",{type:"button",onClick:()=>E(l),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:e.jsx(P,{size:14})})]},B))})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"SEO Sozlamalari"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Meta sarlavha ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:N("meta_title"),onChange:l=>i("meta_title",l.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"SEO uchun sarlavha"}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[N("meta_title").length,"/60 belgi"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Meta tavsif ",y!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",y.toUpperCase(),")"]})]}),e.jsx("textarea",{value:N("meta_description"),onChange:l=>i("meta_description",l.target.value),rows:2,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"SEO uchun qisqacha tavsif"}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[N("meta_description").length,"/160 belgi"]})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"published",checked:t.published,onChange:l=>n("published",l.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"published",className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:t.featured,onChange:l=>n("featured",l.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"featured",className:"text-sm font-medium theme-text-secondary",children:"Asosiy hikoya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tartib raqami"}),e.jsx("div",{className:"w-full px-3 py-2 theme-border border rounded-lg theme-bg theme-text text-sm",children:"Avtomatik belgilanadi"})]})]})]})]})},ws=({postId:t,postTitle:d,onCommentsChange:n})=>{const{user:x}=ye(),[u,b]=m.useState([]),[h,c]=m.useState(!0),[o,g]=m.useState(!1),[p,s]=m.useState(!1),[j,y]=m.useState(null),[v,C]=m.useState({type:"",text:""}),[i,N]=m.useState({content:"",author_name:""});m.useEffect(()=>{q()},[t]);const q=async()=>{c(!0);try{console.log("ðŸ’¬ Loading comments for post ID:",t);const{data:l}=await Qe(t);l?(console.log("âœ… Comments loaded successfully:",l.length),b(l)):(console.log("âš ï¸ No comments data returned"),b([]))}catch(l){console.error("Error loading comments:",l),b([])}finally{c(!1)}},L=l=>{const{name:B,value:w}=l.target;N(T=>({...T,[B]:w})),v.text&&C({type:"",text:""})},a=()=>i.content.trim()?!x&&!i.author_name.trim()?(C({type:"error",text:"Ismingizni kiriting"}),!1):!0:(C({type:"error",text:"Kommentariya matni kiritilishi shart"}),!1),f=async l=>{if(l.preventDefault(),!!a()){g(!0),C({type:"",text:""});try{const B={post_id:t,content:i.content.trim(),author_name:x?void 0:i.author_name.trim(),parent_id:j||void 0},{data:w,error:T}=await Kt(B);T?C({type:"error",text:"Xatolik: "+T.message}):(C({type:"success",text:"Kommentariya muvaffaqiyatli qo'shildi va ko'rsatildi!"}),N({content:"",author_name:""}),s(!1),y(null),console.log("ðŸ”„ Reloading comments after successful creation..."),await q(),n?.())}catch{C({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{g(!1)}}},S=l=>{const B=new Date(l),T=(new Date().getTime()-B.getTime())/(1e3*60*60);return T<1?`${Math.floor(T*60)} daqiqa oldin`:T<24?`${Math.floor(T)} soat oldin`:B.toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"})},E=({comment:l,isReply:B=!1})=>e.jsx("div",{className:`${B?"ml-12 mt-4":""} animate-fade-in`,children:e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4 hover:theme-shadow-md transition-all duration-200",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[l.author?.avatar_url?e.jsx("img",{src:l.author.avatar_url,alt:l.author.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(H,{size:16,className:"theme-accent"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:l.author?.full_name||l.author_name||"Anonim"}),l.author?.role==="doctor"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-bold",children:"Dr"}),l.author?.role==="admin"&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs rounded-full font-bold",children:"Admin"}),!l.author&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:"Anonim"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(ae,{size:12}),e.jsx("span",{children:S(l.created_at)})]})]})]})}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"theme-text-secondary leading-relaxed",children:l.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:[e.jsx(Ie,{size:14}),e.jsx("span",{className:"text-xs",children:"Foydali"})]}),!B&&e.jsxs("button",{onClick:()=>y(l.id),className:"flex items-center space-x-1 text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:[e.jsx(Ht,{size:14}),e.jsx("span",{className:"text-xs",children:"Javob berish"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors duration-200",children:[e.jsx(Yt,{size:14}),e.jsx("span",{className:"text-xs",children:"Shikoyat"})]})]}),l.user_id===x?.id&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:e.jsx(je,{size:14})}),e.jsx("button",{className:"text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors duration-200",children:e.jsx(me,{size:14})})]})]}),j===l.id&&e.jsx("div",{className:"mt-4 p-4 theme-bg-tertiary rounded-lg animate-slide-down",children:e.jsx("form",{onSubmit:f,children:e.jsxs("div",{className:"space-y-3",children:[!x&&e.jsx("input",{type:"text",name:"author_name",value:i.author_name,onChange:L,placeholder:"Ismingiz",required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("textarea",{name:"content",value:i.content,onChange:L,placeholder:"Javobingizni yozing...",required:!0,rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none text-sm"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 text-sm",children:[e.jsx(De,{size:14}),e.jsx("span",{children:o?"Yuborilmoqda...":"Javob berish"})]}),e.jsx("button",{type:"button",onClick:()=>{y(null),N({content:"",author_name:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 px-4 py-2 rounded-lg transition-colors duration-200 text-sm",children:"Bekor qilish"})]})]})})}),l.replies&&l.replies.length>0&&e.jsx("div",{className:"mt-4",children:l.replies.map(w=>e.jsx(E,{comment:w,isReply:!0},w.id))})]})});return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(J,{size:24,className:"theme-accent"}),e.jsxs("span",{children:["Kommentariyalar (",u.length,")"]})]}),e.jsxs("button",{onClick:()=>s(!p),className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Kommentariya yozish"})]})]}),v.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${v.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[v.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(F,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:v.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:v.text})]}),p&&e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow-lg theme-border border p-6 mb-8 animate-slide-down",children:[e.jsx("h4",{className:"text-lg font-semibold theme-text mb-4",children:x?"Kommentariya qoldiring":"Anonim kommentariya"}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[!x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ismingiz *"}),e.jsx("input",{type:"text",name:"author_name",value:i.author_name,onChange:L,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Ismingizni kiriting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kommentariya *"}),e.jsx("textarea",{name:"content",value:i.content,onChange:L,required:!0,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Fikringizni bildiring..."}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[i.content.length,"/500 belgi"]})]}),!x&&e.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-800 dark:text-yellow-200",children:[e.jsx(le,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Anonim kommentariyalar admin tasdiqlashidan so'ng ko'rsatiladi"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"submit",disabled:o,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(De,{size:16}),e.jsx("span",{children:o?"Yuborilmoqda...":"Yuborish"})]}),e.jsx("button",{type:"button",onClick:()=>{s(!1),N({content:"",author_name:""}),C({type:"",text:""})},className:"theme-border border theme-text-secondary px-6 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"})]})]})]}),h?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kommentariyalar yuklanmoqda..."})]}):u.length>0?e.jsx("div",{className:"space-y-6",children:u.map(l=>e.jsx(E,{comment:l},l.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(J,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h4",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha kommentariyalar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Birinchi bo'lib fikringizni bildiring!"}),e.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Birinchi kommentariya"})]})]}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-800 dark:text-blue-200",children:[e.jsx(W,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Kommentariyalar darhol ko'rsatiladi. Nomaqbul kommentariyalar admin tomonidan keyinchalik o'chirilishi mumkin."})]})})]})},Wt=()=>{const{user:t}=ye(),{notifications:d,unreadCount:n,markAsRead:x}=It(),[u,b]=m.useState(!1);if(!t)return null;const h=d.slice(0,5),c=s=>{switch(s){case"success":return"âœ…";case"warning":return"âš ï¸";case"error":return"âŒ";default:return"ðŸ“¢"}},o=s=>{switch(s){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20"}},g=s=>{const j=new Date(s),v=(new Date().getTime()-j.getTime())/(1e3*60*60);return v<1?"Hozir":v<24?`${Math.floor(v)} soat oldin`:j.toLocaleDateString("uz-UZ",{month:"short",day:"numeric"})},p=s=>{s.read_by.includes(t.id)||x(s.id)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>b(!u),className:"relative p-2 theme-text-secondary hover:theme-accent transition-all duration-300 rounded-lg hover:theme-bg-tertiary",children:[e.jsx(ke,{size:20}),n>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:n>9?"9+":n})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>b(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl theme-border border py-2 z-50 max-h-96 overflow-hidden",style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold theme-text",children:"Bildirishnomalar"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[n>0&&e.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs font-medium rounded-full",children:[n," yangi"]}),e.jsx("button",{onClick:()=>b(!1),className:"theme-text-muted hover:theme-accent",children:e.jsx(P,{size:16})})]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length>0?e.jsx("div",{className:"py-2",children:h.map(s=>{const j=!s.read_by.includes(t.id);return e.jsx("div",{onClick:()=>p(s),className:`px-4 py-3 hover:theme-bg-tertiary transition-colors duration-200 cursor-pointer border-l-4 ${o(s.type)} ${j?"bg-opacity-100":"bg-opacity-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-lg flex-shrink-0 mt-1",children:c(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`text-sm font-medium ${j?"theme-text":"theme-text-secondary"} truncate`,children:s.title}),j&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-xs theme-text-secondary line-clamp-2 mb-2",children:s.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(ae,{size:12}),e.jsx("span",{children:g(s.sent_at)})]}),s.post&&e.jsxs($,{to:`/posts/${s.post.slug}`,className:"flex items-center space-x-1 text-xs theme-accent hover:text-blue-800 dark:hover:text-blue-300",onClick:y=>y.stopPropagation(),children:[e.jsx(de,{size:12}),e.jsx("span",{children:"Ko'rish"})]})]})]})]})},s.id)})}):e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(ke,{size:32,className:"theme-text-muted mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"theme-text-secondary text-sm",children:"Bildirishnomalar yo'q"})]})}),e.jsx("div",{className:"px-4 py-3 theme-border border-t",children:e.jsx($,{to:"/profile?tab=notifications",className:"block text-center text-sm theme-accent hover:text-blue-800 dark:hover:text-blue-300 font-medium",onClick:()=>b(!1),children:"Barcha bildirishnomalarni ko'rish"})})]})]})]})},Zt=()=>{const[t,d]=m.useState(!1),[n,x]=m.useState(!1),u=m.useRef(null);m.useEffect(()=>{const C=i=>{u.current&&!u.current.contains(i.target)&&x(!1)};return n&&document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[n]);const{t:b,i18n:h}=Y(),{user:c,session:o,signOut:g}=ye();c&&console.log({user_metadata:o?.user?.user_metadata,provider:o?.user?.app_metadata?.provider});const p=_e(),s=pe(),j=o?.user?.app_metadata?.provider==="phone"?o?.user?.phone:c?.email,y=async()=>{await g(),p("/"),x(!1)},v=C=>{const i=h.language==="ru"||h.language==="en"?`/${h.language}${C}`:C;return s.pathname===i};return e.jsx("header",{className:"bg-white theme-shadow theme-border border-b sticky top-0 z-50",children:e.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs($,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 rounded-lg object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{className:"text-xl font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:"Revmohelp"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsx($,{to:"/",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("home")}),e.jsx($,{to:"/posts",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/posts")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("posts")}),e.jsx($,{to:"/doctors",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/doctors")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("doctors")}),e.jsx($,{to:"/patient-stories",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/patient-stories")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("patientStories")}),e.jsx($,{to:"/qa",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/qa")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("qa")}),e.jsx($,{to:"/about",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${v("/about")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:b("about")})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[e.jsx(Se,{}),c&&e.jsx(Wt,{}),c?e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!n),className:"p-2 rounded-lg hover:theme-bg-tertiary transition-all duration-300",children:c.avatar_url?e.jsx("img",{src:c.avatar_url,alt:c.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#A6BAB4]"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#CAD8D6] to-[#B8C9C5] rounded-full flex items-center justify-center",children:e.jsx(H,{size:16,className:"theme-accent"})})}),n&&e.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-xl theme-border border py-2",ref:u,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b",children:[e.jsx("div",{className:"text-sm font-semibold theme-text",children:c.full_name}),e.jsx("div",{className:"text-xs theme-text-muted",children:j})]}),e.jsxs($,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(H,{size:16}),e.jsx("span",{children:"Profil"})]}),(c.role==="admin"||c.role==="moderator")&&e.jsxs(I,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(ze,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),c.role==="doctor"&&e.jsxs($,{to:"/doctor-dashboard",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(U,{size:16}),e.jsx("span",{children:"Shifokor Paneli"})]}),e.jsx("div",{className:"theme-border border-t my-2"}),e.jsxs("button",{onClick:y,className:"flex items-center space-x-2 w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300",children:[e.jsx(Ce,{size:16}),e.jsx("span",{children:b("logout")})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{to:"/login",className:"theme-text hover:theme-accent hover:theme-bg-tertiary transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap",children:b("login")}),e.jsx($,{to:"/register",className:"text-white bg-[#62B6CB] px-3 py-2 rounded-lg transition-all duration-300 font-medium shadow-sm hover:opacity-90 text-sm whitespace-nowrap",children:b("register")})]})]}),e.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e.jsx(Se,{}),e.jsx("button",{onClick:()=>d(!t),className:"lg:hidden p-2 theme-text-secondary hover:theme-accent transition-all duration-300 rounded-lg hover:theme-bg-tertiary",children:t?e.jsx(P,{size:24}):e.jsx(He,{size:24})})]})]}),t&&e.jsx("div",{className:"lg:hidden py-4 theme-border border-t",children:e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx($,{to:"/",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("home")}),e.jsx($,{to:"/posts",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/posts")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("posts")}),e.jsx($,{to:"/doctors",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/doctors")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("doctors")}),e.jsx($,{to:"/patient-stories",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/patient-stories")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("patientStories")}),e.jsx($,{to:"/qa",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/qa")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("qa")}),e.jsx($,{to:"/about",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${v("/about")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>d(!1),children:b("about")}),c?e.jsxs("div",{className:"pt-3 theme-border border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 py-2 px-3 theme-bg-tertiary rounded-lg",children:[c.avatar_url?e.jsx("img",{src:c.avatar_url,alt:c.full_name,className:"w-8 h-8 rounded-full object-cover border border-[#A6BAB4]"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#CAD8D6] to-[#B8C9C5] rounded-full flex items-center justify-center",children:e.jsx(H,{size:14,className:"theme-accent"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold theme-text",children:c.full_name}),e.jsx("div",{className:"text-xs theme-text-muted capitalize",children:c.role})]})]}),e.jsxs($,{to:"/profile",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>d(!1),children:[e.jsx(H,{size:16}),e.jsx("span",{children:"Profil"})]}),(c.role==="admin"||c.role==="moderator")&&e.jsxs(I,{to:"/admin",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>d(!1),children:[e.jsx(ze,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),c.role==="doctor"&&e.jsxs($,{to:"/doctor-dashboard",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>d(!1),children:[e.jsx(U,{size:16}),e.jsx("span",{children:"Shifokor Paneli"})]}),e.jsxs("button",{onClick:()=>{y(),d(!1)},className:"text-red-600 hover:text-red-700 transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:bg-red-50 text-left w-full flex items-center space-x-2",children:[e.jsx(Ce,{size:16}),e.jsx("span",{children:b("logout")})]})]}):e.jsxs("div",{className:"pt-3 theme-border border-t flex flex-col space-y-2",children:[e.jsx($,{to:"/login",className:"theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary text-sm",onClick:()=>d(!1),children:b("login")}),e.jsx($,{to:"/register",className:"text-white bg-[#62B6CB] px-4 py-2 rounded-lg transition-all duration-300 font-medium text-center shadow-sm hover:opacity-90 text-sm",onClick:()=>d(!1),children:b("register")})]})]})})]})})},es=()=>{const{t}=Y(),d=new Date().getFullYear();return e.jsx("footer",{className:"theme-bg-secondary theme-border border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs($,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 rounded-lg object-cover"}),e.jsx("span",{className:"text-lg font-bold theme-text",children:"Revmohelp"})]}),e.jsx("p",{className:"theme-text-secondary text-sm leading-relaxed",children:t("heroSubtitle")}),e.jsxs("div",{className:"space-y-2 text-sm theme-text-secondary",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{size:14}),e.jsx("span",{children:"revmohelp@gmail.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{size:14}),e.jsx("span",{children:"+998 (93) 200 10 22"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Qt,{size:14}),e.jsx("span",{children:"Toshkent, O'zbekiston"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerQuickLinks")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("home")}),e.jsx($,{to:"/posts",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("posts")}),e.jsx($,{to:"/doctors",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("doctors")}),e.jsx($,{to:"/qa",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("qa")}),e.jsx($,{to:"/patient-stories",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("patientStories")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerLegal")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/privacy",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("privacyPolicy")}),e.jsx($,{to:"/data-security",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("dataSecurity")}),e.jsx($,{to:"/terms",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("termsOfUse")}),e.jsx($,{to:"/faq",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("faq")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerContact")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/about",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("aboutUs")}),e.jsx($,{to:"/contact",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("contact")}),e.jsx($,{to:"/partnership",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("partnership")}),e.jsx($,{to:"/consultation",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:"A'zosi Bo'ling"})]})]})]}),e.jsxs("div",{className:"theme-border border-t mt-8 pt-6 flex flex-col sm:flex-row justify-between items-center",children:[e.jsxs("p",{className:"theme-text-muted text-sm",children:["Â© ",d," Revmohelp. ",t("allRightsReserved"),"."]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:t("developedBy")}),e.jsx("a",{href:"https://torexdev.uz/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 text-sm hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:"torexdev.uz"})]})]})]})})},ts=()=>e.jsxs("div",{className:"min-h-screen theme-bg flex flex-col",children:[e.jsx(Zt,{}),e.jsx("main",{className:"flex-1",children:e.jsx(Ye,{})}),e.jsx(es,{})]}),ks=Object.freeze(Object.defineProperty({__proto__:null,default:ts},Symbol.toStringTag,{value:"Module"}));export{ls as A,gs as C,vs as D,cs as F,is as H,os as L,js as P,ns as S,hs as U,ps as a,fs as b,ys as c,Ns as d,ms as e,xs as f,bs as g,us as h,ds as i,$ as j,ws as k,ks as l,Xt as u};
