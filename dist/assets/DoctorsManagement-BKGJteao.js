import{r as l,h as ve,j as e,t as ce,U as Ne,X as B,D as we,s as J,E as ke,I as ze,J as Ce,e as Q}from"./index-DtX8_sFx.js";import{C as I}from"./check-circle-Bxw7JPnO.js";import{A as K}from"./alert-circle-CJoZj5dR.js";import{S as G}from"./search-gyIQzUfr.js";import{A as Se}from"./award-BWYevWPD.js";import{C as me}from"./calendar-eaebxh4X.js";import{M as xe}from"./mail-24O-XE3_.js";import{P as he}from"./phone-gbjZxSNE.js";import{S as _e}from"./square-pen-DcjaydtY.js";import{T as qe}from"./trash-2-BY8n_M2x.js";import{S as Te}from"./star-rzFEx4RB.js";import{P as ee}from"./plus-D346WvM6.js";import{U as de}from"./upload-B8C-6Fri.js";import{g as De,v as $e}from"./doctorProfiles-BVxk07xx.js";import{X as Ee}from"./x-circle-CIWtsC4Z.js";import{E as Le}from"./eye-OnB_qZXO.js";const ue=l.forwardRef((h,M)=>{const[m,q]=l.useState([]),[f,T]=l.useState(!0),[c,y]=l.useState(""),[x,j]=l.useState("all"),[w,v]=l.useState(!1),[P,N]=l.useState(!1),[k,O]=l.useState(null),[z,D]=l.useState(null),[t,u]=l.useState(!1),[$,W]=l.useState(null),[o,d]=l.useState({type:"",text:""}),[g,R]=l.useState("uz"),[E,A]=l.useState(null),[V,L]=l.useState(!1),[r,C]=l.useState({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:0,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),[X,Z]=l.useState(""),Y=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}];l.useEffect(()=>{H()},[]),l.useImperativeHandle(M,()=>({openCreateModal:ae}));const H=async()=>{console.log("ðŸ”„ Loading doctors in DoctorsManagement component"),T(!0);try{const{data:s}=await ve();console.log("ðŸ“‹ Doctors received in component:",s?.length||0,s?.map(a=>({id:a.id,name:a.full_name,email:a.email}))),s&&q(s)}catch(s){console.log("âŒ Error loading doctors in component:",s),d({type:"error",text:"Shifokorlarni yuklashda xatolik"})}finally{T(!1)}},i=s=>{const{name:a,value:n,type:b}=s.target,U=b==="checkbox"?s.target.checked:!1;if(a.includes(".")){const[p,S]=a.split(".");C(_=>({..._,translations:{..._.translations,[p]:{..._.translations[p],[S]:n}}}))}else C(p=>({...p,[a]:b==="checkbox"?U:b==="number"?Number(n):n}));o.text&&d({type:"",text:""})},se=()=>{X.trim()&&!r.certificates.includes(X.trim())&&(C(s=>({...s,certificates:[...s.certificates,X.trim()]})),Z(""))},be=s=>{C(a=>({...a,certificates:a.certificates.filter(n=>n!==s)}))},te=()=>{const a=(m.length>0?Math.max(...m.map(n=>n.order_index)):0)+1;C({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:a,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),Z(""),O(null),D(null),A(null),R("uz")},ae=()=>{te(),v(!0)},ge=s=>{C({full_name:s.full_name,email:s.email,phone:s.phone||"",specialization:s.specialization,experience_years:s.experience_years,bio:s.bio||"",avatar_url:s.avatar_url||"",certificates:s.certificates||[],verified:s.verified,active:s.active,order_index:s.order_index,translations:{ru:{bio:s.translations?.find(a=>a.language==="ru")?.bio||"",specialization:s.translations?.find(a=>a.language==="ru")?.specialization||""},en:{bio:s.translations?.find(a=>a.language==="en")?.bio||"",specialization:s.translations?.find(a=>a.language==="en")?.specialization||""}}}),O(s),D(s.avatar_url||null),A(null),N(!0)},F=()=>{v(!1),N(!1),te(),d({type:"",text:""})},re=s=>{const a=s.target.files?.[0];if(a){if(a.size>5*1024*1024){d({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}A(a);const n=new FileReader;n.onload=()=>{const b=n.result;D(b)},n.readAsDataURL(a)}},le=()=>{D(null),A(null),C(s=>({...s,avatar_url:""}))},ie=async()=>{if(!r.full_name.trim())return d({type:"error",text:"Shifokor ismi kiritilishi shart"}),!1;if(!r.email.trim())return d({type:"error",text:"Email kiritilishi shart"}),!1;if(!r.specialization.trim())return d({type:"error",text:"Mutaxassislik kiritilishi shart"}),!1;const{isUnique:s}=await Ce(r.email,k?.id);return s?!0:(d({type:"error",text:"Bu email allaqachon mavjud. Boshqa email kiriting."}),!1)},pe=async s=>{if(s.preventDefault(),!!await ie()){u(!0),d({type:"",text:""});try{let a={...r};if(E){const U=E.name.split(".").pop(),p=`${Date.now()}_${Math.random().toString(36).substring(2)}.${U}`,{error:S}=await J.storage.from("avatars").upload(`doctors/${p}`,E);if(S)throw new Error(`Image upload failed: ${S.message}`);const{data:_}=J.storage.from("avatars").getPublicUrl(`doctors/${p}`);a.avatar_url=_.publicUrl}const{data:n,error:b}=await ke(a);b?d({type:"error",text:"Xatolik: "+b.message}):(d({type:"success",text:"Shifokor muvaffaqiyatli yaratildi!"}),await H(),setTimeout(()=>{F()},1500))}catch(a){d({type:"error",text:`Xatolik yuz berdi: ${a.message}`})}finally{u(!1)}}},fe=async s=>{if(s.preventDefault(),!(!k||!await ie())){u(!0),d({type:"",text:""});try{let a={...r};if(E){const U=E.name.split(".").pop(),p=`${Date.now()}_${Math.random().toString(36).substring(2)}.${U}`,{error:S}=await J.storage.from("avatars").upload(`doctors/${p}`,E);if(S)throw new Error(`Image upload failed: ${S.message}`);const{data:_}=J.storage.from("avatars").getPublicUrl(`doctors/${p}`);a.avatar_url=_.publicUrl}const{data:n,error:b}=await ze({id:k.id,...a});b?d({type:"error",text:"Xatolik: "+b.message}):(d({type:"success",text:"Shifokor muvaffaqiyatli yangilandi!"}),await H(),setTimeout(()=>{F()},1500))}catch(a){d({type:"error",text:`Xatolik yuz berdi: ${a.message}`})}finally{u(!1)}}},ye=async(s,a)=>{if(confirm(`${a} shifokorni o'chirishni xohlaysizmi?`)){W(s),d({type:"",text:""});try{const{error:n}=await we(s);n?d({type:"error",text:n.message}):(d({type:"success",text:"Shifokor muvaffaqiyatli o'chirildi!"}),await H())}catch{d({type:"error",text:"Xatolik yuz berdi"})}finally{W(null)}}},ne=m.filter(s=>{const a=s.full_name.toLowerCase().includes(c.toLowerCase())||s.email.toLowerCase().includes(c.toLowerCase())||s.specialization.toLowerCase().includes(c.toLowerCase()),n=x==="all"||x==="active"&&s.active||x==="inactive"&&!s.active||x==="verified"&&s.verified||x==="unverified"&&!s.verified;return a&&n}),oe=s=>new Date(s).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"}),je=s=>{if(s==="uz")return!!(r.full_name&&r.specialization&&r.bio)?"complete":"partial";const a=r.translations?.[s];return!!(a?.bio&&a?.specialization)?"complete":"empty"};return f?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6","data-legacy-doctors":!0,children:[o.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${o.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[o.type==="success"?e.jsx(I,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(K,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:o.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:o.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:m.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.filter(s=>s.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.filter(s=>s.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:m.reduce((s,a)=>s+a.experience_years,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami tajriba (yil)"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:m.reduce((s,a)=>s+a.certificates.length,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami sertifikatlar"})]})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:18}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:c,onChange:s=>y(s.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm"})]})}),e.jsxs("div",{className:"lg:w-48 relative",children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),L(!V)},className:"w-full px-3 lg:px-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm text-left flex items-center justify-between",children:[e.jsx("span",{children:x==="all"?"Barcha shifokorlar":x==="active"?"Faol":x==="inactive"?"Faol emas":x==="verified"?"Tasdiqlangan":"Tasdiqlanmagan"}),e.jsx(ce,{className:`theme-text-muted transition-transform ${V?"rotate-180":""}`,size:16})]}),V&&e.jsxs("div",{onClick:s=>s.stopPropagation(),className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[e.jsx("div",{onClick:()=>{j("all"),L(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Barcha shifokorlar"}),e.jsx("div",{onClick:()=>{j("active"),L(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol"}),e.jsx("div",{onClick:()=>{j("inactive"),L(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol emas"}),e.jsx("div",{onClick:()=>{j("verified"),L(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlangan"}),e.jsx("div",{onClick:()=>{j("unverified"),L(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlanmagan"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ne.map(s=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center",children:e.jsx(Ne,{size:48,className:"theme-text-muted opacity-50"})}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s.active?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:s.active?"Faol":"Faol emas"}),s.verified&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-blue-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(Se,{size:12}),e.jsx("span",{children:"Tasdiqlangan"})]})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-white/90 text-gray-800 rounded-full",children:["#",s.order_index]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-300",children:s.full_name}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:s.specialization}),s.bio&&e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.bio}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(me,{size:14}),e.jsxs("span",{children:[s.experience_years," yil tajriba"]})]}),s.email&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(xe,{size:14}),e.jsx("span",{className:"truncate",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(he,{size:14}),e.jsx("span",{children:s.phone})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.certificates.slice(0,2).map((a,n)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:a},n)),s.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",s.certificates.length-2]})]})}),e.jsxs("div",{className:"text-xs theme-text-muted mb-6 p-3 theme-bg-secondary rounded-lg",children:[e.jsxs("div",{children:["Yaratilgan: ",oe(s.created_at)]}),e.jsxs("div",{children:["Yangilangan: ",oe(s.updated_at)]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>ge(s),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(_e,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsx("button",{onClick:()=>ye(s.id,s.full_name),disabled:$===s.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:$===s.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(qe,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsx("div",{className:"flex items-center space-x-3 text-xs theme-text-muted",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Te,{size:12}),e.jsxs("span",{children:[s.certificates.length," sertifikat"]})]})})]})]})]},s.id))}),ne.length===0&&!f&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(G,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi shifokor qo'shing"}),e.jsxs("button",{onClick:ae,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(ee,{size:20}),e.jsx("span",{children:"Birinchi shifokorni qo'shish"})]})]}),w&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh]",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}}),e.jsxs("div",{style:{maxHeight:"calc(90vh - 4rem)",overflowY:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Shifokor Qo'shish"}),e.jsx("button",{onClick:F,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(B,{size:20})})]}),e.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[o.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${o.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[o.type==="success"?e.jsx(I,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(K,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${o.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:o.text})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium color-nav-500",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${r.full_name&&r.specialization&&r.bio?"text-green-600":"theme-text-muted"}`,children:r.full_name&&r.specialization&&r.bio?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium color-primary-500",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${r.translations?.ru.bio&&r.translations?.ru.specialization?"text-green-600":"theme-text-muted"}`,children:r.translations?.ru.bio&&r.translations?.ru.specialization?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium color-highlight-500",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${r.translations?.en.bio&&r.translations?.en.specialization?"text-green-600":"theme-text-muted"}`,children:r.translations?.en.bio&&r.translations?.en.specialization?"Ready":"Not filled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:r.full_name,onChange:i,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Dr. Ism Familiya"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),z?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:z,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:le,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(B,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(de,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:re})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:i,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"doctor@revmoinfo.uz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"+998 90 123 45 67"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:r.experience_years,onChange:i,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:r.avatar_url,onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"https://example.com/photo.jpg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",Y.find(s=>s.code===g)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-50 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿",bgClass:"bg-nav-500",textClass:"text-white"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º",bgClass:"bg-primary-500",textClass:"text-white"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸",bgClass:"bg-highlight-500",textClass:"text-gray-800"}].map(s=>e.jsxs("button",{type:"button",onClick:()=>R(s.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${g===s.code?s.bgClass+" "+s.textClass+" shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("span",{children:s.flag}),e.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.code))})]}),g==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:r.specialization,onChange:i,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Revmatologiya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:r.bio,onChange:i,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Shifokor haqida batafsil ma'lumot..."})]})]}),g==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:r.translations?.ru.specialization||"",onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Ð ÐµÐ²Ð¼Ð°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:r.translations?.ru.bio||"",onChange:i,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²Ñ€Ð°Ñ‡Ðµ..."})]})]}),g==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:r.translations?.en.specialization||"",onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Rheumatology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:r.translations?.en.bio||"",onChange:i,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Detailed information about the doctor..."})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Sertifikatlar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat qo'shish",value:X,onChange:s=>Z(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),se()),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"}),e.jsx("button",{type:"button",onClick:se,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(ee,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.certificates.map(s=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[e.jsx("span",{children:s}),e.jsx("button",{type:"button",onClick:()=>be(s),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(B,{size:12})})]},s))})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:r.active,onChange:i,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:r.verified,onChange:i,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:F,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:t?"Yaratilmoqda...":"Yaratish"})]})]})]})]})}),P&&k&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh]",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}}),e.jsxs("div",{style:{maxHeight:"calc(90vh - 4rem)",overflowY:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Shifokorni Tahrirlash"}),e.jsx("button",{onClick:F,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(B,{size:20})})]}),e.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[o.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${o.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[o.type==="success"?e.jsx(I,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(K,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${o.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:o.text})]}),e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-3",children:"Tillar bo'yicha holat"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Y.map(s=>{const a=je(s.code);return e.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${g===s.code?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"theme-border hover:border-blue-300"}`,onClick:()=>R(s.code),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:s.flag}),e.jsx("span",{className:"font-medium theme-text text-sm",children:s.label})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${a==="complete"?"bg-green-500":a==="partial"?"bg-yellow-500":"bg-gray-300"}`})]}),e.jsx("div",{className:"text-xs theme-text-muted",children:a==="complete"?"To'liq":a==="partial"?"Qisman":"Bo'sh"})]},s.code)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:r.full_name,onChange:i,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),z?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:z,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:le,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(B,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(de,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:re})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:r.email,onChange:i,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:r.phone,onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:r.experience_years,onChange:i,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:r.avatar_url,onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",Y.find(s=>s.code===g)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:Y.map(s=>e.jsxs("button",{type:"button",onClick:()=>R(s.code),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1 ${g===s.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:s.flag}),e.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.code))})]}),g==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:r.specialization,onChange:i,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:r.bio,onChange:i,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none"})]})]}),g==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:r.translations?.ru.specialization||"",onChange:i,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:r.translations?.ru.bio||"",onChange:i,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none"})]})]}),g==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:r.translations?.en.specialization||"",onChange:i,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:r.translations?.en.bio||"",onChange:i,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:r.active,onChange:i,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:r.verified,onChange:i,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:F,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:t,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:t?"Saqlanmoqda...":"Saqlash"})]})]})]})]})})]})});ue.displayName="DoctorsManagement";const Fe=()=>{const[h,M]=l.useState([]),[m,q]=l.useState(!0),[f,T]=l.useState(""),[c,y]=l.useState("all"),[x,j]=l.useState(null),[w,v]=l.useState({type:"",text:""}),[P,N]=l.useState(!1);l.useEffect(()=>{k()},[]);const k=async()=>{q(!0);try{const{data:t}=await De();t&&M(t)}catch{v({type:"error",text:"Profillarni yuklashda xatolik"})}finally{q(!1)}},O=async(t,u,$)=>{if(confirm(`${$} shifokorni ${u?"tasdiqlash":"rad etish"}ni xohlaysizmi?`)){j(t),v({type:"",text:""});try{const{error:o}=await $e(t,u);o?v({type:"error",text:o.message}):(v({type:"success",text:`Shifokor ${u?"tasdiqlandi":"rad etildi"}!`}),await k())}catch{v({type:"error",text:"Xatolik yuz berdi"})}finally{j(null)}}},z=h.filter(t=>{const u=t.full_name.toLowerCase().includes(f.toLowerCase())||t.specialization.toLowerCase().includes(f.toLowerCase())||t.email.toLowerCase().includes(f.toLowerCase()),$=c==="all"||c==="verified"&&t.verified||c==="pending"&&!t.verified||c==="active"&&t.active;return u&&$}),D=t=>new Date(t).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return m?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor profillari yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[w.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${w.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[w.type==="success"?e.jsx(I,{size:20,className:"text-green-600"}):e.jsx(K,{size:20,className:"text-red-600"}),e.jsx("span",{className:w.type==="success"?"text-green-700":"text-red-700",children:w.text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:h.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.filter(t=>t.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.filter(t=>!t.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Kutilmoqda"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.filter(t=>t.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:18}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:f,onChange:t=>T(t.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm"})]})}),e.jsxs("div",{className:"lg:w-48 relative",children:[e.jsxs("button",{onClick:t=>{t.stopPropagation(),N(!P)},className:"w-full px-3 lg:px-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm text-left flex items-center justify-between",children:[e.jsx("span",{children:c==="all"?"Barcha holatlar":c==="pending"?"Tasdiq kutilmoqda":c==="verified"?"Tasdiqlangan":"Faol"}),e.jsx(ce,{className:`theme-text-muted transition-transform ${P?"rotate-180":""}`,size:16})]}),P&&e.jsxs("div",{onClick:t=>t.stopPropagation(),className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[e.jsx("div",{onClick:()=>{y("all"),N(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Barcha holatlar"}),e.jsx("div",{onClick:()=>{y("pending"),N(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiq kutilmoqda"}),e.jsx("div",{onClick:()=>{y("verified"),N(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlangan"}),e.jsx("div",{onClick:()=>{y("active"),N(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(t=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 theme-border border overflow-hidden",children:[e.jsxs("div",{className:"relative p-6 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.full_name,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center",children:e.jsx(Q,{size:24,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold theme-text",children:t.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:t.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[t.experience_years," yil tajriba"]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${t.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.verified?"Tasdiqlangan":"Kutilmoqda"}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${t.active?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:t.active?"Faol":"Faol emas"})]})]}),t.bio&&e.jsx("p",{className:"theme-text-secondary text-sm line-clamp-3 mb-4",children:t.bio}),e.jsxs("div",{className:"space-y-2 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{size:14}),e.jsx("span",{className:"truncate",children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(he,{size:14}),e.jsx("span",{children:t.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(me,{size:14}),e.jsxs("span",{children:["Ro'yxatdan o'tgan: ",D(t.created_at)]})]})]})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:t.certificates.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Sertifikatlar"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:t.education.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Ta'lim"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:t.languages.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Tillar"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.languages.slice(0,3).map(u=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:u.toUpperCase()},u)),t.languages.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",t.languages.length-3]})]})})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex space-x-2",children:[!t.verified&&e.jsx("button",{onClick:()=>O(t.id,!0,t.full_name),disabled:x===t.id,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:x===t.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(I,{size:16}),e.jsx("span",{className:"text-sm",children:"Tasdiqlash"})]})}),t.verified&&e.jsx("button",{onClick:()=>O(t.id,!1,t.full_name),disabled:x===t.id,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:x===t.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16}),e.jsx("span",{className:"text-sm",children:"Rad etish"})]})}),e.jsx("button",{className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(Le,{size:16})})]})})]},t.id))}),z.length===0&&!m&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(Q,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor profili topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]})]})},Ze=()=>{const[h,M]=l.useState("profiles"),m=l.useRef(null),q=[{id:"profiles",label:"Shifokor Profillari",icon:Q},{id:"legacy",label:"Eski Shifokorlar",icon:Q}],f=h==="profiles"?"Shifokor Profillari":"Eski Shifokorlar",T=h==="profiles"?"Shifokor profillarini boshqarish":"Eski shifokorlarni boshqarish";return e.jsxs("div",{className:"space-y-4 lg:space-y-6 xl:space-y-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold theme-text",children:f}),e.jsx("p",{className:"theme-text-secondary text-sm lg:text-base",children:T})]}),e.jsx("div",{className:"flex justify-center flex-1",children:e.jsx("div",{className:"inline-flex rounded-lg theme-bg-secondary p-1",children:q.map(c=>{const y=c.icon;return e.jsxs("button",{onClick:()=>M(c.id),className:`flex items-center space-x-2 px-4 lg:px-6 py-2 lg:py-3 font-semibold transition-all duration-200 whitespace-nowrap rounded-md text-sm ${h===c.id?"theme-accent-bg text-white shadow-sm":"theme-text-secondary hover:theme-accent"}`,children:[e.jsx(y,{size:16}),e.jsx("span",{children:c.label})]},c.id)})})}),e.jsx("div",{children:h==="legacy"&&e.jsxs("button",{onClick:()=>{m.current&&m.current.openCreateModal()},className:"flex items-center space-x-2 theme-accent-bg text-white px-3 lg:px-4 py-2 lg:py-2.5 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm",children:[e.jsx(ee,{size:18}),e.jsx("span",{children:"Yangi Shifokor"})]})})]})}),e.jsxs("div",{className:"mt-6",children:[h==="profiles"&&e.jsx(Fe,{}),h==="legacy"&&e.jsx(ue,{ref:m})]})]})};export{Ze as default};
