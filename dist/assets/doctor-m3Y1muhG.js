import{r as c,an as ye,ao as ie,ap as ne,aq as ve,ar as $e,as as H,a as Ne,at as ze,au as _e,j as e,i as K,e as xe,V as Se,b as ue,am as we,av as R,d as Q,aw as be,f as W,O as de,ax as qe,ay as Ae,a0 as pe,az as ae,ad as Z,x as Oe,C as J,N as ge,Q as Ue,F as Y,aA as Ce,c as Pe,aB as De,aC as Te,E as ee,B as ke,al as oe,A as te,S as re,aD as Ie,aE as fe,X,U as Me,P as F,J as Ee,aF as Re,k as me,aG as Fe,aH as Le,h as ce,aI as Ke,aJ as Ye,T as Qe,aa as Xe,aK as He,aL as Je,aM as Ve,I as Ge,aN as We,aO as Ze,aP as he}from"./adminCore-CYmwpiR5.js";import{S as G}from"./shared-B2BY1s1v.js";const se=()=>{const[z,x]=c.useState(null),[h,w]=c.useState(!0),[n,L]=c.useState(!1),[C,u]=c.useState(null),[v,_]=c.useState(null);return c.useEffect(()=>{(async()=>{try{console.log("useAuth: Getting initial session...");const y=ne.get("current_user");if(y){x(y),w(!1),L(!0),console.log("ðŸ“¦ Using cached user session");return}if(!ye()||!ie){console.log("âš ï¸ Supabase not available"),x(null),w(!1),L(!0);return}let j=null,d=null;try{const p=await ie.auth.getSession();j=p.data?.session,d=p.error}catch(p){console.error("Supabase getSession threw:",p),d=p}if(console.log("ðŸ” useAuth: Initial session:",j?.user?.email||"no session"),d)console.error("Error getting session:",d),d instanceof Error&&(d.message?.includes("fetch")||d.message?.includes("network")||d.message?.includes("Failed to fetch")||d.name==="TypeError"||d.message?.includes("NetworkError"))&&(console.log("ðŸš¨ Network error detected while getting session, marking Supabase as unhealthy"),ve(!1)),x(null);else if(j?.user){console.log("ðŸ” Session user metadata:",j.user.user_metadata),console.log("ðŸ” Session app metadata:",j.user.app_metadata);const p={id:j.user.id,email:j.user.email||"",full_name:j.user.user_metadata?.full_name||j.user.user_metadata?.name||j.user.email?.split("@")[0]||"User",phone:j.user.user_metadata?.phone||void 0,role:j.user.user_metadata?.role||"patient",avatar_url:j.user.user_metadata?.avatar_url||j.user.user_metadata?.picture||void 0,created_at:j.user.created_at,updated_at:j.user.updated_at||j.user.created_at};x(p),_(j),ne.set("current_user",p,6e5),ne.set("current_user",p,6e5);const P=j.user.app_metadata?.provider||"email";u(P),console.log("âœ… useAuth: User session loaded:",p.email),console.log("ðŸ” Auth provider:",P)}else console.log("âŒ useAuth: No session found"),x(null),u(null),_(null)}catch(y){console.error("Session loading error:",y),y instanceof Error&&(y.message?.includes("fetch")||y.message?.includes("network")||y.name==="TypeError")&&(console.log("ðŸš¨ Connection error detected, marking Supabase as unhealthy"),ve()),x(null),u(null)}w(!1),L(!0)})();let g=null;if(ye()&&ie){const{data:{subscription:y}}=ie.auth.onAuthStateChange(async(j,d)=>{if(console.log("ðŸ”„ useAuth: Auth state change:",j,d?.user?.email||"no user"),d?.user){console.log("ðŸ” Auth state change user metadata:",d.user.user_metadata);const p={id:d.user.id,email:d.user.email||"",full_name:d.user.user_metadata?.full_name||d.user.user_metadata?.name||d.user.email?.split("@")[0]||"User",phone:d.user.user_metadata?.phone||void 0,role:d.user.user_metadata?.role||"patient",avatar_url:d.user.user_metadata?.avatar_url||d.user.user_metadata?.picture||void 0,created_at:d.user.created_at,updated_at:d.user.updated_at||d.user.created_at};x(p),_(d);const P=d.user.app_metadata?.provider||"email";u(P),console.log("âœ… useAuth: User set from state change:",p.email),console.log("ðŸ” Full user data:",p)}else x(null),u(null),_(null),ne.delete("current_user"),console.log("âŒ useAuth: User cleared from state change");n&&w(!1)});g=y}return()=>{g&&g.unsubscribe()}},[n]),{user:z,session:v,authProvider:C,loading:h,initialized:n,signOut:async()=>{const{error:k}=await $e();return k||(x(null),u(null)),{error:k}},isAuthenticated:!!z}},et=()=>{const{t:z}=H(),{i18n:x}=H(),h=o=>{switch(x.language){case"ru":return`${o} Ð»ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°`;case"en":return`${o} years experience`;default:return`${o} yil tajriba`}},w=o=>{switch(x.language){case"ru":return`${o} Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²`;case"en":return`${o} reviews`;default:return`${o} sharh`}},n=x.language==="ru"?"Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹:":x.language==="en"?"Certificates:":"Sertifikatlar:",L=x.language==="ru"?"ÐµÑ‰Ñ‘":x.language==="en"?"more":"ko'proq",C=x.language==="ru"?"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½":x.language==="en"?"Phone not provided":"Telefon kiritilmagan",u=x.language==="ru"?"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ":x.language==="en"?"View profile":"Profil ko'rish",[v,_]=c.useState([]),[q,k]=c.useState(!0),[g,y]=c.useState(""),[j,d]=c.useState("all"),[p,P]=c.useState("all"),[i,t]=c.useState({}),[f,$]=c.useState(12),[B,S]=c.useState(!1);c.useEffect(()=>{T(),t({})},[x.language,f]);const T=async()=>{k(!0);try{console.log("ðŸ” Loading doctors for public site...");const{data:o,error:D}=await Ne(x.language,{allowMock:!1,limit:f});o?(console.log("âœ… Doctors loaded for public site:",o.length),_(o),k(!1),Promise.all(o.map(async M=>{try{const[r,s]=await Promise.all([ze(M.id),_e(M.id,{approved:!0})]);return[M.id,{averageRating:r.averageRating,totalReviews:s.data?.length||0}]}catch(r){return console.error(`Error loading data for doctor ${M.id}:`,r),[M.id,{averageRating:4.9,totalReviews:0}]}})).then(M=>{t(Object.fromEntries(M))})):D&&console.log("âŒ Error loading doctors:",D)}catch(o){console.error("Error loading doctors:",o)}finally{k(!1)}},O=[{value:"all",label:z("allSpecialties"),count:v.length},{value:"revmatologiya",label:"Revmatologiya",count:2},{value:"ortopediya",label:"Ortopediya",count:1},{value:"reabilitatsiya",label:"Reabilitatsiya",count:1},{value:"kardiologiya",label:"Kardiologiya",count:1},{value:"nevrologiya",label:"Nevrologiya",count:1}],U=[{value:"all",label:z("allExperience"),count:v.length},{value:"5-10",label:"5-10 "+z("yearsExperience"),count:2},{value:"10-15",label:"10-15 "+z("yearsExperience"),count:3},{value:"15+",label:"15+ "+z("yearsExperience"),count:1}],A=v.filter(o=>{const D=o.full_name.toLowerCase().includes(g.toLowerCase())||o.specialization.toLowerCase().includes(g.toLowerCase())||o.bio&&o.bio.toLowerCase().includes(g.toLowerCase()),M=j==="all"||o.specialization.toLowerCase().includes(j),r=p==="all"||p==="5-10"&&o.experience_years>=5&&o.experience_years<=10||p==="10-15"&&o.experience_years>=10&&o.experience_years<=15||p==="15+"&&o.experience_years>=15;return D&&M&&r}),I=async()=>{S(!0);try{const o=f+12;$(o);const{data:D}=await Ne(x.language,{allowMock:!1,limit:o});D&&_(D)}finally{S(!1)}};return q?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})}):e.jsxs("div",{className:"theme-bg min-h-screen",children:[e.jsx(G,{title:"Shifokorlar",description:"Revmatik kasalliklar bo'yicha tajribali shifokorlar. Professional maslahat va davolash xizmatlari.",keywords:"shifokor, revmatolog, ortoped, kardiolog, nevropatolog, tibbiy maslahat",url:"https://revmohelp.uz/doctors"}),e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsxs("section",{className:"relative py-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-teal-600/10 dark:from-blue-400/5 dark:to-teal-400/5"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(K,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-blue-800 text-sm font-medium",children:z("professionalMedicalTeam")})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold theme-text mb-6",children:z("doctorsTitle")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:z("doctorsSubtitle")}),e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm theme-text-tertiary",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(K,{size:16,className:"text-blue-600"}),e.jsx("span",{children:z("certifiedSpecialists")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{size:16,className:"text-green-600"}),e.jsx("span",{children:z("consultation24_7")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Se,{size:16,className:"text-purple-600"}),e.jsx("span",{children:z("onlineConsultation")})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[e.jsx("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 mb-8 mt-8 animate-slide-up",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{style:{backgroundColor:"#ffffff"},type:"text",placeholder:z("searchDoctors"),value:g,onChange:o=>y(o.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 bg-white dark:bg-[#3E433B] theme-text"})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:j,onChange:o=>d(o.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:O.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(we,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:p,onChange:o=>P(o.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:U.map(o=>e.jsx("option",{value:o.value,children:o.label},o.value))})]})})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("p",{className:"theme-text-secondary",children:[e.jsx("span",{className:"font-semibold theme-text",children:A.length})," ",z("doctorsFound")]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:A.map((o,D)=>e.jsx(R,{to:`/doctors/${o.id}`,className:"group block h-full",style:{animationDelay:`${D*100}ms`},children:e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in h-full flex flex-col hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:o.avatar_url,alt:o.full_name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500 lazyload"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),o.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(K,{size:16})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(Q,{size:14,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"4.9"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"text-gray-900 font-semibold flex items-center space-x-2",children:[e.jsx(be,{size:16}),e.jsx("span",{children:u})]})})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-200",children:o.full_name}),e.jsx("p",{className:"theme-accent font-semibold mb-2",children:o.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm leading-relaxed line-clamp-3",children:o.bio||(x.language==="ru"?"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ñ€Ð°Ñ‡":x.language==="en"?"Professional doctor":"Professional shifokor")})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-secondary",children:[e.jsx(W,{size:14}),e.jsx("span",{children:h(o.experience_years)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{size:14,className:"text-yellow-500"}),e.jsxs("span",{className:"theme-text-secondary",children:[i[o.id]?.averageRating?.toFixed(1)||"4.9"," (",w(i[o.id]?.totalReviews||0),")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm theme-text-secondary",children:[e.jsx(de,{size:14}),e.jsx("span",{children:o.phone||C})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-2",children:n}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.certificates?.slice(0,2).map((M,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:M},r)),o.certificates&&o.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",o.certificates.length-2," ",L]})]})]})]})]})},o.id))}),A.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(ue,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:z("noDoctorsFound")}),e.jsx("p",{className:"theme-text-muted",children:z("changeSearchOrFilters")})]}),A.length>0&&v.length>=f&&e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{onClick:I,disabled:B,className:"theme-bg border-2 border-blue-600 theme-accent px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-colors duration-200 transform hover:scale-105 disabled:opacity-60",children:z(B?"loading":"viewMoreDoctors")})})]})]})]})},ct=Object.freeze(Object.defineProperty({__proto__:null,default:et},Symbol.toStringTag,{value:"Module"})),tt=()=>{const{id:z}=qe(),{t:x,i18n:h}=H(),{user:w}=se(),[n,L]=c.useState(null),[C,u]=c.useState([]),[v,_]=c.useState([]),[q,k]=c.useState(null),[g,y]=c.useState(!0),[j,d]=c.useState(!0),[p,P]=c.useState(!0),[i,t]=c.useState(!1),[f,$]=c.useState(!1),[B,S]=c.useState({type:"",text:""}),[T,O]=c.useState("");c.useEffect(()=>{z&&U()},[z,h.language]),c.useEffect(()=>{n&&(s(),A(),I())},[n]);const U=async()=>{if(z){y(!0);try{console.log("ðŸ” Loading doctor profile with ID:",z);const{data:l,error:a}=await Ae(z,h.language);a&&!l?(console.log("âŒ Doctor not found via getDoctorById"),O("Shifokor topilmadi")):l?(console.log("âœ… Doctor found via getDoctorById"),L(l)):O("Shifokor ma'lumotlari yuklanmadi")}catch(l){console.error("âŒ Error in loadDoctor:",l),O("Xatolik yuz berdi")}finally{y(!1)}}},A=async()=>{if(n?.id){P(!0);try{console.log("ðŸ’¬ Loading reviews for doctor ID:",n.id);const{data:l}=await _e(n.id,{approved:!0});l&&(_(l),console.log("âœ… Doctor reviews loaded:",l.length))}catch(l){console.error("âŒ Error loading doctor reviews:",l),_([])}finally{P(!1)}}},I=async()=>{if(n?.id)try{const l=await ze(n.id);k(l)}catch(l){console.error("âŒ Error loading rating stats:",l)}},[o,D]=c.useState({rating:5,comment:"",anonymous:!1,reviewer_name:""}),M=l=>{const{name:a,value:b,type:N}=l.target,E=N==="checkbox"?l.target.checked:!1;D(V=>({...V,[a]:N==="checkbox"?E:b})),B.text&&S({type:"",text:""})},r=async l=>{if(l.preventDefault(),!o.comment.trim()){S({type:"error",text:"Sharh matni kiritilishi shart"});return}if(!w&&!o.reviewer_name.trim()){S({type:"error",text:"Ismingizni kiriting"});return}$(!0),S({type:"",text:""});try{const a={doctor_id:n.id,rating:o.rating,comment:o.comment.trim(),anonymous:o.anonymous,reviewer_name:w?void 0:o.reviewer_name.trim()},{data:b,error:N}=await Ie(a);N?S({type:"error",text:"Xatolik: "+N.message}):(S({type:"success",text:"Sharh muvaffaqiyatli qo'shildi!"}),D({rating:5,comment:"",anonymous:!1,reviewer_name:""}),t(!1),await A(),await I())}catch{S({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{$(!1)}},s=async()=>{if(n?.id){d(!0);try{console.log("ðŸ“ Loading posts for doctor ID:",n.id);const{data:l,error:a}=await pe(h.language,{author_id:n.id,published:!0});l&&l.length>0?(u(l),console.log("âœ… Doctor posts loaded:",l.length)):(console.log("âš ï¸ No posts found for this doctor"),u([]))}catch(l){console.error("âŒ Error loading doctor posts:",l),u([])}finally{d(!1)}}},m=l=>new Date(l).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric"});return g?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor ma'lumotlari yuklanmoqda..."})]})}):T||!n?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Shifokor topilmadi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Siz qidirayotgan shifokor mavjud emas yoki o'chirilgan."}),e.jsxs(R,{to:"/doctors",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(ae,{size:20}),e.jsx("span",{children:"Shifokorlar ro'yxatiga qaytish"})]})]})}):e.jsxs("div",{className:"theme-bg min-h-screen",children:[e.jsx(G,{title:`${n.full_name} - ${n.specialization}`,description:n.bio,keywords:`${n.full_name}, ${n.specialization}, shifokor, revmatolog`,url:`https://revmoinfo.uz/doctors/${n.id}`}),e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx("div",{className:"theme-bg theme-shadow theme-border border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs(R,{to:"/doctors",className:"inline-flex items-center space-x-2 theme-text-secondary hover:theme-accent transition-colors duration-200",children:[e.jsx(ae,{size:20}),e.jsx("span",{children:"Shifokorlar ro'yxatiga qaytish"})]})})}),e.jsxs("section",{className:"relative py-12 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/5 to-teal-600/5 dark:from-blue-400/3 dark:to-teal-400/3"}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"theme-bg rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in",children:e.jsxs("div",{className:"md:flex",children:[e.jsxs("div",{className:"md:w-1/3 relative",children:[n.avatar_url?e.jsx("img",{src:n.avatar_url,alt:n.full_name,className:"w-full h-80 md:h-full object-cover"}):e.jsx("div",{className:"w-full h-80 md:h-full theme-bg-tertiary flex items-center justify-center",children:e.jsx(Z,{size:64,className:"theme-text-muted opacity-50"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"}),n.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-3 rounded-full shadow-lg",children:e.jsx(K,{size:20})})]}),e.jsxs("div",{className:"md:w-2/3 p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold theme-text mb-2",children:n.full_name}),e.jsx("p",{className:"text-xl theme-accent font-semibold mb-4",children:n.specialization}),e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[[1,2,3,4,5].map(l=>e.jsx(Q,{size:18,className:`${l<=(q?.averageRating||4.9)?"text-yellow-500 fill-current":"text-gray-300"}`},l)),e.jsxs("span",{className:"theme-text-secondary ml-2",children:[q?.averageRating?.toFixed(1)||"4.9"," (",q?.totalReviews||127," sharh)"]})]}),e.jsxs("div",{className:"flex items-center space-x-1 theme-text-secondary",children:[e.jsx(Oe,{size:16}),e.jsx("span",{children:"500+ bemor"})]})]})]}),n.bio&&e.jsx("p",{className:"theme-text-secondary leading-relaxed mb-6",children:n.bio}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 theme-bg-secondary rounded-xl",children:[e.jsx(W,{className:"theme-accent",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm theme-text-secondary",children:"Tajriba"}),e.jsxs("p",{className:"font-semibold theme-text",children:[n.experience_years," yil"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 theme-bg-secondary rounded-xl",children:[e.jsx(J,{className:"text-green-600",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm theme-text-secondary",children:"Sertifikatlar"}),e.jsxs("p",{className:"font-semibold theme-text",children:[n.certificates?.length||0," ta"]})]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[n.phone&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-secondary",children:[e.jsx(de,{size:16}),e.jsx("span",{children:n.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-secondary",children:[e.jsx(ge,{size:16}),e.jsx("span",{children:n.email})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-secondary",children:[e.jsx(Ue,{size:16}),e.jsx("span",{children:"Toshkent, O'zbekiston"})]})]})]})]})})})]}),e.jsx("section",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[n.certificates&&n.certificates.length>0&&e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsx("h3",{className:"text-2xl font-bold theme-text mb-4",children:"Sertifikatlar va Ta'lim"}),e.jsx("div",{className:"space-y-3",children:n.certificates.map((l,a)=>e.jsxs("div",{className:"flex items-center space-x-3 p-4 theme-bg-secondary rounded-xl",children:[e.jsx(K,{className:"theme-accent",size:20}),e.jsx("span",{className:"theme-text",children:l})]},a))})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsx("h3",{className:"text-2xl font-bold theme-text mb-4",children:"Mutaxassislik Sohalari"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold theme-accent mb-2",children:n.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm",children:"Asosiy mutaxassislik sohasi"})]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-green-600 dark:text-green-400 mb-2",children:"Professional Tajriba"}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[n.experience_years," yillik amaliy tajriba"]})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(Y,{size:24,className:"theme-accent"}),e.jsx("span",{children:"Shifokor Maqolalari"})]}),e.jsxs("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full",children:[C.length," ta maqola"]})]}),j?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maqolalar yuklanmoqda..."})]}):C.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map((l,a)=>{const b=Ce(l);return e.jsxs("article",{className:"theme-bg-secondary rounded-xl theme-shadow hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1 theme-border border overflow-hidden group animate-fade-in",style:{animationDelay:`${a*100}ms`},children:[e.jsxs("div",{className:"relative h-40 overflow-hidden",children:[l.featured_image_url?e.jsx("img",{src:l.featured_image_url,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):l.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${l.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:N=>{const E=N.target;E.src=`https://img.youtube.com/vi/${l.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse",children:e.jsx(Pe,{size:16,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{size:32,className:"theme-text-muted mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"theme-text-muted text-sm",children:"Matn Maqolasi"})]})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Te(l)}`,children:De(l)})}),l.category&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"px-2 py-1 text-xs font-medium text-white rounded-full",style:{backgroundColor:l.category.color},children:l.category.name})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-bold theme-text mb-2 line-clamp-2 group-hover:theme-accent transition-colors duration-300",children:e.jsx(R,{to:`/posts/${l.slug}`,children:l.title})}),e.jsx("p",{className:"theme-text-secondary text-sm mb-3 line-clamp-2 leading-relaxed",children:l.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{size:12}),e.jsx("span",{children:m(l.published_at||l.created_at)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{size:12}),e.jsx("span",{className:"theme-accent font-medium",children:(l.views_count||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[l.tags.slice(0,2).map(N=>e.jsxs("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:["#",N]},N)),l.tags.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",l.tags.length-2]})]}),e.jsxs(R,{to:`/posts/${l.slug}`,className:"inline-flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 font-medium transition-colors duration-200 text-sm",children:[e.jsx(ke,{size:14}),e.jsx("span",{children:"Batafsil o'qish"}),e.jsx(be,{size:12})]})]})]},l.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Y,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h4",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha maqolalar yo'q"}),e.jsx("p",{className:"theme-text-muted",children:"Bu shifokor hali maqola yozmagan yoki maqolalari nashr etilmagan."})]}),C.length>4&&e.jsx("div",{className:"text-center mt-6",children:e.jsxs(R,{to:`/posts?author=${n.id}`,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(ke,{size:18}),e.jsx("span",{children:"Barcha maqolalarni ko'rish"}),e.jsx(be,{size:16})]})})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(oe,{size:24,className:"theme-accent"}),e.jsxs("span",{children:["Bemorlar Sharhlari (",v.length,")"]})]}),e.jsxs("button",{onClick:()=>t(!i),className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(oe,{size:16}),e.jsx("span",{children:"Sharh yozish"})]})]}),B.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${B.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[B.type==="success"?e.jsx(J,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(te,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:B.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:B.text})]}),i&&e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-6 mb-8 animate-slide-down",children:[e.jsx("h4",{className:"text-lg font-semibold theme-text mb-4",children:"Shifokor haqida sharh qoldiring"}),e.jsxs("form",{onSubmit:r,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Reyting *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(l=>e.jsx("button",{type:"button",onClick:()=>D(a=>({...a,rating:l})),className:`p-1 transition-colors duration-200 ${l<=o.rating?"text-yellow-500":"text-gray-300"}`,children:e.jsx(Q,{size:24,className:l<=o.rating?"fill-current":""})},l))}),e.jsxs("span",{className:"text-sm theme-text-secondary",children:["(",o.rating,"/5)"]})]})]}),!w&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ismingiz *"}),e.jsx("input",{type:"text",name:"reviewer_name",value:o.reviewer_name,onChange:M,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Ismingizni kiriting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Sharh *"}),e.jsx("textarea",{name:"comment",value:o.comment,onChange:M,required:!0,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Shifokor haqida fikringizni bildiring..."}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[o.comment.length,"/500 belgi"]})]}),w&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",name:"anonymous",checked:o.anonymous,onChange:M,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{className:"text-sm theme-text-secondary",children:"Anonim sharh qoldirish"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"submit",disabled:f,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(Q,{size:16}),e.jsx("span",{children:f?"Yuborilmoqda...":"Sharh yuborish"})]}),e.jsx("button",{type:"button",onClick:()=>{t(!1),D({rating:5,comment:"",anonymous:!1,reviewer_name:""}),S({type:"",text:""})},className:"theme-border border theme-text-secondary px-6 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"})]})]})]}),p?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Sharhlar yuklanmoqda..."})]}):v.length>0?e.jsx("div",{className:"space-y-6",children:v.map(l=>e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(Z,{size:20,className:"theme-accent"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:l.anonymous?"Anonim bemor":l.reviewer_name||"Anonim"}),!l.anonymous&&l.reviewer_name&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(W,{size:12}),e.jsx("span",{children:new Date(l.created_at).toLocaleDateString("uz-UZ")})]})]})]}),e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(a=>e.jsx(Q,{size:16,className:`${a<=l.rating?"text-yellow-500 fill-current":"text-gray-300"}`},a))})]}),e.jsx("p",{className:"theme-text-secondary leading-relaxed",children:l.comment})]},l.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(oe,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h4",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha sharhlar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Birinchi bo'lib shifokor haqida fikringizni bildiring!"}),e.jsxs("button",{onClick:()=>t(!0),className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(Q,{size:16}),e.jsx("span",{children:"Birinchi sharh"})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-4",children:"Professional Ma'lumotlar"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/50 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(re,{size:24,className:"theme-accent"})}),e.jsx("div",{className:"text-xl font-bold theme-text mb-1",children:n.experience_years}),e.jsx("div",{className:"theme-text-secondary text-sm",children:"Yillik tajriba"})]}),e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/50 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(K,{size:24,className:"text-green-600 dark:text-green-400"})}),e.jsx("div",{className:"text-xl font-bold theme-text mb-1",children:q?.averageRating?.toFixed(1)||"4.9"}),e.jsx("div",{className:"theme-text-secondary text-sm",children:"O'rtacha reyting"})]}),e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/50 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(oe,{size:24,className:"text-purple-600 dark:text-purple-400"})}),e.jsx("div",{className:"text-xl font-bold theme-text mb-1",children:q?.totalReviews||127}),e.jsx("div",{className:"theme-text-secondary text-sm",children:"Jami sharhlar"})]}),e.jsxs("div",{className:"text-center p-4 theme-bg-secondary rounded-xl",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 dark:bg-orange-900/50 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(K,{size:24,className:"text-orange-600 dark:text-orange-400"})}),e.jsx("div",{className:"text-xl font-bold theme-text mb-1",children:n.certificates?.length||0}),e.jsx("div",{className:"theme-text-secondary text-sm",children:"Sertifikatlar"})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-4",children:"Bog'lanish"}),e.jsxs("div",{className:"space-y-3",children:[n.phone&&e.jsxs("a",{href:`tel:${n.phone}`,className:"flex items-center space-x-3 p-3 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-xl hover:bg-green-100 dark:hover:bg-green-900/30 transition-colors duration-200",children:[e.jsx(de,{size:18}),e.jsx("span",{className:"font-medium",children:n.phone})]}),e.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center space-x-3 p-3 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-xl hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors duration-200",children:[e.jsx(ge,{size:18}),e.jsx("span",{className:"font-medium",children:n.email})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-teal-600 rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"Maslahat Olish"}),e.jsx("p",{className:"text-blue-100 mb-4 text-sm",children:"Professional maslahat va davolash uchun bog'laning"}),e.jsxs(R,{to:"/consultation",className:"w-full bg-white text-blue-600 py-3 rounded-xl font-semibold hover:bg-blue-50 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(re,{size:18}),e.jsx("span",{children:"Bepul maslahat olish"})]})]})]})]})})]})]})},dt=Object.freeze(Object.defineProperty({__proto__:null,default:tt},Symbol.toStringTag,{value:"Module"})),st=()=>{const{t:z}=H(),x=fe(),{user:h}=se(),[w,n]=c.useState("uz"),[L,C]=c.useState(!1),[u,v]=c.useState({type:"",text:""}),[_,q]=c.useState(""),[k,g]=c.useState(""),[y,j]=c.useState(null),[d,p]=c.useState({specialization:"",experience_years:0,bio:"",certificates:[],education:[],languages:["uz"],consultation_fee:0,consultation_duration:30,working_hours:{monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"17:00",available:!0},saturday:{start:"09:00",end:"14:00",available:!1},sunday:{start:"09:00",end:"14:00",available:!1}},translations:{ru:{bio:"",specialization:"",education:[]},en:{bio:"",specialization:"",education:[]}}}),P=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}],i=[{key:"monday",label:"Dushanba"},{key:"tuesday",label:"Seshanba"},{key:"wednesday",label:"Chorshanba"},{key:"thursday",label:"Payshanba"},{key:"friday",label:"Juma"},{key:"saturday",label:"Shanba"},{key:"sunday",label:"Yakshanba"}],t=["Revmatologiya","Ortopediya va travmatologiya","Reabilitatsiya va jismoniy terapiya","Ichki kasalliklar","Kardiologiya","Nevrologiya","Endokrinologiya","Immunologiya","Boshqa"],f=[{code:"uz",label:"O'zbek tili"},{code:"ru",label:"Rus tili"},{code:"en",label:"Ingliz tili"},{code:"tr",label:"Turk tili"},{code:"ar",label:"Arab tili"}],$=s=>{const{name:m,value:l,type:a}=s.target,b=a==="checkbox"?s.target.checked:!1;if(m.includes(".")){const[N,E]=m.split(".");p(V=>({...V,[N]:{...V[N],[E]:a==="checkbox"?b:a==="number"?Number(l):l}}))}else p(N=>({...N,[m]:a==="checkbox"?b:a==="number"?Number(l):l}));u.text&&v({type:"",text:""})},B=s=>{const{name:m,value:l}=s.target;p(a=>({...a,translations:{...a.translations,[w]:{...a.translations[w],[m]:l}}}))},S=(s,m,l)=>{p(a=>({...a,working_hours:{...a.working_hours,[s]:{...a.working_hours[s],[m]:l}}}))},T=()=>{_.trim()&&!d.certificates.includes(_.trim())&&(p(s=>({...s,certificates:[...s.certificates,_.trim()]})),q(""))},O=s=>{p(m=>({...m,certificates:m.certificates.filter(l=>l!==s)}))},U=()=>{k.trim()&&!d.education.includes(k.trim())&&(p(s=>({...s,education:[...s.education,k.trim()]})),g(""))},A=s=>{p(m=>({...m,education:m.education.filter(l=>l!==s)}))},I=s=>{p(m=>({...m,languages:m.languages.includes(s)?m.languages.filter(l=>l!==s):[...m.languages,s]}))},o=s=>{const m=s.target.files?.[0];if(m){if(m.size>5*1024*1024){v({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}p(a=>({...a,avatar:m}));const l=new FileReader;l.onload=()=>j(l.result),l.readAsDataURL(m)}},D=()=>{p(s=>({...s,avatar:void 0})),j(null)},M=()=>d.specialization.trim()?d.experience_years<0?(v({type:"error",text:"Tajriba yillari 0 dan kam bo'lishi mumkin emas"}),!1):d.bio?.trim()?d.certificates.length===0?(v({type:"error",text:"Kamida bitta sertifikat kiritilishi shart"}),!1):d.education.length===0?(v({type:"error",text:"Ta'lim ma'lumotlari kiritilishi shart"}),!1):!0:(v({type:"error",text:"Bio ma'lumot kiritilishi shart"}),!1):(v({type:"error",text:"Mutaxassislik kiritilishi shart"}),!1),r=async s=>{if(s.preventDefault(),!h){v({type:"error",text:"Foydalanuvchi autentifikatsiya qilinmagan"});return}if(M()){C(!0),v({type:"",text:""});try{const{data:m,error:l}=await Fe(h.id,d);l?v({type:"error",text:"Xatolik: "+l.message}):(v({type:"success",text:"Shifokor profili muvaffaqiyatli yaratildi! Admin tasdiqlashini kuting."}),setTimeout(()=>{x("/profile")},2e3))}catch{v({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{C(!1)}}};return h?e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(G,{title:"Shifokor Profili Yaratish",description:"Shifokor sifatida professional profil yarating va bemorlar bilan bog'laning.",keywords:"shifokor profili, tibbiy mutaxassis, revmatolog",url:"https://revmohelp.uz/doctor-registration"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(re,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-blue-800 text-sm font-medium",children:"Doctor Registration"})]}),e.jsxs("h1",{className:"text-4xl font-bold theme-text mb-4",children:["Shifokor ",e.jsx("span",{className:"text-primary-500",children:"Profili"})," Yaratish"]}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:"Professional shifokor profili yarating va bemorlar bilan bog'laning. Profilingiz admin tomonidan tasdiqlanganidan so'ng faol bo'ladi."})]}),u.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${u.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[u.type==="success"?e.jsx(J,{size:20,className:"text-green-600"}):e.jsx(te,{size:20,className:"text-red-600"}),e.jsx("span",{className:u.type==="success"?"text-green-700":"text-red-700",children:u.text})]}),e.jsxs("form",{onSubmit:r,className:"space-y-8",children:[e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Z,{size:24,className:"text-blue-600"}),e.jsx("span",{children:"Asosiy Ma'lumotlar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism (o'zgartirib bo'lmaydi)"}),e.jsx("input",{type:"text",value:h.full_name,disabled:!0,className:"w-full px-4 py-3 theme-border border rounded-lg theme-bg theme-text opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email (o'zgartirib bo'lmaydi)"}),e.jsx("input",{type:"email",value:h.email,disabled:!0,className:"w-full px-4 py-3 theme-border border rounded-lg theme-bg theme-text opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon raqami"}),e.jsx("input",{type:"tel",name:"phone",value:h.phone||"",onChange:$,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"+998 90 123 45 67"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Profil rasmi"}),y?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:y,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:D,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(X,{size:16})})]}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24 h-24 theme-bg-tertiary rounded-full flex items-center justify-center border-2 theme-border border-dashed",children:e.jsx(Z,{size:32,className:"theme-text-muted"})}),e.jsxs("label",{className:"cursor-pointer inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(Me,{className:"w-4 h-4"}),e.jsx("span",{children:"Rasm yuklash"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o})]})]}),e.jsx("p",{className:"text-xs theme-text-muted mt-2",children:"PNG, JPG, WEBP (max 5MB). Profil rasmingiz shifokorlar sahifasida ko'rsatiladi."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik *"}),e.jsxs("select",{name:"specialization",value:d.specialization,onChange:$,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"",children:"Mutaxassislikni tanlang"}),t.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:d.experience_years,onChange:$,required:!0,min:"0",max:"50",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Konsultatsiya narxi (so'm)"}),e.jsx("input",{type:"number",name:"consultation_fee",value:d.consultation_fee,onChange:$,min:"0",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"0 (bepul konsultatsiya)"})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(Y,{size:24,className:"text-green-600"}),e.jsx("span",{children:"Bio va Tarjimalar"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:P.map(s=>e.jsxs("button",{type:"button",onClick:()=>n(s.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${w===s.code?"bg-white theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:s.flag}),e.jsx("span",{children:s.label})]},s.code))})]}),w==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:d.specialization,onChange:$,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Masalan: Revmatologiya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (O'zbek) *"}),e.jsx("textarea",{name:"bio",value:d.bio,onChange:$,required:!0,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"O'zingiz haqingizda batafsil yozing..."})]})]}),w==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"specialization",value:d.translations?.ru.specialization||"",onChange:B,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Ð ÐµÐ²Ð¼Ð°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"bio",value:d.translations?.ru.bio||"",onChange:B,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ Ñ€Ð°ÑÑÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¾ ÑÐµÐ±Ðµ..."})]})]}),w==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"specialization",value:d.translations?.en.specialization||"",onChange:B,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"e.g., Rheumatology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (English)"}),e.jsx("textarea",{name:"bio",value:d.translations?.en.bio||"",onChange:B,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Tell us about yourself in detail..."})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(K,{size:24,className:"text-purple-600"}),e.jsx("span",{children:"Sertifikatlar va Diplomlar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat yoki diplom qo'shish",value:_,onChange:s=>q(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),T()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("button",{type:"button",onClick:T,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:d.certificates.map((s,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 text-purple-800 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"flex-1",children:s}),e.jsx("button",{type:"button",onClick:()=>O(s),className:"text-purple-600 hover:text-purple-800 ml-2",children:e.jsx(X,{size:16})})]},m))})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Ee,{size:24,className:"text-orange-600"}),e.jsx("span",{children:"Ta'lim"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ta'lim muassasasi yoki kurs qo'shish",value:k,onChange:s=>g(s.target.value),onKeyPress:s=>s.key==="Enter"&&(s.preventDefault(),U()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("button",{type:"button",onClick:U,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.education.map((s,m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 text-orange-800 rounded-lg border border-orange-200",children:[e.jsx("span",{className:"flex-1",children:s}),e.jsx("button",{type:"button",onClick:()=>A(s),className:"text-orange-600 hover:text-orange-800 ml-2",children:e.jsx(X,{size:16})})]},m))})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Re,{size:24,className:"text-teal-600"}),e.jsx("span",{children:"Tillar"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:f.map(s=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 theme-bg-secondary rounded-lg cursor-pointer hover:theme-shadow-md transition-all duration-200",children:[e.jsx("input",{type:"checkbox",checked:d.languages.includes(s.code),onChange:()=>I(s.code),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium theme-text",children:s.label})]},s.code))})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(xe,{size:24,className:"text-indigo-600"}),e.jsx("span",{children:"Ish Vaqti"})]}),e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 theme-bg-secondary rounded-lg",children:[e.jsx("div",{className:"w-24",children:e.jsx("span",{className:"text-sm font-medium theme-text",children:s.label})}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:d.working_hours?.[s.key]?.available||!1,onChange:m=>S(s.key,"available",m.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Mavjud"})]}),d.working_hours?.[s.key]?.available&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:d.working_hours[s.key].start,onChange:m=>S(s.key,"start",m.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"dan"}),e.jsx("input",{type:"time",value:d.working_hours[s.key].end,onChange:m=>S(s.key,"end",m.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"gacha"})]})]},s.key))})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>x("/profile"),className:"px-8 py-4 theme-border border theme-text-secondary rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:L,className:"px-8 py-4 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(me,{size:20}),e.jsx("span",{children:L?"Saqlanmoqda...":"Profil Yaratish"})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Shifokor profili yaratish uchun tizimga kirishingiz kerak."}),e.jsx("button",{onClick:()=>x("/login"),className:"theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Tizimga kirish"})]})})},mt=Object.freeze(Object.defineProperty({__proto__:null,default:st},Symbol.toStringTag,{value:"Module"})),at=()=>{const{t:z}=H(),{user:x}=se(),[h,w]=c.useState(null),[n,L]=c.useState([]),[C,u]=c.useState(!0),[v,_]=c.useState(!0);c.useEffect(()=>{x&&q()},[x]);const q=async()=>{if(x){u(!0);try{const[g,y]=await Promise.all([Le(x.id),pe("uz",{author_id:x.id})]);g.data&&w(g.data),y.data&&L(y.data)}catch(g){console.error("Error loading doctor data:",g)}finally{u(!1),_(!1)}}},k={totalPosts:n.length,publishedPosts:n.filter(g=>g.published).length,totalViews:n.reduce((g,y)=>g+(y.views_count||0),0),avgRating:4.8};return x?x.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Ruxsat Yo'q"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Bu sahifa faqat shifokorlar uchun."})]})}):v?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor profili yuklanmoqda..."})]})}):h?e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(G,{title:"Shifokor Paneli",description:"Shifokor uchun shaxsiy panel - maqolalar, bemorlar va profil boshqaruvi",keywords:"shifokor panel, tibbiy maqolalar, bemor boshqaruvi",url:"https://revmohelp.uz/doctor-dashboard"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold theme-text mb-2",children:["Xush kelibsiz, ",h.full_name,"!"]}),e.jsxs("p",{className:"theme-text-secondary",children:["Shifokor paneli - ",h.specialization]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:h.verified?e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Tasdiqlangan"})]}):e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg",children:[e.jsx(xe,{size:16}),e.jsx("span",{children:"Tasdiq kutilmoqda"})]})})]})}),!h.verified&&e.jsx("div",{className:"mb-8 p-6 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(te,{size:24,className:"text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Profil Tasdiq Kutilmoqda"}),e.jsx("p",{className:"text-yellow-700 mb-4",children:"Sizning shifokor profilingiz admin tomonidan ko'rib chiqilmoqda. Tasdiqlangandan so'ng barcha xizmatlardan foydalanishingiz mumkin bo'ladi."}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-yellow-600",children:[e.jsx("span",{children:"â€¢ Profil ma'lumotlarini to'ldiring"}),e.jsx("span",{children:"â€¢ Sertifikatlaringizni qo'shing"}),e.jsx("span",{children:"â€¢ Admin tasdiqlashini kuting"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{size:24,className:"text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:k.totalPosts}),e.jsx("div",{className:"theme-text-secondary",children:"Jami maqolalar"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(J,{size:24,className:"text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:k.publishedPosts}),e.jsx("div",{className:"theme-text-secondary",children:"Nashr etilgan"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ee,{size:24,className:"text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:k.totalViews.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:"Ko'rishlar"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Q,{size:24,className:"text-yellow-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:k.avgRating}),e.jsx("div",{className:"theme-text-secondary",children:"Reyting"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text mb-4",children:"Tezkor Amallar"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(R,{to:"/doctor/posts/create",className:"flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors duration-200",children:[e.jsx(F,{size:20}),e.jsx("span",{className:"font-medium",children:"Yangi Maqola Yozish"})]}),e.jsxs(R,{to:"/doctor/profile/edit",className:"flex items-center space-x-3 p-4 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors duration-200",children:[e.jsx(ce,{size:20}),e.jsx("span",{className:"font-medium",children:"Profilni Tahrirlash"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text",children:"So'nggi Maqolalarim"}),e.jsx(R,{to:"/doctor/posts",className:"text-sm theme-accent hover:text-blue-800 font-medium",children:"Barchasini ko'rish"})]}),n.length>0?e.jsx("div",{className:"space-y-4",children:n.slice(0,3).map(g=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl theme-border border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold theme-text mb-1 line-clamp-1",children:g.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsx("span",{children:g.published?"Nashr etilgan":"Qoralama"}),e.jsxs("span",{children:[(g.views_count||0).toLocaleString()," ko'rishlar"]}),e.jsx("span",{children:new Date(g.created_at).toLocaleDateString("uz-UZ")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(R,{to:`/doctor/posts/edit/${g.id}`,className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(ce,{size:16})}),e.jsx(R,{to:`/posts/${g.slug}`,target:"_blank",className:"p-2 text-green-600 hover:text-green-800 rounded-lg hover:bg-green-50 transition-colors duration-200",children:e.jsx(ee,{size:16})})]})]},g.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Y,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha maqolalar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-4",children:"Birinchi tibbiy maqolangizni yozing"}),e.jsxs(R,{to:"/doctor/posts/create",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Maqola Yozish"})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"Profil Xulasasi"}),e.jsxs("div",{className:"text-center mb-6",children:[h.avatar_url?e.jsx("img",{src:h.avatar_url,alt:h.full_name,className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(re,{size:24,className:"text-blue-600"})}),e.jsx("h4",{className:"text-lg font-bold theme-text",children:h.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:h.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[h.experience_years," yil tajriba"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Sertifikatlar"}),e.jsx("span",{className:"font-medium theme-text",children:h.certificates.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Ta'lim"}),e.jsx("span",{className:"font-medium theme-text",children:h.education.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Tillar"}),e.jsx("span",{className:"font-medium theme-text",children:h.languages.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Holat"}),e.jsx("span",{className:`font-medium ${h.verified?"text-green-600":"text-yellow-600"}`,children:h.verified?"Tasdiqlangan":"Kutilmoqda"})]})]}),e.jsxs(R,{to:"/doctor/profile/edit",className:"w-full mt-6 theme-accent-bg text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(ce,{size:16}),e.jsx("span",{children:"Profilni Tahrirlash"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"Aloqa Ma'lumotlari"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ge,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:h.email})]}),h.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(de,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:h.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(W,{size:16,className:"theme-text-muted"}),e.jsxs("span",{className:"text-sm theme-text",children:[Object.values(h.working_hours||{}).filter(g=>g.available).length," kun mavjud"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"So'nggi Faollik"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:"Profil yaratildi"}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(h.created_at).toLocaleDateString("uz-UZ")})]}),n.length>0&&e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:"Oxirgi maqola"}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(n[0].created_at).toLocaleDateString("uz-UZ")})]})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(re,{size:32,className:"text-blue-600"})}),e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Shifokor Profili Yaratish"}),e.jsx("p",{className:"theme-text-secondary mb-6 max-w-md mx-auto",children:"Shifokor sifatida platformada faoliyat yuritish uchun professional profilingizni yarating."}),e.jsxs(R,{to:"/doctor-registration",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Profil Yaratish"})]})]})}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Shifokor paneliga kirish uchun tizimga kirishingiz kerak."})]})})},xt=Object.freeze(Object.defineProperty({__proto__:null,default:at},Symbol.toStringTag,{value:"Module"})),rt=()=>{const{t:z}=H(),x=fe(),{user:h}=se(),[w,n]=c.useState(null),[L,C]=c.useState(!0),[u,v]=c.useState(!1),[_,q]=c.useState({type:"",text:""}),[k,g]=c.useState("uz"),[y,j]=c.useState(""),[d,p]=c.useState(""),[P,i]=c.useState(null),[t,f]=c.useState({specialization:"",experience_years:0,bio:"",avatar:void 0,certificates:[],education:[],languages:["uz"],consultation_fee:0,consultation_duration:30,working_hours:{monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"17:00",available:!0},saturday:{start:"09:00",end:"14:00",available:!1},sunday:{start:"09:00",end:"14:00",available:!1}},translations:{ru:{bio:"",specialization:"",education:[]},en:{bio:"",specialization:"",education:[]}}}),$=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}],B=[{key:"monday",label:"Dushanba"},{key:"tuesday",label:"Seshanba"},{key:"wednesday",label:"Chorshanba"},{key:"thursday",label:"Payshanba"},{key:"friday",label:"Juma"},{key:"saturday",label:"Shanba"},{key:"sunday",label:"Yakshanba"}],S=[{code:"uz",label:"O'zbek tili"},{code:"ru",label:"Rus tili"},{code:"en",label:"Ingliz tili"},{code:"tr",label:"Turk tili"},{code:"ar",label:"Arab tili"}];c.useEffect(()=>{h&&T()},[h]);const T=async()=>{if(h){C(!0);try{const{data:a,error:b}=await Le(h.id);b?q({type:"error",text:"Profil yuklanmadi: "+b.message}):a?(n(a),f({specialization:a.specialization,experience_years:a.experience_years,bio:a.bio||"",avatar:void 0,certificates:a.certificates||[],education:a.education||[],languages:a.languages||["uz"],consultation_fee:a.consultation_fee||0,consultation_duration:a.consultation_duration||30,working_hours:a.working_hours||t.working_hours,translations:{ru:{bio:"",specialization:"",education:[]},en:{bio:"",specialization:"",education:[]}}}),a.avatar_url&&i(a.avatar_url)):x("/doctor-registration")}catch{q({type:"error",text:"Xatolik yuz berdi"})}finally{C(!1)}}},O=a=>{const{name:b,value:N,type:E}=a.target,V=E==="checkbox"?a.target.checked:!1;if(b.includes(".")){const[le,Be]=b.split(".");f(je=>({...je,[le]:{...je[le],[Be]:E==="checkbox"?V:E==="number"?Number(N):N}}))}else f(le=>({...le,[b]:E==="checkbox"?V:E==="number"?Number(N):N}));_.text&&q({type:"",text:""})},U=a=>{const{name:b,value:N}=a.target;f(E=>({...E,translations:{...E.translations,[k]:{...E.translations[k],[b]:N}}}))},A=(a,b,N)=>{f(E=>({...E,working_hours:{...E.working_hours,[a]:{...E.working_hours[a],[b]:N}}}))},I=()=>{y.trim()&&!t.certificates.includes(y.trim())&&(f(a=>({...a,certificates:[...a.certificates,y.trim()]})),j(""))},o=a=>{f(b=>({...b,certificates:b.certificates.filter(N=>N!==a)}))},D=()=>{d.trim()&&!t.education.includes(d.trim())&&(f(a=>({...a,education:[...a.education,d.trim()]})),p(""))},M=a=>{f(b=>({...b,education:b.education.filter(N=>N!==a)}))},r=a=>{f(b=>({...b,languages:b.languages.includes(a)?b.languages.filter(N=>N!==a):[...b.languages,a]}))},s=a=>{const b=a.target.files?.[0];if(b){if(b.size>5*1024*1024){q({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}f(E=>({...E,avatar:b}));const N=new FileReader;N.onload=()=>i(N.result),N.readAsDataURL(b)}},m=()=>{f(a=>({...a,avatar:void 0})),i(null)},l=async a=>{if(a.preventDefault(),!!w){v(!0),q({type:"",text:""});try{const{data:b,error:N}=await Ye({id:w.id,...t});N?q({type:"error",text:"Xatolik: "+N.message}):(q({type:"success",text:"Profil muvaffaqiyatli yangilandi!"}),setTimeout(()=>{x("/doctor-dashboard")},1500))}catch{q({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{v(!1)}}};return L?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Profil yuklanmoqda..."})]})}):e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(G,{title:"Shifokor Profilini Tahrirlash",description:"Shifokor profili ma'lumotlarini tahrirlash va yangilash",keywords:"shifokor profili, tahrirlash, tibbiy mutaxassis",url:"https://revmohelp.uz/doctor/profile/edit"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-8",children:[e.jsx("button",{onClick:()=>x("/doctor-dashboard"),className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(ae,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Profilni Tahrirlash"}),e.jsx("p",{className:"theme-text-secondary",children:"Professional ma'lumotlaringizni yangilang"})]})]}),_.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${_.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[_.type==="success"?e.jsx(J,{size:20,className:"text-green-600"}):e.jsx(te,{size:20,className:"text-red-600"}),e.jsx("span",{className:_.type==="success"?"text-green-700":"text-red-700",children:_.text})]}),e.jsxs("form",{onSubmit:l,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Z,{size:20,className:"text-blue-600"}),e.jsx("span",{children:"Asosiy Ma'lumotlar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Profil rasmi"}),e.jsxs("div",{className:"flex items-center space-x-6",children:[P?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:P,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:m,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(X,{size:16})})]}):e.jsx("div",{className:"w-24 h-24 theme-bg-tertiary rounded-full flex items-center justify-center border-2 theme-border border-dashed",children:e.jsx(Z,{size:32,className:"theme-text-muted"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{className:"cursor-pointer inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(Ke,{size:16}),e.jsx("span",{children:"Rasm yuklash"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:s})]}),e.jsx("p",{className:"text-xs theme-text-muted mt-2",children:"PNG, JPG, WEBP (max 5MB)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik *"}),e.jsx("input",{type:"text",name:"specialization",value:t.specialization,onChange:O,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:t.experience_years,onChange:O,required:!0,min:"0",max:"50",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Konsultatsiya narxi (so'm)"}),e.jsx("input",{type:"number",name:"consultation_fee",value:t.consultation_fee,onChange:O,min:"0",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Konsultatsiya davomiyligi (daqiqa)"}),e.jsxs("select",{name:"consultation_duration",value:t.consultation_duration,onChange:O,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text",children:[e.jsx("option",{value:15,children:"15 daqiqa"}),e.jsx("option",{value:30,children:"30 daqiqa"}),e.jsx("option",{value:45,children:"45 daqiqa"}),e.jsx("option",{value:60,children:"1 soat"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(Y,{size:20,className:"text-green-600"}),e.jsx("span",{children:"Bio va Tarjimalar"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:$.map(a=>e.jsxs("button",{type:"button",onClick:()=>g(a.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${k===a.code?"bg-white theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:a.flag}),e.jsx("span",{children:a.label})]},a.code))})]}),k==="uz"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (O'zbek) *"}),e.jsx("textarea",{name:"bio",value:t.bio,onChange:O,required:!0,rows:6,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none",placeholder:"O'zingiz haqingizda batafsil yozing..."})]}),k==="ru"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"bio",value:t.translations.ru.bio,onChange:U,rows:6,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ Ñ€Ð°ÑÑÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¾ ÑÐµÐ±Ðµ..."})]}),k==="en"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (English)"}),e.jsx("textarea",{name:"bio",value:t.translations.en.bio,onChange:U,rows:6,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none",placeholder:"Tell us about yourself in detail..."})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(K,{size:20,className:"text-purple-600"}),e.jsx("span",{children:"Sertifikatlar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat qo'shish",value:y,onChange:a=>j(a.target.value),onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),I()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("button",{type:"button",onClick:I,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.certificates.map((a,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 text-purple-800 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"flex-1",children:a}),e.jsx("button",{type:"button",onClick:()=>o(a),className:"text-purple-600 hover:text-purple-800 ml-2",children:e.jsx(X,{size:16})})]},b))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Ee,{size:20,className:"text-orange-600"}),e.jsx("span",{children:"Ta'lim"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ta'lim muassasasi qo'shish",value:d,onChange:a=>p(a.target.value),onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),D()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("button",{type:"button",onClick:D,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(F,{size:20})})]}),e.jsx("div",{className:"space-y-3",children:t.education.map((a,b)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 text-orange-800 rounded-lg border border-orange-200",children:[e.jsx("span",{className:"flex-1",children:a}),e.jsx("button",{type:"button",onClick:()=>M(a),className:"text-orange-600 hover:text-orange-800 ml-2",children:e.jsx(X,{size:16})})]},b))})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(Re,{size:20,className:"text-teal-600"}),e.jsx("span",{children:"Tillar"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:S.map(a=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 theme-bg-secondary rounded-lg border theme-border cursor-pointer hover:theme-shadow-md transition-all duration-200",children:[e.jsx("input",{type:"checkbox",checked:t.languages.includes(a.code),onChange:()=>r(a.code),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium theme-text",children:a.label})]},a.code))})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(xe,{size:20,className:"text-indigo-600"}),e.jsx("span",{children:"Ish Vaqti"})]}),e.jsx("div",{className:"space-y-4",children:B.map(a=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 theme-bg-secondary rounded-lg border theme-border",children:[e.jsx("div",{className:"w-24",children:e.jsx("span",{className:"text-sm font-medium theme-text",children:a.label})}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:t.working_hours[a.key]?.available||!1,onChange:b=>A(a.key,"available",b.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Mavjud"})]}),t.working_hours[a.key]?.available&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:t.working_hours[a.key].start,onChange:b=>A(a.key,"start",b.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"dan"}),e.jsx("input",{type:"time",value:t.working_hours[a.key].end,onChange:b=>A(a.key,"end",b.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"gacha"})]})]},a.key))})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>x("/doctor-dashboard"),className:"px-8 py-4 theme-border border theme-text-secondary rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:u,className:"px-8 py-4 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(me,{size:20}),e.jsx("span",{children:u?"Saqlanmoqda...":"Saqlash"})]})]})]})]})]})},ht=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),lt=()=>{const{t:z}=H(),{user:x}=se(),[h,w]=c.useState([]),[n,L]=c.useState(!0),[C,u]=c.useState(""),[v,_]=c.useState("all"),[q,k]=c.useState(null),[g,y]=c.useState({type:"",text:""});c.useEffect(()=>{x&&j()},[x]);const j=async()=>{if(x){L(!0);try{const{data:i}=await pe("uz",{author_id:x.id});i&&w(i)}catch(i){console.error("Error loading posts:",i),y({type:"error",text:"Maqolalarni yuklashda xatolik"})}finally{L(!1)}}},d=async(i,t)=>{if(confirm(`"${t}" maqolasini o'chirishni xohlaysizmi?`)){k(i),y({type:"",text:""});try{const{error:f}=await He(i);f?y({type:"error",text:f.message}):(y({type:"success",text:"Maqola muvaffaqiyatli o'chirildi!"}),await j())}catch{y({type:"error",text:"Xatolik yuz berdi"})}finally{k(null)}}},p=h.filter(i=>{const t=i.title.toLowerCase().includes(C.toLowerCase())||i.excerpt.toLowerCase().includes(C.toLowerCase()),f=v==="all"||v==="published"&&i.published||v==="draft"&&!i.published;return t&&f}),P=i=>new Date(i).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return x?x.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Ruxsat Yo'q"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Bu sahifa faqat shifokorlar uchun."})]})}):n?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maqolalar yuklanmoqda..."})]})}):e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(G,{title:"Mening Maqolalarim",description:"Shifokor maqolalarini boshqarish paneli",keywords:"shifokor maqolalar, tibbiy yozuvlar, maqola boshqaruvi",url:"https://revmohelp.uz/doctor/posts"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{to:"/doctor-dashboard",className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(ae,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Mening Maqolalarim"}),e.jsx("p",{className:"theme-text-secondary",children:"Tibbiy maqolalarni yaratish va boshqarish"})]})]}),e.jsxs(R,{to:"/doctor/posts/create",className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Yangi Maqola"})]})]}),g.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${g.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[g.type==="success"?e.jsx(J,{size:20,className:"text-green-600"}):e.jsx(te,{size:20,className:"text-red-600"}),e.jsx("span",{className:g.type==="success"?"text-green-700":"text-red-700",children:g.text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:h.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami maqolalar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.filter(i=>i.published).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Nashr etilgan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.filter(i=>!i.published).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Qoralama"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.reduce((i,t)=>i+(t.views_count||0),0).toLocaleString()}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami ko'rishlar"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Maqolalarni qidiring...",value:C,onChange:i=>u(i.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:v,onChange:i=>_(i.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha holatlar"}),e.jsx("option",{value:"published",children:"Nashr etilgan"}),e.jsx("option",{value:"draft",children:"Qoralama"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map(i=>{const t=Ce(i);return e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border overflow-hidden hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i.featured_image_url?e.jsx("img",{src:i.featured_image_url,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):i.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${i.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:i.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:f=>{const $=f.target;$.src=`https://img.youtube.com/vi/${i.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center group-hover:bg-opacity-50 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse group-hover:scale-110 transition-transform duration-300",children:e.jsx(Pe,{size:24,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center group-hover:theme-bg-quaternary transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(t,{size:48,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),e.jsx("p",{className:"theme-text-muted text-sm font-medium",children:"Matn Maqolasi"})]})}),e.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:i.category&&e.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-white rounded-full shadow-lg",style:{backgroundColor:i.category.color},children:i.category.name})}),e.jsxs("div",{className:"absolute top-4 right-4 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full shadow-lg ${Te(i)}`,children:De(i)}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full shadow-lg ${i.published?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:i.published?"Nashr etilgan":"Qoralama"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300",children:i.title}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:i.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{size:14}),e.jsx("span",{children:P(i.created_at)})]})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ee,{size:14}),e.jsx("span",{className:"theme-accent font-medium",children:(i.views_count||0).toLocaleString()})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[i.tags.slice(0,2).map(f=>e.jsxs("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full font-medium",children:["#",f]},f)),i.tags.length>2&&e.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full font-medium",children:["+",i.tags.length-2]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(R,{to:`/doctor/posts/edit/${i.id}`,className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(ce,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsxs(R,{to:`/posts/${i.slug}`,target:"_blank",className:"flex items-center space-x-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 transition-all duration-200 transform hover:scale-105",title:"Ko'rish",children:[e.jsx(ee,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Ko'rish"})]}),e.jsx("button",{onClick:()=>d(i.id,i.title),disabled:q===i.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:q===i.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(Qe,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xe,{size:10}),e.jsxs("span",{children:[i.tags.length," teg"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Y,{size:10}),e.jsxs("span",{children:[i.content.length>1e3?"1K+":i.content.length," belgi"]})]})]})]})]})]},i.id)})}),p.length===0&&!n&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(Y,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:C||v!=="all"?"Maqola topilmadi":"Hozircha maqolalar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-6",children:C||v!=="all"?"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang":"Birinchi tibbiy maqolangizni yozing"}),e.jsxs(R,{to:"/doctor/posts/create",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Yangi Maqola Yozish"})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Maqolalar sahifasiga kirish uchun tizimga kirishingiz kerak."})]})})},ut=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"})),it=()=>{const{t:z}=H(),x=fe(),{user:h}=se(),{id:w}=qe(),n=!!w,[L,C]=c.useState([]),[u,v]=c.useState("uz"),[_,q]=c.useState(""),[k,g]=c.useState(null),[y,j]=c.useState(!1),[d,p]=c.useState(n),[P,i]=c.useState({type:"",text:""}),[t,f]=c.useState({title:"",slug:"",meta_title:"",meta_description:"",category_id:"",tags:[],post_type:"text",content:"",excerpt:"",published:!1,translations:{ru:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""},en:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}}});c.useEffect(()=>{$(),n&&B()},[n,w]);const $=async()=>{try{const{data:r}=await Je();r&&C(r)}catch(r){console.error("Error loading categories:",r)}},B=async()=>{if(w){p(!0);try{const{data:r}=await Ve(w);r&&(f({title:r.title,slug:r.slug,meta_title:r.meta_title||"",meta_description:r.meta_description||"",category_id:r.category_id||"",tags:r.tags||[],post_type:r.youtube_url?"video":r.featured_image_url?"image":"text",youtube_url:r.youtube_url||"",content:r.content,excerpt:r.excerpt,published:r.published,translations:{ru:(()=>{const s=r.translations?.find(m=>m.language==="ru");return s?{title:s.title||"",content:s.content||"",excerpt:s.excerpt||"",meta_title:s.meta_title||"",meta_description:s.meta_description||"",slug:s.slug||""}:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}})(),en:(()=>{const s=r.translations?.find(m=>m.language==="en");return s?{title:s.title||"",content:s.content||"",excerpt:s.excerpt||"",meta_title:s.meta_title||"",meta_description:s.meta_description||"",slug:s.slug||""}:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}})()}}),r.featured_image_url&&g(r.featured_image_url))}catch(r){console.error("Error loading post:",r),i({type:"error",text:"Maqolani yuklashda xatolik yuz berdi"})}finally{p(!1)}}};c.useEffect(()=>{if(t.title&&!n){const r=t.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();f(s=>({...s,slug:r}))}},[t.title,n]),c.useEffect(()=>{if(t.content&&!t.excerpt&&u==="uz"){const r=t.content.replace(/[#*`]/g,"").substring(0,200).trim()+"...";f(s=>({...s,excerpt:r}))}},[t.content,u]);const S=(r,s)=>{f(m=>({...m,[r]:s})),P.text&&i({type:"",text:""})},T=r=>{const{name:s,value:m}=r.target;f(l=>({...l,translations:{...l.translations,[u]:{...l.translations[u],[s]:m}}}))},O=r=>{const s=r.target.files?.[0];if(s){if(s.size>5*1024*1024){i({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}f(l=>({...l,featured_image:s}));const m=new FileReader;m.onload=()=>g(m.result),m.readAsDataURL(s)}},U=()=>{f(r=>({...r,featured_image:void 0})),g(null)},A=()=>{_.trim()&&!t.tags.includes(_.trim())&&(f(r=>({...r,tags:[...r.tags,_.trim()]})),q(""))},I=r=>{f(s=>({...s,tags:s.tags.filter(m=>m!==r)}))},o=async()=>{if(!t.title.trim())return i({type:"error",text:"Sarlavha kiritilishi shart"}),!1;if(!t.content.trim())return i({type:"error",text:"Maqola matni kiritilishi shart"}),!1;if(!t.category_id)return i({type:"error",text:"Kategoriya tanlanishi shart"}),!1;if(t.post_type==="video"&&!t.youtube_url)return i({type:"error",text:"Video turi uchun YouTube URL kiritilishi shart"}),!1;const{isUnique:r}=await he(t.slug,"uz",n?w:void 0);if(!r)return i({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa sarlavha yozing yoki URL ni o'zgartiring."}),!1;if(t.translations.ru.slug){const{isUnique:s}=await he(t.translations.ru.slug,"ru",n?w:void 0);if(!s)return i({type:"error",text:"Rus tilidagi URL (slug) allaqachon mavjud."}),!1}if(t.translations.en.slug){const{isUnique:s}=await he(t.translations.en.slug,"en",n?w:void 0);if(!s)return i({type:"error",text:"Ingliz tilidagi URL (slug) allaqachon mavjud."}),!1}return!0},D=async(r=!1)=>{if(await o()){j(!0),i({type:"",text:""});try{const s={title:t.title,content:t.content,excerpt:t.excerpt||t.content.substring(0,200)+"...",slug:t.slug,featured_image:t.featured_image,youtube_url:t.youtube_url,category_id:t.category_id,tags:t.tags,meta_title:t.meta_title||t.title,meta_description:t.meta_description||t.excerpt,published:!r,translations:t.translations};let m;n?m=await We({id:w,...s}):m=await Ze(s),m.error?i({type:"error",text:"Xatolik: "+m.error.message}):(i({type:"success",text:n?"Maqola muvaffaqiyatli yangilandi!":r?"Qoralama saqlandi!":"Maqola nashr etildi!"}),setTimeout(()=>{x("/doctor/posts")},1500))}catch{i({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{j(!1)}}},M=()=>{t.slug&&window.open(`/posts/${t.slug}`,"_blank")};return h?h.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Ruxsat Yo'q"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Bu sahifa faqat shifokorlar uchun."})]})}):d?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maqola yuklanmoqda..."})]})}):e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(G,{title:n?"Maqolani Tahrirlash":"Yangi Maqola Yaratish",description:"Shifokor uchun maqola yaratish va tahrirlash",keywords:"maqola yaratish, tibbiy yozuv, shifokor",url:`https://revmohelp.uz/doctor/posts/${n?"edit/"+w:"create"}`}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(R,{to:"/doctor/posts",className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(ae,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:n?"Maqolani Tahrirlash":"Yangi Maqola Yaratish"}),e.jsx("p",{className:"theme-text-secondary",children:n?"Mavjud maqolani tahrirlang":"Yangi tibbiy maqola yozing"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:M,disabled:!t.slug,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50",children:[e.jsx(ee,{size:16}),e.jsx("span",{children:"Ko'rish"})]}),e.jsxs("button",{onClick:()=>D(!0),disabled:y,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50",children:[e.jsx(me,{size:16}),e.jsx("span",{children:"Qoralama"})]}),e.jsxs("button",{onClick:()=>D(!1),disabled:y,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(me,{size:16}),e.jsx("span",{children:y?"Saqlanmoqda...":"Nashr etish"})]})]})]}),P.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${P.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[P.type==="success"?e.jsx(J,{size:20,className:"text-green-600"}):e.jsx(te,{size:20,className:"text-red-600"}),e.jsx("span",{className:P.type==="success"?"text-green-700":"text-red-700",children:P.text})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Maqola Sarlavhasi"}),e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasini kiriting",value:t.title,onChange:r=>S("title",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text text-lg font-medium"})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmoinfo.uz/posts/"}),e.jsx("input",{type:"text",value:t.slug,onChange:r=>S("slug",r.target.value),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Maqola Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:Y,label:"Matn Maqolasi"},{type:"image",icon:Ge,label:"Rasm Maqolasi"},{type:"video",icon:Se,label:"Video Maqolasi"}].map(({type:r,icon:s,label:m})=>e.jsxs("button",{type:"button",onClick:()=>S("post_type",r),className:`p-4 border-2 rounded-lg transition-all duration-200 ${t.post_type===r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(s,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:m})]},r))})]}),(t.post_type==="image"||t.post_type==="video")&&e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6 animate-fade-in",children:[t.post_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Asosiy Rasm"}),k?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:k,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:U,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(X,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer bg-white hover:bg-gray-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Me,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:O})]})]}),t.post_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t.youtube_url||"",onChange:r=>S("youtube_url",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Maqola Matni"}),e.jsx("div",{className:"flex space-x-1 bg-white theme-border border rounded-lg p-1",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}].map(r=>e.jsxs("button",{type:"button",onClick:()=>v(r.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${u===r.code?"bg-blue-50 dark:bg-blue-900/20 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:r.flag}),e.jsx("span",{children:r.label})]},r.code))})]}),u==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi (O'zbek)",value:t.title,onChange:r=>S("title",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Tibbiy maqola matnini shu yerga yozing... (O'zbek tilida)",value:t.content,onChange:r=>S("content",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.content.length," belgi"]})]}),u==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ð°Ñ‚ÑŒÐ¸ (Ð ÑƒÑÑÐºÐ¸Ð¹)",value:t.translations.ru.title,onChange:T,name:"title",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Ð¢ÐµÐºÑÑ‚ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸... (Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ)",value:t.translations.ru.content,onChange:T,name:"content",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.ru.content.length," ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),u==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Article title (English)",value:t.translations.en.title,onChange:T,name:"title",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Medical article content... (in English)",value:t.translations.en.content,onChange:T,name:"content",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.en.content.length," characters"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:["Qisqacha Mazmun (",u==="uz"?"O'zbek":u==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),u==="uz"&&e.jsx("textarea",{rows:3,placeholder:"Maqolaning qisqacha mazmuni (avtomatik yaratiladi)",value:t.excerpt,onChange:r=>S("excerpt",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),u==="ru"&&e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸",value:t.translations.ru.excerpt,onChange:T,name:"excerpt",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),u==="en"&&e.jsx("textarea",{rows:3,placeholder:"Article excerpt",value:t.translations.en.excerpt,onChange:T,name:"excerpt",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4",children:["SEO Sozlamalari (",u==="uz"?"O'zbek":u==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),u==="uz"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Sarlavha"}),e.jsx("input",{type:"text",placeholder:"Qidiruv tizimlari uchun sarlavha",value:t.meta_title,onChange:r=>S("meta_title",r.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.meta_title.length,"/60 belgi"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Tavsif"}),e.jsx("textarea",{rows:3,placeholder:"Qidiruv tizimlari uchun qisqacha tavsif",value:t.meta_description,onChange:r=>S("meta_description",r.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.meta_description.length,"/160 belgi"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmoinfo.uz/posts/"}),e.jsx("input",{type:"text",value:t.slug,onChange:r=>S("slug",r.target.value),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]}),u==="ru"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº"}),e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼",value:t.translations.ru.meta_title,onChange:T,name:"meta_title",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.translations.ru.meta_title.length,"/60 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ"}),e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼",value:t.translations.ru.meta_description,onChange:T,name:"meta_description",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.translations.ru.meta_description.length,"/160 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmohelp.uz/ru/posts/"}),e.jsx("input",{type:"text",value:t.translations.ru.slug,onChange:T,name:"slug",className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]}),u==="en"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Title"}),e.jsx("input",{type:"text",placeholder:"Title for search engines",value:t.translations.en.meta_title,onChange:T,name:"meta_title",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.translations.en.meta_title.length,"/60 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Description"}),e.jsx("textarea",{rows:3,placeholder:"Brief description for search engines",value:t.translations.en.meta_description,onChange:T,name:"meta_description",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[t.translations.en.meta_description.length,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmohelp.uz/en/posts/"}),e.jsx("input",{type:"text",value:t.translations.en.slug,onChange:T,name:"slug",className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${t.title&&t.content?"text-green-600":"theme-text-muted"}`,children:t.title&&t.content?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.ru.title&&t.translations.ru.content?"text-green-600":"theme-text-muted"}`,children:t.translations.ru.title&&t.translations.ru.content?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.en.title&&t.translations.en.content?"text-green-600":"theme-text-muted"}`,children:t.translations.en.title&&t.translations.en.content?"Ready":"Not filled"})]})]})]})]}),e.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.published,onChange:r=>S("published",r.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Kategoriya"}),e.jsxs("select",{value:t.category_id,onChange:r=>S("category_id",r.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text",children:[e.jsx("option",{value:"",children:"Kategoriya tanlang"}),L.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Teglar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Teg qo'shish",value:_,onChange:r=>q(r.target.value),onKeyPress:r=>r.key==="Enter"&&(r.preventDefault(),A()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(F,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(r=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>I(r),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(X,{size:12})})]},r))})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Maqola yaratish uchun tizimga kirishingiz kerak."})]})})},bt=Object.freeze(Object.defineProperty({__proto__:null,default:it},Symbol.toStringTag,{value:"Module"}));export{ct as D,dt as a,mt as b,xt as c,ht as d,ut as e,bt as f,se as u};
