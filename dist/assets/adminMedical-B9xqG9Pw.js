import{r as l,j as e,S as le,P as S,F as ve,V as Ne,I as ke,g as we,a as _e,C as ie,A as ne,b as ee,c as xe,d as oe,e as Se,f as he,h as Ce,E as ue,T as pe,i as ze,X as _,k as te,l as De,m as qe,u as Te,n as Me,o as Pe,p as Ke,q as Le,U as Be,s as Ee,t as Ie,v as Fe,w as Re}from"./adminCore-BtA5lFAk.js";import{D as $e,c as Ue,d as me}from"./shared-Bjo-oKY7.js";const Oe=()=>{const[i,$]=l.useState("profiles"),v=l.useRef(null),M=[{id:"profiles",label:"Shifokor Profillari",icon:le},{id:"legacy",label:"Eski Shifokorlar",icon:le}],k=i==="profiles"?"Shifokor Profillari":"Eski Shifokorlar",P=i==="profiles"?"Shifokor profillarini boshqarish":"Eski shifokorlarni boshqarish";return e.jsxs("div",{className:"space-y-4 lg:space-y-6 xl:space-y-8",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold theme-text",children:k}),e.jsx("p",{className:"theme-text-secondary text-sm lg:text-base",children:P})]}),e.jsx("div",{className:"flex justify-center flex-1",children:e.jsx("div",{className:"inline-flex rounded-lg theme-bg-secondary p-1",children:M.map(h=>{const w=h.icon;return e.jsxs("button",{onClick:()=>$(h.id),className:`flex items-center space-x-2 px-4 lg:px-6 py-2 lg:py-3 font-semibold transition-all duration-200 whitespace-nowrap rounded-md text-sm ${i===h.id?"theme-accent-bg text-white shadow-sm":"theme-text-secondary hover:theme-accent"}`,children:[e.jsx(w,{size:16}),e.jsx("span",{children:h.label})]},h.id)})})}),e.jsx("div",{children:i==="legacy"&&e.jsxs("button",{onClick:()=>{v.current&&v.current.openCreateModal()},className:"flex items-center space-x-2 theme-accent-bg text-white px-3 lg:px-4 py-2 lg:py-2.5 rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm",children:[e.jsx(S,{size:18}),e.jsx("span",{children:"Yangi Shifokor"})]})})]})}),e.jsxs("div",{className:"mt-6",children:[i==="profiles"&&e.jsx($e,{}),i==="legacy"&&e.jsx(Ue,{ref:v})]})]})},Je=Object.freeze(Object.defineProperty({__proto__:null,default:Oe},Symbol.toStringTag,{value:"Module"})),Qe=i=>{switch(i){case"image":return ke;case"video":return Ne;default:return ve}},Ae=i=>{switch(i){case"image":return"Rasm Hikoyasi";case"video":return"Video Hikoya";default:return"Matn Hikoyasi"}},Xe=i=>{switch(i){case"image":return"bg-teal-600";case"video":return"bg-red-600";default:return"bg-blue-600"}},Ye=()=>{const[i,$]=l.useState([]),[v,M]=l.useState([]),[k,P]=l.useState(!0),[h,w]=l.useState(""),[U,W]=l.useState("all"),[C,J]=l.useState("all"),[f,O]=l.useState(!1),[K,z]=l.useState(!1),[L,Q]=l.useState(null),[p,o]=l.useState(!1),[A,D]=l.useState(null),[g,d]=l.useState({type:"",text:""}),[B,j]=l.useState(null),[a,u]=l.useState({patient_name:"",age:25,diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:"",content_type:"text",symptoms:[],treatment_methods:[],medications:[],lifestyle_changes:"",rating:5,featured:!1,published:!1,order_index:0,meta_title:"",meta_description:""});l.useEffect(()=>{N()},[]);const N=async()=>{P(!0);try{const[s,c]=await Promise.all([we(),_e("uz",{active:!0,verified:!0})]);s.data&&$(s.data),c.data&&M(c.data)}catch{d({type:"error",text:"Ma'lumotlarni yuklashda xatolik"})}finally{P(!1)}},E=(s,c)=>{u(n=>({...n,[s]:c})),g.text&&d({type:"",text:""})},q=s=>{const c=s.target.files?.[0];if(c){if(c.size>5*1024*1024){d({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}u(m=>({...m,featured_image:c}));const n=new FileReader;n.onload=()=>j(n.result),n.readAsDataURL(c)}},I=()=>{u(s=>({...s,featured_image:void 0})),j(null)},T=()=>{u({patient_name:"",age:25,diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:"",content_type:"text",symptoms:[],treatment_methods:[],medications:[],lifestyle_changes:"",rating:5,featured:!1,published:!1,order_index:0,meta_title:"",meta_description:""}),Q(null),j(null)},F=()=>{T(),O(!0)},Z=s=>{const c=(s.translations||[]).reduce((n,m)=>((m.language==="ru"||m.language==="en")&&(n[m.language]={patient_name:m.patient_name||"",diagnosis:m.diagnosis||"",story_content:m.story_content||"",treatment_duration:m.treatment_duration||"",outcome:m.outcome||"",doctor_name:m.doctor_name||"",symptoms:m.symptoms||s.symptoms||[],treatment_methods:m.treatment_methods||s.treatment_methods||[],medications:m.medications||s.medications||[],lifestyle_changes:m.lifestyle_changes||s.lifestyle_changes||"",meta_title:m.meta_title||"",meta_description:m.meta_description||""}),n),{});u({patient_name:s.patient_name,age:s.age,diagnosis:s.diagnosis,story_content:s.story_content,treatment_duration:s.treatment_duration,outcome:s.outcome,doctor_name:s.doctor_name,content_type:s.content_type,youtube_url:s.youtube_url,symptoms:s.symptoms||[],treatment_methods:s.treatment_methods||[],medications:s.medications||[],lifestyle_changes:s.lifestyle_changes||"",rating:s.rating||5,featured:s.featured||!1,published:s.published||!1,order_index:s.order_index||0,meta_title:s.meta_title||"",meta_description:s.meta_description||"",translations:c}),s.featured_image_url&&j(s.featured_image_url),Q(s),z(!0)},y=()=>{O(!1),z(!1),T(),d({type:"",text:""})},b=()=>a.patient_name.trim()?a.diagnosis.trim()?a.story_content.trim()?a.doctor_name.trim()?a.content_type==="video"&&!a.youtube_url?(d({type:"error",text:"Video turi uchun YouTube URL kiritilishi shart"}),!1):!0:(d({type:"error",text:"Shifokor tanlanishi shart"}),!1):(d({type:"error",text:"Hikoya matni kiritilishi shart"}),!1):(d({type:"error",text:"Tashxis kiritilishi shart"}),!1):(d({type:"error",text:"Bemor ismi kiritilishi shart"}),!1),G=async s=>{if(s.preventDefault(),!!b()){o(!0),d({type:"",text:""});try{const c=i.length>0?Math.max(...i.map(H=>typeof H.order_index=="number"?H.order_index:0))+1:1,n={...a,order_index:c},{data:m,error:Y}=await qe(n);Y?d({type:"error",text:"Xatolik: "+Y.message}):(d({type:"success",text:"Bemor tarixi muvaffaqiyatli yaratildi!"}),await N(),setTimeout(()=>{y()},1500))}catch{d({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{o(!1)}}},se=async s=>{if(s.preventDefault(),!(!L||!b())){o(!0),d({type:"",text:""});try{const{data:c,error:n}=await Te({id:L.id,...a});n?d({type:"error",text:"Xatolik: "+n.message}):(d({type:"success",text:"Bemor tarixi muvaffaqiyatli yangilandi!"}),await N(),setTimeout(()=>{y()},1500))}catch{d({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{o(!1)}}},ae=async(s,c)=>{if(confirm(`${c}ning tarixini o'chirishni xohlaysizmi?`)){D(s),d({type:"",text:""});try{const{error:n}=await De(s);n?d({type:"error",text:n.message}):(d({type:"success",text:"Bemor tarixi muvaffaqiyatli o'chirildi!"}),await N())}catch{d({type:"error",text:"Xatolik yuz berdi"})}finally{D(null)}}},X=i.filter(s=>{const c=s.patient_name.toLowerCase().includes(h.toLowerCase())||s.diagnosis.toLowerCase().includes(h.toLowerCase())||s.doctor_name.toLowerCase().includes(h.toLowerCase()),n=U==="all"||s.content_type===U,m=C==="all"||C==="published"&&s.published||C==="draft"&&!s.published||C==="featured"&&s.featured;return c&&n&&m}),re=s=>new Date(s).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return k?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Bemorlar tarixi yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Bemorlar Tarixi Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Bemor hikoyalarini yaratish va boshqarish"})]}),e.jsxs("button",{onClick:F,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Yangi Hikoya"})]})]}),g.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${g.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[g.type==="success"?e.jsx(ie,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(ne,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:g.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:g.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:i.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami hikoyalar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.filter(s=>s.published).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Nashr etilgan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.filter(s=>s.featured).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Asosiy"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.filter(s=>s.content_type==="video").length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Video"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:i.filter(s=>s.content_type==="image").length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Rasm"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Bemorlar tarixini qidiring...",value:h,onChange:s=>w(s.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:U,onChange:s=>W(s.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha turlar"}),e.jsx("option",{value:"text",children:"Matn"}),e.jsx("option",{value:"image",children:"Rasm"}),e.jsx("option",{value:"video",children:"Video"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:C,onChange:s=>J(s.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha holatlar"}),e.jsx("option",{value:"published",children:"Nashr etilgan"}),e.jsx("option",{value:"draft",children:"Qoralama"}),e.jsx("option",{value:"featured",children:"Asosiy"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(s=>{const c=Qe(s.content_type);return e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.featured_image_url?e.jsx("img",{src:s.featured_image_url,alt:s.patient_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):s.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${s.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:s.patient_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:n=>{const m=n.target;m.src=`https://img.youtube.com/vi/${s.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center group-hover:bg-opacity-50 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse group-hover:scale-110 transition-transform duration-300",children:e.jsx(xe,{size:24,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center group-hover:theme-bg-quaternary transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(c,{size:48,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),e.jsx("p",{className:"theme-text-muted text-sm font-medium",children:"Matn Hikoyasi"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${Xe(s.content_type)}`,children:Ae(s.content_type)}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s.published?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:s.published?"Nashr etilgan":"Qoralama"}),s.featured&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(oe,{size:12}),e.jsx("span",{children:"Asosiy"})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("div",{className:"flex items-center space-x-1 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[1,2,3,4,5].map(n=>e.jsx(oe,{size:12,className:`${n<=(s.rating||5)?"text-yellow-500 fill-current":"text-gray-300"}`},n))})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:s.patient_name}),e.jsxs("span",{className:"text-sm theme-text-muted",children:[s.age," yosh"]})]}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-semibold text-sm mb-3",children:s.diagnosis}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.story_content}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Se,{size:14}),e.jsx("span",{className:"truncate max-w-20",children:s.treatment_duration})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(le,{size:14}),e.jsx("span",{className:"truncate max-w-24",children:s.doctor_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(he,{size:14}),e.jsx("span",{children:re(s.created_at)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs theme-text-muted mb-4 p-3 theme-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[s.symptoms?.length||0," belgi"]}),e.jsxs("span",{children:[s.medications?.length||0," dori"]}),e.jsxs("span",{children:[s.treatment_methods?.length||0," usul"]})]}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Muvaffaqiyatli"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>Z(s),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(Ce,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsxs("a",{href:`/patient-stories/${s.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 transition-all duration-200 transform hover:scale-105",title:"Ko'rish",children:[e.jsx(ue,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Ko'rish"})]}),e.jsx("button",{onClick:()=>ae(s.id,s.patient_name),disabled:A===s.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:A===s.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(ze,{size:12}),e.jsxs("span",{children:[s.rating,"/5"]})]})]})]})]},s.id)})}),X.length===0&&!k&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(ee,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Bemor tarixi topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi hikoya yarating"}),e.jsxs("button",{onClick:F,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Birinchi hikoyani yaratish"})]})]}),f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Bemor Tarixi"}),e.jsx("button",{onClick:y,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsxs("form",{onSubmit:G,children:[e.jsx(me,{formData:a,doctors:v,onInputChange:E,onFormDataChange:u,imagePreview:B,onImageUpload:q,onRemoveImage:I}),e.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t theme-border",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(te,{size:18}),e.jsx("span",{children:p?"Yaratilmoqda...":"Yaratish"})]})]})]})]})}),K&&L&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Bemor Tarixini Tahrirlash"}),e.jsx("button",{onClick:y,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsxs("form",{onSubmit:se,children:[e.jsx(me,{formData:a,doctors:v,onInputChange:E,onFormDataChange:u,imagePreview:B,onImageUpload:q,onRemoveImage:I}),e.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t theme-border",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(te,{size:18}),e.jsx("span",{children:p?"Saqlanmoqda...":"Saqlash"})]})]})]})]})})]})},Ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ye},Symbol.toStringTag,{value:"Module"})),He=()=>{const[i,$]=l.useState([]),[v,M]=l.useState(!0),[k,P]=l.useState(""),[h,w]=l.useState("all"),[U,W]=l.useState(!1),[C,J]=l.useState(!1),[f,O]=l.useState(null),[K,z]=l.useState(!1),[L,Q]=l.useState(null),[p,o]=l.useState({type:"",text:""}),[A,D]=l.useState(null),[g,d]=l.useState("uz"),[B,j]=l.useState(!1),[a,u]=l.useState({name:"",slug:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],youtube_url:"",meta_title:"",meta_description:"",active:!0,featured:!1,order_index:0,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),[N,E]=l.useState(""),[q,I]=l.useState(""),[T,F]=l.useState(""),Z=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}];l.useEffect(()=>{y()},[]);const y=async()=>{M(!0);try{const{data:t}=await Me("uz",{});t&&$(t)}catch{o({type:"error",text:"Kasalliklarni yuklashda xatolik"})}finally{M(!1)}},b=(t,r)=>{u(x=>({...x,[t]:r})),p.text&&o({type:"",text:""})},G=t=>{const{name:r,value:x}=t.target;u(V=>({...V,translations:{...V.translations,[g]:{...V.translations[g],[r]:x}}}))},se=t=>{const r=t.target.files?.[0];if(r){if(r.size>5*1024*1024){o({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}u(V=>({...V,featured_image:r}));const x=new FileReader;x.onload=()=>D(x.result),x.readAsDataURL(r)}},ae=()=>{u(t=>({...t,featured_image:void 0})),D(null)};l.useEffect(()=>{if(a.name&&!f){const t=a.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();u(r=>({...r,slug:t}))}},[a.name,f]),l.useEffect(()=>{if(a.name&&!f){const t=a.name.length>60?a.name.substring(0,57)+"...":a.name;u(r=>({...r,meta_title:t}))}},[a.name,f]),l.useEffect(()=>{if(a.description&&!f){const t=a.description.length>160?a.description.substring(0,157)+"...":a.description;u(r=>({...r,meta_description:t}))}},[a.description,f]);const X=()=>{N.trim()&&!a.symptoms.includes(N.trim())&&(b("symptoms",[...a.symptoms,N.trim()]),E(""))},re=t=>{b("symptoms",a.symptoms.filter(r=>r!==t))},s=()=>{q.trim()&&!a.treatment_methods.includes(q.trim())&&(b("treatment_methods",[...a.treatment_methods,q.trim()]),I(""))},c=t=>{b("treatment_methods",a.treatment_methods.filter(r=>r!==t))},n=()=>{T.trim()&&!a.prevention_tips.includes(T.trim())&&(b("prevention_tips",[...a.prevention_tips,T.trim()]),F(""))},m=t=>{b("prevention_tips",a.prevention_tips.filter(r=>r!==t))},Y=()=>{const r=(i.length>0?Math.max(...i.map(x=>x.order_index)):0)+1;u({name:"",slug:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],youtube_url:"",meta_title:"",meta_description:"",active:!0,featured:!1,order_index:r,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),O(null),D(null),d("uz"),E(""),I(""),F("")},H=()=>{Y(),W(!0)},ge=t=>{u({name:t.name,slug:t.slug,description:t.description,symptoms:t.symptoms||[],treatment_methods:t.treatment_methods||[],prevention_tips:t.prevention_tips||[],youtube_url:t.youtube_url||"",meta_title:t.meta_title||"",meta_description:t.meta_description||"",active:t.active,featured:t.featured,order_index:t.order_index,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),t.featured_image_url&&D(t.featured_image_url),O(t),J(!0)},R=()=>{W(!1),J(!1),Y(),o({type:"",text:""})},de=async()=>{if(!a.name.trim())return o({type:"error",text:"Kasallik nomi kiritilishi shart"}),!1;if(!a.description.trim())return o({type:"error",text:"Tavsif kiritilishi shart"}),!1;if(a.symptoms.length===0)return o({type:"error",text:"Kamida bitta belgi kiritilishi shart"}),!1;const{isUnique:t}=await Re(a.slug,"uz",f?.id);return t?!0:(o({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa nom yozing yoki URL ni o'zgartiring."}),!1)},be=async t=>{if(t.preventDefault(),!!await de()){z(!0),o({type:"",text:""});try{const{data:r,error:x}=await Ie(a);x?o({type:"error",text:"Xatolik: "+x.message}):(o({type:"success",text:"Kasallik muvaffaqiyatli yaratildi!"}),await y(),setTimeout(()=>{R()},1500))}catch{o({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{z(!1)}}},fe=async t=>{if(t.preventDefault(),!(!f||!await de())){z(!0),o({type:"",text:""});try{const{data:r,error:x}=await Fe({id:f.id,...a});x?o({type:"error",text:"Xatolik: "+x.message}):(o({type:"success",text:"Kasallik muvaffaqiyatli yangilandi!"}),await y(),setTimeout(()=>{R()},1500))}catch{o({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{z(!1)}}},ye=async(t,r)=>{if(confirm(`${r} kasalligini o'chirishni xohlaysizmi?`)){Q(t),o({type:"",text:""});try{const{error:x}=await Ee(t);x?o({type:"error",text:x.message}):(o({type:"success",text:"Kasallik muvaffaqiyatli o'chirildi!"}),await y())}catch{o({type:"error",text:"Xatolik yuz berdi"})}finally{Q(null)}}},ce=i.filter(t=>{const r=t.name.toLowerCase().includes(k.toLowerCase())||t.description.toLowerCase().includes(k.toLowerCase()),x=h==="all"||h==="active"&&t.active||h==="inactive"&&!t.active||h==="featured"&&t.featured;return r&&x}),je=t=>new Date(t).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return v?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kasalliklar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Kasalliklar Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Revmatik kasalliklar ma'lumotlarini boshqarish"})]}),e.jsxs("button",{onClick:H,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Yangi Kasallik"})]})]}),p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[p.type==="success"?e.jsx(ie,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(ne,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:p.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:p.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:i.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami kasalliklar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.filter(t=>t.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.filter(t=>t.featured).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Asosiy"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:i.filter(t=>t.youtube_url).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Video bilan"})]})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:18}),e.jsx("input",{type:"text",placeholder:"Kasalliklarni qidiring...",value:k,onChange:t=>P(t.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm"})]})}),e.jsxs("div",{className:"lg:w-48 relative",children:[e.jsxs("button",{onClick:t=>{t.stopPropagation(),j(!B)},className:"w-full px-3 lg:px-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm text-left flex items-center justify-between",children:[e.jsx("span",{children:h==="all"?"Barcha holatlar":h==="active"?"Faol":h==="inactive"?"Faol emas":"Asosiy kasalliklar"}),e.jsx(Pe,{className:`theme-text-muted transition-transform ${B?"rotate-180":""}`,size:16})]}),B&&e.jsxs("div",{onClick:t=>t.stopPropagation(),className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[e.jsx("div",{onClick:()=>{w("all"),j(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Barcha holatlar"}),e.jsx("div",{onClick:()=>{w("active"),j(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol"}),e.jsx("div",{onClick:()=>{w("inactive"),j(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol emas"}),e.jsx("div",{onClick:()=>{w("featured"),j(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Asosiy kasalliklar"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ce.map(t=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.featured_image_url?e.jsx("img",{src:t.featured_image_url,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):t.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${t.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:r=>{const x=r.target;x.src=`https://img.youtube.com/vi/${t.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center group-hover:bg-opacity-50 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse group-hover:scale-110 transition-transform duration-300",children:e.jsx(xe,{size:24,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center group-hover:theme-bg-quaternary transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ke,{size:48,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),e.jsx("p",{className:"theme-text-muted text-sm font-medium",children:"Kasallik Ma'lumotlari"})]})}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t.active?"Faol":"Faol emas"}),t.featured&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(oe,{size:12}),e.jsx("span",{children:"Asosiy"})]})]}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:["#",t.order_index]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300",children:t.name}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:t.description}),e.jsx("div",{className:"flex items-center justify-between text-xs theme-text-muted mb-4 p-3 theme-bg-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[t.symptoms?.length||0," belgi"]}),e.jsxs("span",{children:[t.treatment_methods?.length||0," usul"]}),e.jsxs("span",{children:[t.prevention_tips?.length||0," maslahat"]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>ge(t),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(Le,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsxs("a",{href:`/diseases/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 transition-all duration-200 transform hover:scale-105",title:"Ko'rish",children:[e.jsx(ue,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Ko'rish"})]}),e.jsx("button",{onClick:()=>ye(t.id,t.name),disabled:L===t.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:L===t.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(pe,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs theme-text-muted",children:[e.jsx(he,{size:12}),e.jsx("span",{children:je(t.created_at)})]})]})]})]},t.id))}),ce.length===0&&!v&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(ee,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Kasallik topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi kasallik qo'shing"}),e.jsxs("button",{onClick:H,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(S,{size:20}),e.jsx("span",{children:"Birinchi kasallikni qo'shish"})]})]}),U&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh]",children:e.jsxs("div",{style:{maxHeight:"calc(90vh - 4rem)",overflowY:"auto"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Kasallik Qo'shish"}),e.jsx("button",{onClick:R,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsxs("form",{onSubmit:be,className:"space-y-6",children:[p.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${p.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[p.type==="success"?e.jsx(ie,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(ne,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${p.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:p.text})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold theme-text",children:"Kasallik Ma'lumotlari"}),e.jsx("div",{className:"flex space-x-1 bg-gray-50 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿",bgClass:"bg-nav-500",textClass:"text-white"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º",bgClass:"bg-primary-500",textClass:"text-white"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸",bgClass:"bg-highlight-500",textClass:"text-gray-800"}].map(t=>e.jsxs("button",{type:"button",onClick:()=>d(t.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${g===t.code?t.bgClass+" "+t.textClass+" shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("span",{children:t.flag}),e.jsx("span",{className:"hidden sm:inline",children:t.label})]},t.code))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Kasallik nomi (",Z.find(t=>t.code===g)?.label,") *"]}),g==="uz"?e.jsx("input",{type:"text",value:a.name,onChange:t=>b("name",t.target.value),required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Kasallik nomi"}):e.jsx("input",{type:"text",name:"name",value:a.translations?.[g]?.name||"",onChange:G,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Kasallik nomi"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Tavsif (",Z.find(t=>t.code===g)?.label,") *"]}),g==="uz"?e.jsx("textarea",{value:a.description,onChange:t=>b("description",t.target.value),required:!0,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-vertical",placeholder:"Kasallik haqida batafsil ma'lumot"}):e.jsx("textarea",{name:"description",value:a.translations?.[g]?.description||"",onChange:G,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-vertical",placeholder:"Kasallik haqida batafsil ma'lumot"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kasallik rasmi"}),A?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:A,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:ae,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(_,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsx(Be,{className:"w-6 h-6 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary",children:"Rasm yuklash"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:se})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:a.youtube_url||"",onChange:t=>b("youtube_url",t.target.value),className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kasallik Belgilari"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Yangi belgi",value:N,onChange:t=>E(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),X()),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 text-sm"}),e.jsx("button",{type:"button",onClick:X,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(S,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.symptoms.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>re(t),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:e.jsx(_,{size:14})})]},r))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Davolash Usullari"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Davolash usuli",value:q,onChange:t=>I(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),s()),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 text-sm"}),e.jsx("button",{type:"button",onClick:s,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(S,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.treatment_methods.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>c(t),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:e.jsx(_,{size:14})})]},r))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Profilaktika"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Profilaktika maslahati",value:T,onChange:t=>F(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),n()),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 text-sm"}),e.jsx("button",{type:"button",onClick:n,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(S,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.prevention_tips.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>m(t),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:e.jsx(_,{size:14})})]},r))})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.active,onChange:t=>b("active",t.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.featured,onChange:t=>b("featured",t.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Asosiy kasallik"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:R,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:K,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(te,{size:18}),e.jsx("span",{children:K?"Yaratilmoqda...":"Yaratish"})]})]})]})]})})}),C&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Kasallikni Tahrirlash"}),e.jsx("button",{onClick:R,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsx("form",{onSubmit:fe,children:e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:R,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:K,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(te,{size:18}),e.jsx("span",{children:K?"Saqlanmoqda...":"Saqlash"})]})]})})]})})]})},Ge=Object.freeze(Object.defineProperty({__proto__:null,default:He},Symbol.toStringTag,{value:"Module"}));export{Je as D,Ze as P,Xe as a,Ae as b,Ge as c,Qe as g};
