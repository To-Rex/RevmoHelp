import{at as I,aF as $e,bb as je,r as m,j as e,aw as X,aV as Ye,aU as nt,X as A,bG as it,b5 as G,y as ve,F as xe,S as F,p as te,bH as ot,J as de,G as dt,ag as Se,a5 as ct,bk as _e,ae as Y,N as Le,o as Ne,bI as Ie,bl as qe,ak as mt,bJ as Qe,bK as xt,bL as ht,B as pe,ax as J,P as se,am as W,aR as Ve,e as ie,E as ce,f as re,aS as Xe,aZ as De,a as Je,au as ut,av as gt,i as We,d as fe,n as bt,A as O,af as pt,b as me,a2 as ft,ad as yt,C as D,q as we,T as he,O as ue,bM as jt,bt as vt,al as Nt,Q as ae,bN as Ee,bO as wt,bP as kt,ab as zt,aM as Ct,bo as St,bQ as _t,bR as qt,bS as Bt,bT as $t,I as Ge,V as Ze,U as ye,bU as Lt,bV as Et,bW as Tt,bX as Mt,bY as Rt,bZ as Pt,b_ as At,aA as Ut,k as Ke,b$ as Ft,ap as be,c0 as Ot,c1 as Dt,c2 as Kt,c3 as Ht,c4 as Yt,bC as It,ah as He,c5 as Qt,c6 as Vt,c7 as Xt,W as Jt}from"./adminCore-BtA5lFAk.js";import{u as ke}from"./doctor-RVMPESH5.js";import{u as Wt}from"./publicCore-BUSXeirZ.js";const Gt=()=>{const{i18n:t}=I(),c=$e(),l=je(),x=o=>{const b=o.split("/").filter(Boolean)[0];return["ru","en"].includes(b)?b:null},g=o=>{const i=o.split("/").filter(Boolean),b=i[0];return["ru","en"].includes(b)?"/"+i.slice(1).join("/"):o},u=(o,i)=>{const b=g(o);return i==="uz"?b||"/":`/${i}${b}`},h=o=>{const i=g(l.pathname),b=u(i,o);t.changeLanguage(o),c(b,{replace:!0})};return m.useEffect(()=>{const o=x(l.pathname);if(o&&o!==t.language)t.changeLanguage(o);else if(!o&&t.language!=="uz"){const i=u(l.pathname,t.language);c(i,{replace:!0})}},[l.pathname,t,c]),{currentLanguage:t.language,changeLanguage:h,getPathWithoutLanguage:g,addLanguageToPath:u}},Zt=({isOpen:t,onClose:c,admin:l,currentPath:x,collapsed:g,onToggleCollapse:u})=>{const h=[{name:"Dashboard",href:"/admin",icon:it},{name:"Adminlar",href:"/admin/admins",icon:G},{name:"Foydalanuvchilar",href:"/admin/users",icon:ve},{name:"Maqolalar",href:"/admin/posts",icon:xe},{name:"Shifokorlar",href:"/admin/doctors",icon:F},{name:"Kasalliklar",href:"/admin/diseases",icon:te},{name:"Sahifalar",href:"/admin/pages",icon:ot},{name:"Bemorlar Tarixi",href:"/admin/patient-stories",icon:de},{name:"Hamkorlar",href:"/admin/partners",icon:dt},{name:"Bildirishnomalar",href:"/admin/notifications",icon:Se},{name:"Analitika",href:"/admin/analytics",icon:ct},{name:"Sozlamalar",href:"/admin/settings",icon:_e}],o=i=>i==="/admin"?x==="/admin":x.startsWith(i);return e.jsxs("div",{className:`
      fixed inset-y-0 left-0 z-50 ${g?"w-16":"w-64 lg:w-72"} theme-bg theme-shadow-lg
      transform transition-all duration-300 ease-in-out
      lg:translate-x-0 lg:static lg:inset-0 lg:flex lg:flex-col overflow-hidden
      ${t?"translate-x-0":"-translate-x-full"}
    `,children:[e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-18 px-4 lg:px-6 theme-border border-b flex-shrink-0",children:[e.jsxs(X,{to:"/",className:`flex items-center ${g?"justify-center":"space-x-3"} group`,children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 lg:w-9 lg:h-9 rounded-lg object-cover group-hover:scale-110 transition-transform duration-300"}),!g&&e.jsxs("div",{children:[e.jsx("span",{className:"text-lg font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:"Revmohelp"}),e.jsx("div",{className:"text-xs theme-text-muted hidden lg:block",children:"Admin Panel"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:u,className:"hidden lg:flex p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",title:g?"Expand sidebar":"Collapse sidebar",children:g?e.jsx(Ye,{size:20}):e.jsx(nt,{size:20})}),e.jsx("button",{onClick:c,className:"lg:hidden p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(A,{size:20})})]})]}),e.jsx("nav",{className:"flex-1 px-3 lg:px-4 py-4 lg:py-5",children:e.jsx("div",{className:"space-y-2",children:h.map(i=>{const b=i.icon;return e.jsxs(X,{to:i.href,className:`group flex items-center ${g?"justify-center px-2":"px-3 lg:px-4"} py-2 lg:py-2.5 text-sm font-medium rounded-xl transition-all duration-200 ${o(i.href)?"bg-primary-500 text-white shadow-lg":"theme-text-secondary hover:theme-bg-tertiary hover:theme-text group-hover:translate-x-1"}`,onClick:c,title:g?i.name:void 0,children:[e.jsx(b,{size:18,className:`${g?"":"mr-2 lg:mr-3"} ${o(i.href)?"text-white":"theme-text-muted group-hover:theme-accent"}`}),!g&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"truncate text-sm",children:i.name}),o(i.href)&&e.jsx("div",{className:"ml-auto w-2 h-2 bg-white rounded-full"})]})]},i.name)})})}),e.jsx("div",{className:"p-3 lg:p-4 theme-border border-t flex-shrink-0",children:e.jsxs("div",{className:`flex items-center ${g?"justify-center":"space-x-2 lg:space-x-3"} p-2 lg:p-3 theme-bg-tertiary rounded-xl`,children:[e.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-accent-500 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Y,{size:16,className:"theme-accent"})}),!g&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold theme-text truncate",children:l?.full_name||"Admin User"}),e.jsxs("p",{className:"text-xs theme-text-muted capitalize flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:l?.role||"admin"})]})]})]})})]})},ze=[{code:"uz",name:"O'zbek",nativeName:"O'zbekcha"},{code:"ru",name:"Ð ÑƒÑÑÐºÐ¸Ð¹",nativeName:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"en",name:"English",nativeName:"English"}],Be=()=>{const[t,c]=m.useState(!1),l=m.useRef(null);m.useEffect(()=>{const o=i=>{l.current&&!l.current.contains(i.target)&&c(!1)};return t&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]);const{i18n:x}=I(),{changeLanguage:g}=Gt(),u=ze.find(o=>o.code===x.language)||ze[0],h=o=>{g(o),c(!1)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!t),className:"flex items-center space-x-2 p-2 rounded-lg theme-text-secondary hover:theme-accent hover:theme-bg-tertiary transition-all duration-200",children:[e.jsx(Le,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm font-medium theme-text",children:u.code.toUpperCase()}),e.jsx(Ne,{size:14,className:"theme-text-muted"})]}),t&&e.jsx("div",{className:"absolute right-0 mt-2 w-36 bg-white rounded-xl shadow-xl theme-border border py-2 z-50",ref:l,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:ze.map(o=>e.jsx("button",{onClick:()=>h(o.code),className:`block w-full text-left px-4 py-2 text-sm hover:theme-bg-tertiary transition-colors duration-200 ${u.code===o.code?"theme-accent bg-blue-50 dark:bg-blue-900/20":"theme-text-secondary"}`,children:o.nativeName},o.code))})]})},es=({onMenuClick:t,admin:c,onSignOut:l})=>{const[x,g]=m.useState(!1),u=m.useRef(null);m.useEffect(()=>{const o=i=>{u.current&&!u.current.contains(i.target)&&g(!1)};return x&&document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[x]);const h=()=>{l(),g(!1)};return e.jsx("div",{className:"theme-bg theme-shadow-lg theme-border border-b backdrop-blur-sm bg-opacity-95 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-16 px-4 lg:px-6",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:t,className:"lg:hidden p-2 theme-text-secondary hover:theme-text rounded-xl hover:theme-bg-tertiary transition-all duration-200 transform hover:scale-105",children:e.jsx(Ie,{size:20})})}),e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3",children:[e.jsx(Be,{}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>g(!x),className:"flex items-center space-x-2 lg:space-x-3 p-2 rounded-xl hover:theme-bg-tertiary transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 lg:w-9 lg:h-9 bg-gradient-to-r from-primary-100 to-primary-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Y,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"hidden lg:block text-left min-w-0",children:[e.jsx("div",{className:"text-sm font-semibold theme-text truncate max-w-32",children:c?.full_name||"Admin User"}),e.jsxs("div",{className:"text-xs theme-text-muted truncate max-w-32",children:["@",c?.login||"admin"]})]}),e.jsx(Ne,{size:14,className:"hidden lg:block theme-text-muted flex-shrink-0"})]}),x&&e.jsxs("div",{className:"absolute right-0 mt-2 w-48 lg:w-52 theme-bg rounded-xl theme-shadow-lg theme-border border py-2 z-50",ref:u,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b",children:[e.jsx("div",{className:"text-sm font-semibold theme-text truncate",children:c?.full_name||"Admin User"}),e.jsxs("div",{className:"text-xs theme-text-muted truncate",children:["@",c?.login||"admin"," â€¢ ",c?.role||"admin"]})]}),e.jsxs(X,{to:"/",className:"flex items-center space-x-2 px-4 py-3 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-200",onClick:()=>g(!1),children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Saytni ko'rish"})]}),e.jsx("div",{className:"theme-border border-t my-2"}),e.jsxs("button",{onClick:h,className:"flex items-center space-x-2 w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-all duration-200",children:[e.jsx(qe,{size:16}),e.jsx("span",{children:"Chiqish"})]})]})]})]})]})})},cs=()=>{const[t,c]=m.useState(!1),[l,x]=m.useState(!1),g=je(),u=$e(),{admin:h,isAuthenticated:o,loading:i,logout:b}=mt();return m.useEffect(()=>{c(!1)},[g.pathname]),i?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Admin panel yuklanmoqda..."})]})}):o?e.jsxs("div",{className:"h-screen theme-bg-secondary flex overflow-hidden",children:[t&&e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black bg-opacity-50",onClick:()=>c(!1)}),e.jsx(Zt,{isOpen:t,onClose:()=>c(!1),admin:h,currentPath:g.pathname,collapsed:l,onToggleCollapse:()=>x(!l)}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:ml-0 overflow-hidden",children:[e.jsx(es,{onMenuClick:()=>c(!0),admin:h,onSignOut:()=>{b(),u("/admin/login")}}),e.jsx("main",{className:"flex-1 p-4 lg:p-6 2xl:p-8 overflow-auto bg-gray-50 dark:bg-gray-900/20",children:e.jsx("div",{className:"max-w-none",children:e.jsx(Qe,{})})})]})]}):(console.log("âŒ Not authenticated, redirecting to login"),u("/admin/login"),null)},ms=({title:t="Revmohelp - Revmatik kasalliklar haqida ishonchli ma'lumot",description:c="Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi. Revmatik kasalliklar haqida eng so'nggi ma'lumotlar va maslahatlar.",keywords:l="revmatik kasalliklar, shifokor, bemor, tibbiy ma'lumot, revmatologiya, salomatlik",image:x="https://images.pexels.com/photos/4021775/pexels-photo-4021775.jpeg?auto=compress&cs=tinysrgb&w=1200",url:g="https://revmohelp.uz",type:u="website",article:h})=>{const{i18n:o}=I(),i=je(),b="Revmohelp",p="https://revmohelp.uz",s=i.pathname.replace(/^\/(ru|en)/,""),y=[{lang:"uz",url:`${p}${s}`},{lang:"ru",url:`${p}/ru${s}`},{lang:"en",url:`${p}/en${s}`}],j=(()=>{switch(o.language){case"ru":return{title:t==="Revmohelp"?"Revmohelp":t==="Biz Haqimizda"?"Ðž Ð½Ð°Ñ":t==="Aloqa"?"ÐšÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ñ‹":t==="Maxfiylik Siyosati"?"ÐŸÐ¾Ð»Ð¸Ñ‚Ð¸ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸":t==="Ma'lumotlar Xavfsizligi"?"Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ñ…":t==="Foydalanish Shartlari"?"Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ":t==="Tez-tez Beriladigan Savollar"?"Ð§Ð°ÑÑ‚Ð¾ Ð·Ð°Ð´Ð°Ð²Ð°ÐµÐ¼Ñ‹Ðµ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹":t==="Maqolalar"?"Ð¡Ñ‚Ð°Ñ‚ÑŒÐ¸":t==="Shifokorlar"?"Ð’Ñ€Ð°Ñ‡Ð¸":t==="Savol-Javob"?"Ð’Ð¾Ð¿Ñ€Ð¾ÑÑ‹-Ð¾Ñ‚Ð²ÐµÑ‚Ñ‹":t==="Kirish"?"Ð’Ð¾Ð¹Ñ‚Ð¸":t==="Ro'yxatdan o'tish"?"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ":t==="Profil"?"ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ":t,description:o.language==="ru"?"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð²Ñ€Ð°Ñ‡ÐµÐ¹. Ð”Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ….":c};case"en":return{title:t==="Revmohelp"?"Revmohelp":t==="Biz Haqimizda"?"About Us":t==="Aloqa"?"Contact":t==="Maxfiylik Siyosati"?"Privacy Policy":t==="Ma'lumotlar Xavfsizligi"?"Data Security":t==="Foydalanish Shartlari"?"Terms of Use":t==="Tez-tez Beriladigan Savollar"?"FAQ":t==="Maqolalar"?"Articles":t==="Shifokorlar"?"Doctors":t==="Savol-Javob"?"Q&A":t==="Kirish"?"Login":t==="Ro'yxatdan o'tish"?"Register":t==="Profil"?"Profile":t,description:o.language==="en"?"Professional medical information platform for patients and doctors. Reliable information about rheumatic diseases.":c};default:return{title:t,description:c}}})(),_=j.title===b?j.title:`${j.title} | ${b}`;return e.jsxs(xt,{children:[e.jsx("title",{children:_}),e.jsx("meta",{name:"description",content:j.description}),e.jsx("meta",{name:"keywords",content:l}),e.jsx("meta",{name:"author",content:"Revmoinfo Team"}),e.jsx("link",{rel:"canonical",href:g}),y.map(C=>e.jsx("link",{rel:"alternate",hrefLang:C.lang,href:C.url},C.lang)),e.jsx("link",{rel:"alternate",hrefLang:"x-default",href:`${p}${s}`}),e.jsx("meta",{property:"og:title",content:_}),e.jsx("meta",{property:"og:description",content:j.description}),e.jsx("meta",{property:"og:image",content:x}),e.jsx("meta",{property:"og:url",content:g}),e.jsx("meta",{property:"og:type",content:u}),e.jsx("meta",{property:"og:site_name",content:b}),e.jsx("meta",{property:"og:locale",content:`${o.language}_${o.language.toUpperCase()}`}),e.jsx("meta",{property:"og:locale:alternate",content:"ru_RU"}),e.jsx("meta",{property:"og:locale:alternate",content:"uz_UZ"}),e.jsx("meta",{property:"og:locale:alternate",content:"en_US"}),e.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),e.jsx("meta",{name:"twitter:title",content:_}),e.jsx("meta",{name:"twitter:description",content:j.description}),e.jsx("meta",{name:"twitter:image",content:x}),h&&u==="article"&&e.jsxs(e.Fragment,{children:[e.jsx("meta",{property:"article:author",content:h.author}),h.publishedTime&&e.jsx("meta",{property:"article:published_time",content:h.publishedTime}),h.modifiedTime&&e.jsx("meta",{property:"article:modified_time",content:h.modifiedTime}),h.section&&e.jsx("meta",{property:"article:section",content:h.section}),h.tags?.map(C=>e.jsx("meta",{property:"article:tag",content:C},C))]}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":u==="article"?"Article":"WebSite",name:_,description:j.description,url:g,image:x,inLanguage:o.language,...u==="article"&&h&&{author:{"@type":"Person",name:h.author},datePublished:h.publishedTime,dateModified:h.modifiedTime,articleSection:h.section,keywords:h.tags?.join(", "),inLanguage:o.language},...u==="website"&&{availableLanguage:["uz","ru","en"]},...u==="website"&&{potentialAction:{"@type":"SearchAction",target:`${g}/search?q={search_term_string}`,"query-input":"required name=search_term_string"}}})})]})},ts=({end:t,duration:c=2e3,start:l=0,delay:x=0,easing:g=u=>u*u*(3-2*u)})=>{const[u,h]=m.useState(l),[o,i]=m.useState(!1),[b,p]=m.useState(!1),s=m.useRef(null);return m.useEffect(()=>{const y=new IntersectionObserver(([f])=>{f.isIntersecting&&!b&&i(!0)},{threshold:.3});return s.current&&y.observe(s.current),()=>y.disconnect()},[b]),m.useEffect(()=>{if(!o||b)return;p(!0);const y=Date.now()+x,f=l,j=t,_=c,C=()=>{const w=Date.now(),d=Math.max(0,w-y),q=Math.min(d/_,1);if(q<1){const n=g(q),v=Math.round(f+(j-f)*n);h(v),requestAnimationFrame(C)}else h(j)};Date.now()>=y?C():setTimeout(C,x)},[o,b,l,t,c,x,g]),{count:u,ref:s}},$=({to:t,preserveLanguage:c=!0,children:l,...x})=>{const{i18n:g}=I(),u=h=>!c||g.language==="uz"?h:g.language==="ru"||g.language==="en"?`/${g.language}${h}`:h;return e.jsx(X,{to:u(t),...x,children:l})},Ce=({icon:t,endValue:c,label:l,suffix:x="",delay:g=0})=>{const{count:u,ref:h}=ts({end:c,duration:2500,delay:g,easing:i=>i*i*(3-2*i)}),o=i=>i>=1e3?(i/1e3).toFixed(i%1e3===0?0:1)+"K":i.toString();return e.jsxs("div",{ref:h,className:"group text-center p-6 theme-bg-secondary backdrop-blur-sm rounded-xl theme-shadow-lg theme-border border hover:theme-shadow-lg transition-all duration-300 hover:scale-105 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-primary-100 rounded-xl mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(t,{size:28,className:"text-white"})}),e.jsxs("div",{className:"text-2xl font-bold theme-text mb-2 tabular-nums",children:[o(u),x]}),e.jsx("div",{className:"theme-text-secondary text-sm font-medium",children:l})]})},xs=()=>{const{t,i18n:c}=I(),{isAuthenticated:l}=ke(),[x,g]=m.useState(null),[u,h]=m.useState(!0);m.useEffect(()=>{o()},[c.language]);const o=async()=>{try{const{data:j}=await ht("hero",c.language);j&&g(j)}catch(j){console.error("Error loading homepage settings:",j)}finally{h(!1)}},b=(()=>{switch(c.language){case"ru":return{title:"Ð”Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…",subtitle_authenticated:"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð²Ñ€Ð°Ñ‡ÐµÐ¹",subtitle_unauthenticated:"Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",stats:{articles:{value:500,label:"ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ Ð¡Ñ‚Ð°Ñ‚ÑŒÐ¸",suffix:"+"},doctors:{value:50,label:"Ð’Ñ€Ð°Ñ‡Ð¸-Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹",suffix:"+"},patients:{value:1e4,label:"ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ð»Ð¸ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",suffix:"+"}}};case"en":return{title:"Reliable information about rheumatic diseases",subtitle_authenticated:"Professional medical information platform for patients and doctors",subtitle_unauthenticated:"If you are a patient, register and get professional advice",stats:{articles:{value:500,label:"Medical Articles",suffix:"+"},doctors:{value:50,label:"Expert Doctors",suffix:"+"},patients:{value:1e4,label:"Patients Helped",suffix:"+"}}};default:return{title:"Revmatik kasalliklar haqida ishonchli ma'lumot",subtitle_authenticated:"Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi",subtitle_unauthenticated:"Agar bemor bo'lsangiz, ro'yxatdan o'ting va professional maslahat oling",stats:{articles:{value:500,label:"Tibbiy Maqolalar",suffix:"+"},doctors:{value:50,label:"Ekspert Shifokorlar",suffix:"+"},patients:{value:1e4,label:"Yordam Berilgan Bemorlar",suffix:"+"}}}}})(),p=x?.title||b.title,s=x?.subtitle_authenticated||b.subtitle_authenticated,y=x?.subtitle_unauthenticated||b.subtitle_unauthenticated,f=x?.stats||b.stats;return e.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden theme-bg",children:[e.jsx("div",{className:"absolute inset-0 theme-bg"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 opacity-20 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-200 opacity-15 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-200 opacity-10 rounded-full blur-2xl animate-pulse-slow"}),e.jsx("div",{className:"absolute top-20 right-20 opacity-10",children:e.jsx(F,{size:48,className:"theme-accent animate-float"})}),e.jsx("div",{className:"absolute bottom-20 left-20 opacity-10",children:e.jsx(de,{size:40,className:"text-red-500 animate-pulse-slow"})}),e.jsx("div",{className:"absolute top-1/3 left-16 opacity-8",children:e.jsx(te,{size:36,className:"theme-accent-secondary animate-float",style:{animationDelay:"1s"}})}),e.jsx("div",{className:"absolute bottom-1/3 right-16 opacity-8",children:e.jsx(G,{size:32,className:"text-green-600 animate-float",style:{animationDelay:"3s"}})}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--accent-primary) 1px, transparent 0)",backgroundSize:"40px 40px"}})})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 z-10",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-bg-secondary backdrop-blur-sm rounded-full px-6 py-3 mb-8 animate-fade-in hover:scale-105 transition-all duration-300 theme-shadow-lg theme-border border",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx(F,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium border border-secondary-500 rounded px-1",children:"Professional Medical Platform"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-8 animate-fade-in theme-text leading-tight",children:p}),l?e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:s}):e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:y}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-20 animate-slide-up delay-300",children:l?e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/posts",className:"group bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(pe,{size:20}),e.jsx("span",{children:t("readArticles")}),e.jsx(J,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs($,{to:"/qa",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(se,{size:20}),e.jsx("span",{children:t("askQuestionBtn")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/register",className:"group bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(W,{size:20}),e.jsx("span",{children:t("register")}),e.jsx(J,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs($,{to:"/posts",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(pe,{size:20}),e.jsx("span",{children:t("viewArticles")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto animate-fade-in delay-500",children:[e.jsx(Ce,{icon:pe,endValue:f.articles.value,label:f.articles.label,suffix:f.articles.suffix,delay:0}),e.jsx(Ce,{icon:F,endValue:f.doctors.value,label:f.doctors.label,suffix:f.doctors.suffix,delay:300}),e.jsx(Ce,{icon:ve,endValue:f.patients.value,label:f.patients.label,suffix:f.patients.suffix,delay:600})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap items-center justify-center space-x-8 opacity-60 animate-fade-in delay-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(G,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Tasdiqlangan Tibbiy Kontent"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(de,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Bemorga Yo'naltirilgan G'amxo'rlik"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(te,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Real Vaqt Yangilanishlari"})]})]})]})})]})},hs=({posts:t=[]})=>{const{t:c,i18n:l}=I(),[x,g]=m.useState({}),[u,h]=m.useState(!1);m.useEffect(()=>{t.length>0&&!u&&o()},[t]);const o=async()=>{try{const s=`post_comments_count_${t.map(w=>w.id).join(",")}`,y=localStorage.getItem(s),f=localStorage.getItem(`${s}_timestamp`);if(y&&f&&Date.now()-parseInt(f)<120*1e3){g(JSON.parse(y)),h(!0),console.log("ðŸ“¦ Using cached post comments count");return}const j=t.map(async w=>{const{data:d}=await Ve(w.id);return{postId:w.id,count:d?.length||0}}),C=(await Promise.all(j)).reduce((w,{postId:d,count:q})=>(w[d]=q,w),{});g(C),localStorage.setItem(s,JSON.stringify(C)),localStorage.setItem(`${s}_timestamp`,Date.now().toString()),h(!0)}catch(s){console.error("Error loading comments count:",s)}},i=[],b=t.length>0?t:i,p=s=>{const f={uz:"uz-UZ",ru:"ru-RU",en:"en-US"}[l.language]||"uz-UZ";return new Date(s).toLocaleDateString(f,{year:"numeric",month:"long",day:"numeric"})};return e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:c("latestPosts")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:"Revmatik kasalliklar bo'yicha eng so'nggi maqolalar va maslahatlar"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:b.slice(0,3).map((s,y)=>e.jsx(X,{to:`/posts/${s.slug}`,className:"group block",style:{animationDelay:`${y*100}ms`},children:e.jsxs("article",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in group-hover:scale-[1.02] h-full flex flex-col hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[16/9]",children:[s.featured_image_url?e.jsx("img",{src:s.featured_image_url,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"}):s.youtube_url?e.jsx("div",{className:"relative w-full h-full",children:e.jsx("img",{src:`https://img.youtube.com/vi/${s.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:s.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onError:f=>{const j=f.target;j.src=`https://img.youtube.com/vi/${s.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}})}):e.jsx("div",{className:"w-full h-full theme-bg-secondary dark:from-blue-900/20 dark:to-teal-900/20 flex items-center justify-center group-hover:from-blue-100 group-hover:to-teal-100 dark:group-hover:from-blue-900/30 dark:group-hover:to-teal-900/30 transition-all duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(xe,{size:56,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300 opacity-60"}),e.jsx("p",{className:"theme-text-muted text-lg font-medium",children:"Matn Maqolasi"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.category&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 text-xs font-bold text-white rounded-full shadow-lg backdrop-blur-sm",style:{backgroundColor:s.category.color},children:s.category.name})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full shadow-lg ${s.youtube_url?"bg-red-500 text-white":s.featured_image_url?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:s.youtube_url?"Video":s.featured_image_url?"Rasm":"Matn"})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(ie,{size:12,className:"text-gray-600"}),e.jsxs("span",{className:"text-xs font-medium theme-text",children:[Math.ceil(s.content.length/1e3)," daqiqa"]})]})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(ce,{size:12,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-bold theme-text",children:(s.views_count||0).toLocaleString()})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"theme-bg-secondary/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"theme-text font-semibold flex items-center space-x-2",children:[e.jsx(J,{size:16}),e.jsx("span",{children:"Batafsil o'qish"})]})})})]}),e.jsxs("div",{className:"p-6 space-y-4 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(Y,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:s.author?.full_name}),s.author?.role==="doctor"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-bold",children:"Dr"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(re,{size:10}),e.jsx("span",{children:p(s.published_at||s.created_at)})]})]})]}),e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300 leading-tight",children:s.title}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.tags.slice(0,3).map(f=>e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0 hover:opacity-90 transition-colors duration-200",children:["#",f]},f)),s.tags.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0",children:["+",s.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border mt-auto",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ce,{size:14}),e.jsx("span",{className:"font-medium",children:(s.views_count||0).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(W,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*20)," sharh"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Xe,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*50)," yoqdi"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 theme-accent group-hover:theme-accent-secondary font-medium transition-colors duration-200",children:[e.jsx("span",{className:"text-sm",children:"O'qish"}),e.jsx(J,{size:14,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})},s.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(X,{to:"/posts",className:"inline-flex items-center space-x-2 bg-[#62B6CB] text-white px-8 py-4 rounded-lg font-semibold hover:bg-[#5FA8D3] transition-colors duration-300 transform hover:scale-105",children:[e.jsx("span",{children:c("viewAll")}),e.jsx(J,{size:20})]})})]})})},us=({doctors:t=[]})=>{const{t:c}=I(),{i18n:l}=I(),[x,g]=m.useState([]),[u,h]=m.useState({}),[o,i]=m.useState({}),[b,p]=m.useState(!0),[s,y]=m.useState(!1);m.useEffect(()=>{f()},[l.language]);const f=async()=>{try{p(!0),console.log("ðŸ” Loading featured doctors...");const v=`featured_doctors_${l.language}`,k=De.get(v);if(k&&typeof k=="object"&&"doctors"in k){g(k.doctors),h(k.ratings),i(k.comments),y(!0),p(!1),console.log("ðŸ“¦ Using cached featured doctors data");return}const{data:L,error:r}=await Je(l.language,{active:!0,verified:!0,limit:4});if(L){console.log("âœ… Featured doctors loaded:",L.length),g(L);const B=L.map(async N=>{const[z,R]=await Promise.all([ut(N.id),gt(N.id,{approved:!0})]);return{doctorId:N.id,stats:z,commentsCount:R.data?.length||0}}),E=await Promise.all(B),M=E.reduce((N,{doctorId:z,stats:R})=>(N[z]={averageRating:R.averageRating,totalReviews:R.totalReviews},N),{}),Q=E.reduce((N,{doctorId:z,commentsCount:R})=>(N[z]=R,N),{});h(M),i(Q);const K={doctors:L,ratings:M,comments:Q};De.set(v,K,180*1e3),y(!0)}else r&&console.log("âŒ Error loading featured doctors:",r)}catch(v){console.error("Error loading doctors:",v)}finally{p(!1)}},j=[],_=x.length>0?x:t.length>0?t:j,C=v=>{switch(l.language){case"ru":return`${v} Ð»ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°`;case"en":return`${v} years experience`;default:return`${v} yil tajriba`}},w=v=>{switch(l.language){case"ru":return`${v} Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²`;case"en":return`${v} reviews`;default:return`${v} sharh`}},d=l.language==="ru"?"Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹:":l.language==="en"?"Certificates:":"Sertifikatlar:",q=l.language==="ru"?"ÐµÑ‰Ñ‘":l.language==="en"?"more":"ko'proq",n=l.language==="ru"?"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ":l.language==="en"?"View profile":"Profil ko'rish";return b?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})})}):e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:c("ourDoctors")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:c("experiencedDoctorsHelp")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:_.slice(0,3).map((v,k)=>e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in h-full flex flex-col group hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{animationDelay:`${k*100}ms`,boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:v.avatar_url||"https://images.pexels.com/photos/559829/pexels-photo-559829.jpeg?auto=compress&cs=tinysrgb&w=400",alt:v.full_name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),v.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(We,{size:16})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(fe,{size:14,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:u[v.id]?.averageRating?.toFixed(1)||"4.9"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"text-gray-900 font-semibold flex items-center space-x-2",children:[e.jsx(J,{size:16}),e.jsx("span",{children:n})]})})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-200",children:e.jsx(X,{to:`/doctors/${v.id}`,className:"hover:theme-accent transition-colors duration-200",children:v.full_name})}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:v.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3",children:v.bio}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{size:14}),e.jsx("span",{children:C(v.experience_years)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(fe,{size:14,className:"text-yellow-500"}),e.jsxs("span",{children:[u[v.id]?.averageRating?.toFixed(1)||"4.9","(",w(u[v.id]?.totalReviews??o[v.id]??0),")"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-2",children:d}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[v.certificates?.slice(0,2).map((L,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:L},r)),v.certificates&&v.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",v.certificates.length-2," ",q]})]})]})]})]},v.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(X,{to:"/doctors",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx("span",{children:c("viewAllDoctors")}),e.jsx(J,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]})})},gs=()=>{const{t,i18n:c}=I(),l=c.language,[x,g]=m.useState([]),[u,h]=m.useState(!0);m.useEffect(()=>{o()},[c.language]);const o=async()=>{h(!0);try{const{data:s}=await bt(c.language,{active:!0,featured:!0});s&&g(s)}catch(s){console.error("Error loading diseases:",s)}finally{h(!1)}},i=s=>{const y=[de,te,F,O,G,pt];return y[s%y.length]},b=s=>{const y=["from-red-500 to-pink-500","from-blue-500 to-indigo-500","from-green-500 to-teal-500","from-purple-500 to-violet-500","from-orange-500 to-amber-500","from-cyan-500 to-blue-500"];return y[s%y.length]},p=s=>{const y=["bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800","bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800","bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800","bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800","bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800","bg-cyan-50 dark:bg-cyan-900/20 border-cyan-200 dark:border-cyan-800"];return y[s%y.length]};return u?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kasalliklar yuklanmoqda..."})]})})}):x.length===0?null:e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(te,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium",children:t("medicalConditions")})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-6",children:t("rheumaticDiseases")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:l==="ru"?"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…. Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹, Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸Ñ.":l==="en"?"Get detailed information about the most common rheumatic diseases. Symptoms, treatment methods and preventive measures for each disease.":"Eng keng tarqalgan revmatik kasalliklar haqida batafsil ma'lumot oling. Har bir kasallik uchun belgilar, davolash usullari va profilaktika choralari."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:x.map((s,y)=>{const f=i(y),j=b(y),_=p(y);return e.jsx($,{to:`/diseases/${s.slug}`,className:"group block animate-fade-in transform hover:scale-105 transition-all duration-300",style:{animationDelay:`${y*150}ms`},children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 ${_} p-6 h-full hover:shadow-xl transition-all duration-500 group-hover:-translate-y-2`,style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20px 20px, currentColor 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${j} rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300 animate-pulse-medical`,children:e.jsx(f,{size:28,className:"text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(Ye,{size:14,className:"text-gray-600"})})]}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-3 group-hover:theme-accent transition-colors duration-300 leading-tight",children:s.name}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.description}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs theme-text-secondary mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(O,{size:12}),e.jsxs("span",{children:[s.symptoms?.length||0," ",t("symptoms")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(F,{size:12}),e.jsxs("span",{children:[s.treatment_methods?.length||0," ",t("methods")]})]})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-text font-medium text-sm",children:[e.jsx(pe,{size:14}),e.jsx("span",{children:t("detailedInfo")}),e.jsx(J,{size:12,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${j} opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-2xl`})]})},s.id)})}),e.jsx("div",{className:"text-center animate-fade-in delay-700",children:e.jsxs($,{to:"/diseases",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx(te,{size:20}),e.jsx("span",{children:t("allDiseases")}),e.jsx(J,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})}),e.jsx("div",{className:"mt-16 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl animate-fade-in delay-1000",children:e.jsxs("div",{className:"flex items-center space-x-3 text-black dark:text-black",children:[e.jsx(G,{size:20,className:"flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:t("medicalWarning")}),e.jsx("p",{className:"text-sm",children:t("medicalWarningText")})]})]})})]})})},bs=({searchTerm:t,selectedRole:c,selectedProvider:l,onSearchChange:x,onRoleChange:g,onProviderChange:u,userCounts:h})=>{const o=[{value:"all",label:"Barcha rollar",count:h.total},{value:"admin",label:"Admin",count:h.byRole.admin||0},{value:"moderator",label:"Moderator",count:h.byRole.moderator||0},{value:"doctor",label:"Shifokor",count:h.byRole.doctor||0},{value:"patient",label:"Bemor",count:h.byRole.patient||0}],i=[{value:"all",label:"Barcha providerlar",count:h.total},{value:"email",label:"Email",count:h.byProvider.email||0},{value:"google",label:"Google",count:h.byProvider.google||0}];return e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Foydalanuvchilarni qidiring...",value:t,onChange:b=>x(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 theme-text"})]})}),e.jsx("div",{className:"lg:w-56",children:e.jsxs("div",{className:"relative",children:[e.jsx(ve,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{value:c,onChange:b=>g(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none theme-text",children:o.map(b=>e.jsxs("option",{value:b.value,children:[b.label," (",b.count,")"]},b.value))})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("div",{className:"relative",children:[e.jsx(Le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{value:l,onChange:b=>u(b.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 appearance-none theme-text",children:i.map(b=>e.jsxs("option",{value:b.value,children:[b.label," (",b.count,")"]},b.value))})]})})]})})},ps=({searchTerm:t,selectedRole:c,selectedProvider:l})=>{const[x,g]=m.useState([]),[u,h]=m.useState([]),[o,i]=m.useState(!0),[b,p]=m.useState(null),[s,y]=m.useState({type:"",text:""});m.useEffect(()=>{f()},[]);const f=async()=>{i(!0);try{const[n,v]=await Promise.all([ft(),yt()]);n.data&&g(n.data),v.data&&h(v.data)}catch(n){console.error("Error loading users:",n),y({type:"error",text:"Foydalanuvchilarni yuklashda xatolik"})}finally{i(!1)}},j=async(n,v)=>{if(confirm(`${v} foydalanuvchisini o'chirishni xohlaysizmi?`)){p(n),y({type:"",text:""});try{const{error:k}=await jt(n);k?y({type:"error",text:k.message}):(y({type:"success",text:"Foydalanuvchi muvaffaqiyatli o'chirildi!"}),await f())}catch{y({type:"error",text:"Xatolik yuz berdi"})}finally{p(null)}}},C=x.map(n=>{const v=u.find(k=>k.id===n.id);return{...n,profile:v,full_name:v?.full_name||n.user_metadata?.full_name||n.user_metadata?.name||n.email?.split("@")[0]||"User",role:v?.role||n.user_metadata?.role||"patient",phone:v?.phone||n.user_metadata?.phone||n.phone,avatar_url:v?.avatar_url||n.user_metadata?.avatar_url||n.user_metadata?.picture}}).filter(n=>{const v=n.full_name.toLowerCase().includes(t.toLowerCase())||n.email.toLowerCase().includes(t.toLowerCase()),k=c==="all"||n.role===c,L=l==="all"||n.app_metadata?.provider===l;return v&&k&&L}),w=n=>{switch(n){case"admin":return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";case"moderator":return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200";case"doctor":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"patient":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";default:return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200"}},d=n=>{switch(n){case"google":return e.jsx("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})});case"email":return e.jsx(ue,{size:16,className:"text-blue-600"});default:return e.jsx(G,{size:16,className:"text-gray-600"})}},q=n=>new Date(n).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Foydalanuvchilar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[s.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${s.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[s.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:s.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:s.text})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y theme-border",children:[e.jsx("thead",{className:"theme-bg-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Foydalanuvchi"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Rol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Telefon"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Oxirgi kirish"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Holat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Amallar"})]})}),e.jsx("tbody",{className:"theme-bg divide-y theme-border",children:C.map(n=>e.jsxs("tr",{className:"hover:theme-bg-tertiary transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[n.avatar_url?e.jsx("img",{src:n.avatar_url,alt:n.full_name,className:"w-10 h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"theme-accent font-medium text-sm",children:n.full_name.charAt(0)})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium theme-text",children:n.full_name}),e.jsx("div",{className:"text-sm theme-text-muted",children:n.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full capitalize ${w(n.role)}`,children:n.role})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[d(n.app_metadata?.provider||"email"),e.jsx("span",{className:"text-sm theme-text capitalize",children:n.app_metadata?.provider||"email"})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text",children:n.phone||"Kiritilmagan"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text-muted",children:n.last_sign_in_at?e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ie,{size:14}),e.jsx("span",{children:q(n.last_sign_in_at)})]}):"Hech qachon"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n.email_confirmed_at?"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200":"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200"}`,children:n.email_confirmed_at?"Tasdiqlangan":"Tasdiqlanmagan"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsx("button",{className:"theme-accent hover:text-blue-900 dark:hover:text-blue-300 p-1 rounded",children:e.jsx(we,{size:16})}),e.jsx("button",{className:"text-green-600 dark:text-green-400 hover:text-green-900 dark:hover:text-green-300 p-1 rounded",children:e.jsx(ce,{size:16})}),e.jsx("button",{onClick:()=>j(n.id,n.full_name),disabled:b===n.id,className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300 p-1 rounded disabled:opacity-50",children:b===n.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(he,{size:16})})]})})]},n.id))})]})})}),C.length===0&&!o&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(me,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Foydalanuvchi topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm theme-text-secondary",children:[C.length," ta foydalanuvchi ko'rsatilmoqda"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"px-4 py-2 theme-border border rounded-lg hover:theme-bg-tertiary transition-colors duration-200 theme-text-secondary",children:"Oldingi"}),e.jsx("button",{className:"px-4 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"1"}),e.jsx("button",{className:"px-4 py-2 theme-border border rounded-lg hover:theme-bg-tertiary transition-colors duration-200 theme-text-secondary",children:"Keyingi"})]})]})]})},fs=({stats:t})=>{const c=[{name:"Jami Foydalanuvchilar",value:t.total.toLocaleString(),icon:ve,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Tasdiqlangan",value:t.confirmed.toLocaleString(),icon:vt,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Email Foydalanuvchilar",value:t.emailUsers.toLocaleString(),icon:ue,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Google Foydalanuvchilar",value:t.googleUsers.toLocaleString(),icon:Le,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Oxirgi 7 kun",value:t.recentSignups.toLocaleString(),icon:ie,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Tasdiqlanmagan",value:t.unconfirmed.toLocaleString(),icon:G,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"}];return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:c.map(l=>{const x=l.icon;return e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:`p-2 rounded-lg ${l.bgColor}`,children:e.jsx(x,{size:20,className:l.textColor})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold theme-text mb-1",children:l.value}),e.jsx("p",{className:"text-xs theme-text-secondary",children:l.name})]})]},l.name)})})},ys=({searchTerm:t,selectedStatus:c})=>{const[l,x]=m.useState([]),[g,u]=m.useState(!0),[h,o]=m.useState(null),[i,b]=m.useState(null),[p,s]=m.useState({type:"",text:""});m.useEffect(()=>{y()},[]);const y=async()=>{u(!0);try{const{data:n}=await Nt();n&&x(n)}catch(n){console.error("Error loading consultation requests:",n),s({type:"error",text:"Maslahat so'rovlarini yuklashda xatolik"})}finally{u(!1)}},f=async(n,v)=>{o(n),s({type:"",text:""});try{const{error:k}=await wt({id:n,status:v});k?s({type:"error",text:k.message}):(s({type:"success",text:"Holat muvaffaqiyatli yangilandi!"}),await y())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{o(null)}},j=async(n,v)=>{if(confirm(`${v}ning so'rovini o'chirishni xohlaysizmi?`)){b(n),s({type:"",text:""});try{const{error:k}=await kt(n);k?s({type:"error",text:k.message}):(s({type:"success",text:"So'rov muvaffaqiyatli o'chirildi!"}),await y())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{b(null)}}},_=l.filter(n=>{const v=n.first_name.toLowerCase().includes(t.toLowerCase())||n.last_name.toLowerCase().includes(t.toLowerCase())||n.disease_type.toLowerCase().includes(t.toLowerCase())||n.phone.includes(t),k=c==="all"||n.status===c;return v&&k}),C=n=>{switch(n){case"pending":return"bg-yellow-100 text-yellow-800";case"contacted":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=n=>{switch(n){case"pending":return ie;case"contacted":return ae;case"completed":return D;case"cancelled":return Ee;default:return O}},d=n=>{switch(n){case"pending":return"Kutilmoqda";case"contacted":return"Bog'lanildi";case"completed":return"Yakunlandi";case"cancelled":return"Bekor qilindi";default:return"Noma'lum"}},q=n=>new Date(n).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return g?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maslahat so'rovlari yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[p.type==="success"?e.jsx(D,{size:20,className:"text-green-600"}):e.jsx(O,{size:20,className:"text-red-600"}),e.jsx("span",{className:p.type==="success"?"text-green-700":"text-red-700",children:p.text})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y theme-border",children:[e.jsx("thead",{className:"theme-bg-secondary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Bemor"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Kasallik"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Telefon"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Holat"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium theme-text-muted uppercase tracking-wider",children:"So'ralgan vaqt"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium theme-text-muted uppercase tracking-wider",children:"Amallar"})]})}),e.jsx("tbody",{className:"theme-bg divide-y theme-border",children:_.map(n=>{const v=w(n.status);return e.jsxs("tr",{className:"hover:theme-bg-tertiary transition-colors duration-200",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Y,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"text-sm font-medium theme-text",children:[n.first_name," ",n.last_name]}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[n.age," yosh"]})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm theme-text",children:n.disease_type}),n.comments&&e.jsx("div",{className:"text-xs theme-text-muted line-clamp-2 max-w-48",children:n.comments})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:14,className:"theme-text-muted"}),e.jsx("a",{href:`tel:${n.phone}`,className:"text-sm theme-accent hover:text-primary-700 transition-colors duration-200",children:n.phone})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{size:16,className:n.status==="pending"?"text-yellow-600":n.status==="contacted"?"text-blue-600":n.status==="completed"?"text-green-600":"text-red-600"}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${C(n.status)}`,children:d(n.status)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm theme-text-muted",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{size:14}),e.jsx("span",{children:q(n.created_at)})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[e.jsxs("select",{value:n.status,onChange:k=>f(n.id,k.target.value),disabled:h===n.id,className:"text-xs px-2 py-1 theme-border border rounded theme-bg theme-text disabled:opacity-50",children:[e.jsx("option",{value:"pending",children:"Kutilmoqda"}),e.jsx("option",{value:"contacted",children:"Bog'lanildi"}),e.jsx("option",{value:"completed",children:"Yakunlandi"}),e.jsx("option",{value:"cancelled",children:"Bekor qilindi"})]}),e.jsx("a",{href:`tel:${n.phone}`,className:"text-green-600 hover:text-green-900 p-1 rounded",title:"Qo'ng'iroq qilish",children:e.jsx(ae,{size:16})}),e.jsx("button",{onClick:()=>j(n.id,`${n.first_name} ${n.last_name}`),disabled:i===n.id,className:"text-red-600 hover:text-red-900 p-1 rounded disabled:opacity-50",title:"O'chirish",children:i===n.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsx(he,{size:16})})]})})]},n.id)})})]})})}),_.length===0&&!g&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(W,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Maslahat so'rovi topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]})]})},js=({stats:t})=>{const c=[{name:"Jami So'rovlar",value:t.total.toLocaleString(),icon:W,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Kutilmoqda",value:t.pending.toLocaleString(),icon:ie,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Bog'lanildi",value:t.contacted.toLocaleString(),icon:ae,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Yakunlandi",value:t.completed.toLocaleString(),icon:D,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Bekor qilindi",value:t.cancelled.toLocaleString(),icon:Ee,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"},{name:"Oxirgi 7 kun",value:t.recent.toLocaleString(),icon:zt,color:"from-primary-500 to-primary-600",bgColor:"bg-primary-100 dark:bg-primary-900/20",textColor:"text-primary-600 dark:text-primary-400"}];return e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:c.map(l=>{const x=l.icon;return e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:`p-2 rounded-lg ${l.bgColor}`,children:e.jsx(x,{size:20,className:l.textColor})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold theme-text mb-1",children:l.value}),e.jsx("p",{className:"text-xs theme-text-secondary",children:l.name})]})]},l.name)})})},vs=({onCategoriesChange:t,triggerCreateModal:c,onModalClosed:l})=>{const[x,g]=m.useState([]),[u,h]=m.useState(!0),[o,i]=m.useState(!1),[b,p]=m.useState(!1),[s,y]=m.useState(null),[f,j]=m.useState(!1),[_,C]=m.useState(null),[w,d]=m.useState({type:"",text:""}),[q,n]=m.useState({name:"",slug:"",description:"",color:"#62B6CB"}),v=["#62B6CB","#5FA8D3","#1B4965","#BEE9E8","#CAE9FF","#62B6CB","#1B4965","#BEE9E8","#5FA8D3","#CAE9FF","#62B6CB","#1B4965"];m.useEffect(()=>{k()},[]),m.useEffect(()=>{c&&(i(!0),l?.())},[c,l]);const k=async()=>{h(!0);try{const{data:z}=await Ct();z&&g(z)}catch{d({type:"error",text:"Kategoriyalarni yuklashda xatolik"})}finally{h(!1)}},L=z=>{const{name:R,value:U}=z.target;n(le=>({...le,[R]:U})),w.text&&d({type:"",text:""})};m.useEffect(()=>{if(q.name&&!s){const z=q.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();n(R=>({...R,slug:z}))}},[q.name,s]);const r=()=>{n({name:"",slug:"",description:"",color:"#62B6CB"}),y(null)},B=z=>{n({name:z.name,slug:z.slug,description:z.description||"",color:z.color}),y(z),p(!0)},E=()=>{i(!1),p(!1),r(),d({type:"",text:""})},M=async()=>{if(!q.name.trim())return d({type:"error",text:"Kategoriya nomi kiritilishi shart"}),!1;if(!q.slug.trim())return d({type:"error",text:"URL slug kiritilishi shart"}),!1;const{isUnique:z}=await $t(q.slug,s?.id);return z?!0:(d({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa nom yozing yoki URL ni o'zgartiring."}),!1)},Q=async z=>{if(z.preventDefault(),!!await M()){j(!0),d({type:"",text:""});try{const{data:R,error:U}=await qt(q);U?d({type:"error",text:"Xatolik: "+U.message}):(d({type:"success",text:"Kategoriya muvaffaqiyatli yaratildi!"}),await k(),t?.(),setTimeout(()=>{E()},1500))}catch{d({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{j(!1)}}},K=async z=>{if(z.preventDefault(),!(!s||!await M())){j(!0),d({type:"",text:""});try{const{data:R,error:U}=await Bt({id:s.id,...q});U?d({type:"error",text:"Xatolik: "+U.message}):(d({type:"success",text:"Kategoriya muvaffaqiyatli yangilandi!"}),await k(),t?.(),setTimeout(()=>{E()},1500))}catch{d({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{j(!1)}}},N=async(z,R)=>{if(confirm(`"${R}" kategoriyasini o'chirishni xohlaysizmi? Bu kategoriyaga tegishli barcha maqolalar kategoriyasiz qoladi.`)){C(z),d({type:"",text:""});try{const{error:U}=await _t(z);U?d({type:"error",text:U.message}):(d({type:"success",text:"Kategoriya muvaffaqiyatli o'chirildi!"}),await k(),t?.())}catch{d({type:"error",text:"Xatolik yuz berdi"})}finally{C(null)}}};return u?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"theme-text-muted text-sm",children:"Kategoriyalar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[w.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 animate-slide-down ${w.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[w.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${w.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:w.text})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(z=>e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow hover:theme-shadow-lg transition-all duration-300 theme-border border p-4 group",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:z.color},children:e.jsx(St,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold theme-text",children:z.name}),e.jsxs("p",{className:"text-xs theme-text-muted",children:["/",z.slug]})]})]}),e.jsxs("div",{className:"flex space-x-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:()=>B(z),className:"p-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 rounded",title:"Tahrirlash",children:e.jsx(we,{size:14})}),e.jsx("button",{onClick:()=>N(z.id,z.name),disabled:_===z.id,className:"p-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 rounded disabled:opacity-50",title:"O'chirish",children:_===z.id?e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}):e.jsx(he,{size:14})})]})]}),z.description&&e.jsx("p",{className:"theme-text-secondary text-sm line-clamp-2",children:z.description})]},z.id))}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Kategoriya"}),e.jsx("button",{onClick:E,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(A,{size:20})})]}),e.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[w.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${w.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[w.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${w.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:w.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kategoriya nomi *"}),e.jsx("input",{type:"text",name:"name",value:q.name,onChange:L,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Kategoriya nomi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tavsif"}),e.jsx("textarea",{name:"description",value:q.description,onChange:L,rows:2,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Kategoriya haqida qisqacha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Rang"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map(z=>e.jsx("button",{type:"button",onClick:()=>n(R=>({...R,color:z})),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 ${q.color===z?"border-gray-400 scale-110":"border-gray-200 hover:scale-105"}`,style:{backgroundColor:z}},z))}),e.jsx("input",{type:"color",name:"color",value:q.color,onChange:L,className:"w-full h-10 rounded-lg border theme-border cursor-pointer"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:E,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:f?"Yaratilmoqda...":"Yaratish"})]})]})]})}),b&&s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Kategoriyani Tahrirlash"}),e.jsx("button",{onClick:E,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(A,{size:20})})]}),e.jsxs("form",{onSubmit:K,className:"space-y-4",children:[w.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${w.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[w.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${w.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:w.text})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kategoriya nomi *"}),e.jsx("input",{type:"text",name:"name",value:q.name,onChange:L,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tavsif"}),e.jsx("textarea",{name:"description",value:q.description,onChange:L,rows:2,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Rang"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:v.map(z=>e.jsx("button",{type:"button",onClick:()=>n(R=>({...R,color:z})),className:`w-8 h-8 rounded-lg border-2 transition-all duration-200 ${q.color===z?"border-gray-400 scale-110":"border-gray-200 hover:scale-105"}`,style:{backgroundColor:z}},z))}),e.jsx("input",{type:"color",name:"color",value:q.color,onChange:L,className:"w-full h-10 rounded-lg border theme-border cursor-pointer"})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:E,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:f,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:f?"Saqlanmoqda...":"Saqlash"})]})]})]})})]})},Ns=({formData:t,onInputChange:c,onFormDataChange:l})=>{const[x,g]=m.useState("uz"),[u,h]=m.useState(null),o=p=>{const s=p.target.files?.[0];if(s){if(s.size>5*1024*1024){alert("Rasm hajmi 5MB dan kichik bo'lishi kerak");return}c("featured_image",s);const y=new FileReader;y.onload=()=>h(y.result),y.readAsDataURL(s)}},i=()=>{c("featured_image",void 0),h(null)},b=p=>{const s=document.getElementById(`content-editor-${x}`);if(!s)return;const y=s.selectionStart,f=s.selectionEnd,j=s.value.substring(y,f);let _="";switch(p){case"bold":_=`**${j||"qalin matn"}**`;break;case"italic":_=`*${j||"qiya matn"}*`;break;case"h1":_=`# ${j||"Sarlavha 1"}`;break;case"h2":_=`## ${j||"Sarlavha 2"}`;break;case"h3":_=`### ${j||"Sarlavha 3"}`;break;case"ul":_=`- ${j||"Ro'yxat elementi"}`;break;case"ol":_=`1. ${j||"Raqamlangan ro'yxat"}`;break}const C=x==="uz"?t.content:t.translations[x].content,w=C.substring(0,y)+_+C.substring(f);x==="uz"?c("content",w):l(d=>({...d,translations:{...d.translations,[x]:{...d.translations[x],content:w}}})),setTimeout(()=>{s.focus(),s.setSelectionRange(y+_.length,y+_.length)},0)};return e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Maqola Sarlavhasi"}),e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasini kiriting",value:t.title,onChange:p=>c("title",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text text-lg font-medium"})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Maqola Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:xe,label:"Matn Maqolasi"},{type:"image",icon:Ge,label:"Rasm Maqolasi"},{type:"video",icon:Ze,label:"Video Maqolasi"}].map(({type:p,icon:s,label:y})=>e.jsxs("button",{onClick:()=>c("post_type",p),className:`p-4 border-2 rounded-lg transition-all duration-200 ${t.post_type===p?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(s,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:y})]},p))})]}),(t.post_type==="image"||t.post_type==="video")&&e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6 animate-fade-in",children:[t.post_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Asosiy Rasm"}),u?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{onClick:i,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(A,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ye,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:o})]})]}),t.post_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t.youtube_url||"",onChange:p=>c("youtube_url",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text"})]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 space-y-4 lg:space-y-0",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Maqola Matni"}),e.jsx("div",{className:"flex space-x-1 bg-gray-50 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿",bgClass:"bg-nav-500",textClass:"text-white"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º",bgClass:"bg-primary-500",textClass:"text-white"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸",bgClass:"bg-highlight-500",textClass:"text-gray-800"}].map(p=>e.jsxs("button",{type:"button",onClick:()=>g(p.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${x===p.code?p.bgClass+" "+p.textClass+" shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("span",{children:p.flag}),e.jsx("span",{className:"hidden sm:inline",children:p.label})]},p.code))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-1 lg:gap-2 mb-4 p-3 theme-bg-tertiary rounded-lg overflow-x-auto",children:[e.jsx("button",{type:"button",onClick:()=>b("bold"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Qalin",children:e.jsx(Lt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>b("italic"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Qiya",children:e.jsx(Et,{size:16})}),e.jsx("div",{className:"w-px h-6 theme-border"}),e.jsx("button",{type:"button",onClick:()=>b("h1"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 1",children:e.jsx(Tt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>b("h2"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 2",children:e.jsx(Mt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>b("h3"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Sarlavha 3",children:e.jsx(Rt,{size:16})}),e.jsx("div",{className:"w-px h-6 theme-border"}),e.jsx("button",{type:"button",onClick:()=>b("ul"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Ro'yxat",children:e.jsx(Pt,{size:16})}),e.jsx("button",{type:"button",onClick:()=>b("ol"),className:"p-2 theme-text-secondary hover:theme-text hover:theme-bg-quaternary rounded transition-colors duration-200 flex-shrink-0",title:"Raqamlangan ro'yxat",children:e.jsx(At,{size:16})})]}),x==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi (O'zbek)",value:t.title,onChange:p=>c("title",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-uz",rows:12,placeholder:"Tibbiy maqola matnini shu yerga yozing... (O'zbek tilida)",value:t.content,onChange:p=>c("content",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-vertical"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.content.length," belgi"]})]}),x==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ð°Ñ‚ÑŒÐ¸ (Ð ÑƒÑÑÐºÐ¸Ð¹)",value:t.translations.ru.title,onChange:p=>l(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,title:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-ru",rows:12,placeholder:"Ð¢ÐµÐºÑÑ‚ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸... (Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ)",value:t.translations.ru.content,onChange:p=>l(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,content:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-vertical"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.ru.content.length," ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),x==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Article title (English)",value:t.translations.en.title,onChange:p=>l(s=>({...s,translations:{...s.translations,en:{...s.translations.en,title:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text font-semibold"}),e.jsx("textarea",{id:"content-editor-en",rows:12,placeholder:"Medical article content... (in English)",value:t.translations.en.content,onChange:p=>l(s=>({...s,translations:{...s.translations,en:{...s.translations.en,content:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-vertical"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[t.translations.en.content.length," characters"]})]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:["Qisqacha Mazmun (",x==="uz"?"O'zbek":x==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),x==="uz"&&e.jsx("textarea",{rows:3,placeholder:"Maqolaning qisqacha mazmuni (avtomatik yaratiladi)",value:t.excerpt,onChange:p=>c("excerpt",p.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-none"}),x==="ru"&&e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸",value:t.translations.ru.excerpt,onChange:p=>l(s=>({...s,translations:{...s.translations,ru:{...s.translations.ru,excerpt:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-none"}),x==="en"&&e.jsx("textarea",{rows:3,placeholder:"Article excerpt",value:t.translations.en.excerpt,onChange:p=>l(s=>({...s,translations:{...s.translations,en:{...s.translations.en,excerpt:p.target.value}}})),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text resize-none"})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium color-nav-500",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${t.title&&t.content?"text-green-600":"theme-text-muted"}`,children:t.title&&t.content?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium color-primary-500",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.ru.title&&t.translations.ru.content?"text-green-600":"theme-text-muted"}`,children:t.translations.ru.title&&t.translations.ru.content?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium color-highlight-500",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${t.translations.en.title&&t.translations.en.content?"text-green-600":"theme-text-muted"}`,children:t.translations.en.title&&t.translations.en.content?"Ready":"Not filled"})]})]})]})]})},ws=({formData:t,categories:c,onInputChange:l,onFormDataChange:x})=>{const[g,u]=m.useState(""),h=()=>{g.trim()&&!t.tags.includes(g.trim())&&(l("tags",[...t.tags,g.trim()]),u(""))},o=i=>{l("tags",t.tags.filter(b=>b!==i))};return e.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:t.published,onChange:i=>l("published",i.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),e.jsx("span",{className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]})})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Kategoriya"}),e.jsxs("select",{value:t.category_id,onChange:i=>l("category_id",i.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text",children:[e.jsx("option",{value:"",children:"Kategoriya tanlang"}),c.map(i=>e.jsx("option",{value:i.id,children:i.name},i.id))]})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Teglar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Teg qo'shish",value:g,onChange:i=>u(i.target.value),onKeyPress:i=>i.key==="Enter"&&(i.preventDefault(),h()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-gray-50 theme-text min-w-0"}),e.jsx("button",{type:"button",onClick:h,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 flex-shrink-0",children:e.jsx(se,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(i=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full animate-fade-in",children:[e.jsx("span",{className:"truncate max-w-20",children:i}),e.jsx("button",{type:"button",onClick:()=>o(i),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200 flex-shrink-0",children:e.jsx(A,{size:12})})]},i))})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Yordamchisi"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{type:"button",onClick:()=>{t.title&&!t.translations.ru.title&&x(i=>({...i,translations:{...i.translations,ru:{...i.translations.ru,title:`[RU] ${t.title}`,content:`[Ð ÑƒÑÑÐºÐ¸Ð¹ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´]

${t.content}`,excerpt:`[RU] ${t.excerpt}`,slug:t.slug+"-ru"}}}))},className:"w-full text-left p-3 theme-bg-tertiary rounded-lg hover:theme-bg-quaternary transition-colors duration-200 text-sm",children:"ðŸ‡·ðŸ‡º Rus tiliga shablon yaratish"}),e.jsx("button",{type:"button",onClick:()=>{t.title&&!t.translations.en.title&&x(i=>({...i,translations:{...i.translations,en:{...i.translations.en,title:`[EN] ${t.title}`,content:`[English translation]

${t.content}`,excerpt:`[EN] ${t.excerpt}`,slug:t.slug+"-en"}}}))},className:"w-full text-left p-3 theme-bg-tertiary rounded-lg hover:theme-bg-quaternary transition-colors duration-200 text-sm",children:"ðŸ‡ºðŸ‡¸ Ingliz tiliga shablon yaratish"})]})]})]})},ks=({isEditing:t,isSubmitting:c,onBack:l,onPreview:x,onSaveDraft:g,onPublish:u,canPreview:h})=>e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:l,className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(Ut,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl lg:text-2xl font-bold theme-text",children:t?"Maqolani Tahrirlash":"Yangi Maqola Yaratish"}),e.jsx("p",{className:"theme-text-secondary text-sm lg:text-base",children:t?"Mavjud maqolani tahrirlang":"Yangi tibbiy maqola yoki kontent qo'shing"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2 lg:gap-3",children:[e.jsxs("button",{onClick:x,disabled:!h,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-3 lg:px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(ce,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Ko'rish"})]}),e.jsxs("button",{onClick:g,disabled:c,className:"flex items-center space-x-2 bg-gray-600 text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(Ke,{size:16}),e.jsx("span",{className:"hidden sm:inline",children:"Qoralama"})]}),e.jsxs("button",{onClick:u,disabled:c,className:"flex items-center space-x-2 theme-accent-bg text-white px-3 lg:px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 text-sm lg:text-base",children:[e.jsx(Ke,{size:16}),e.jsx("span",{children:c?"Saqlanmoqda...":"Nashr etish"})]})]})]}),ss=m.forwardRef((t,c)=>{const[l,x]=m.useState([]),[g,u]=m.useState(!0),[h,o]=m.useState(""),[i,b]=m.useState("all"),[p,s]=m.useState(!1),[y,f]=m.useState(!1),[j,_]=m.useState(null),[C,w]=m.useState(null),[d,q]=m.useState(!1),[n,v]=m.useState(null),[k,L]=m.useState({type:"",text:""}),[r,B]=m.useState("uz"),[E,M]=m.useState(null),[Q,K]=m.useState(!1),[N,z]=m.useState({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:0,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),[R,U]=m.useState(""),le=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}];m.useEffect(()=>{ge()},[]),m.useImperativeHandle(c,()=>({openCreateModal:Re}));const ge=async()=>{console.log("ðŸ”„ Loading doctors in DoctorsManagement component"),u(!0);try{const{data:a}=await Je();console.log("ðŸ“‹ Doctors received in component:",a?.length||0,a?.map(S=>({id:S.id,name:S.full_name,email:S.email}))),a&&x(a)}catch(a){console.log("âŒ Error loading doctors in component:",a),L({type:"error",text:"Shifokorlarni yuklashda xatolik"})}finally{u(!1)}},T=a=>{const{name:S,value:P,type:H}=a.target,oe=H==="checkbox"?a.target.checked:!1;if(S.includes(".")){const[V,Z]=S.split(".");z(ee=>({...ee,translations:{...ee.translations,[V]:{...ee.translations[V],[Z]:P}}}))}else z(V=>({...V,[S]:H==="checkbox"?oe:H==="number"?Number(P):P}));k.text&&L({type:"",text:""})},Te=()=>{R.trim()&&!N.certificates.includes(R.trim())&&(z(a=>({...a,certificates:[...a.certificates,R.trim()]})),U(""))},et=a=>{z(S=>({...S,certificates:S.certificates.filter(P=>P!==a)}))},Me=()=>{const S=(l.length>0?Math.max(...l.map(P=>P.order_index)):0)+1;z({full_name:"",email:"",phone:"",specialization:"",experience_years:0,bio:"",avatar_url:"",certificates:[],verified:!1,active:!0,order_index:S,translations:{ru:{bio:"",specialization:""},en:{bio:"",specialization:""}}}),U(""),_(null),w(null),M(null),B("uz")},Re=()=>{Me(),s(!0)},tt=a=>{z({full_name:a.full_name,email:a.email,phone:a.phone||"",specialization:a.specialization,experience_years:a.experience_years,bio:a.bio||"",avatar_url:a.avatar_url||"",certificates:a.certificates||[],verified:a.verified,active:a.active,order_index:a.order_index,translations:{ru:{bio:a.translations?.find(S=>S.language==="ru")?.bio||"",specialization:a.translations?.find(S=>S.language==="ru")?.specialization||""},en:{bio:a.translations?.find(S=>S.language==="en")?.bio||"",specialization:a.translations?.find(S=>S.language==="en")?.specialization||""}}}),_(a),w(a.avatar_url||null),M(null),f(!0)},ne=()=>{s(!1),f(!1),Me(),L({type:"",text:""})},Pe=a=>{const S=a.target.files?.[0];if(S){if(S.size>5*1024*1024){L({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}M(S);const P=new FileReader;P.onload=()=>{const H=P.result;w(H)},P.readAsDataURL(S)}},Ae=()=>{w(null),M(null),z(a=>({...a,avatar_url:""}))},Ue=async()=>{if(!N.full_name.trim())return L({type:"error",text:"Shifokor ismi kiritilishi shart"}),!1;if(!N.email.trim())return L({type:"error",text:"Email kiritilishi shart"}),!1;if(!N.specialization.trim())return L({type:"error",text:"Mutaxassislik kiritilishi shart"}),!1;const{isUnique:a}=await Kt(N.email,j?.id);return a?!0:(L({type:"error",text:"Bu email allaqachon mavjud. Boshqa email kiriting."}),!1)},st=async a=>{if(a.preventDefault(),!!await Ue()){q(!0),L({type:"",text:""});try{let S={...N};if(E){const oe=E.name.split(".").pop(),V=`${Date.now()}_${Math.random().toString(36).substring(2)}.${oe}`,{error:Z}=await be.storage.from("avatars").upload(`doctors/${V}`,E);if(Z)throw new Error(`Image upload failed: ${Z.message}`);const{data:ee}=be.storage.from("avatars").getPublicUrl(`doctors/${V}`);S.avatar_url=ee.publicUrl}const{data:P,error:H}=await Ot(S);H?L({type:"error",text:"Xatolik: "+H.message}):(L({type:"success",text:"Shifokor muvaffaqiyatli yaratildi!"}),await ge(),setTimeout(()=>{ne()},1500))}catch(S){L({type:"error",text:`Xatolik yuz berdi: ${S.message}`})}finally{q(!1)}}},at=async a=>{if(a.preventDefault(),!(!j||!await Ue())){q(!0),L({type:"",text:""});try{let S={...N};if(E){const oe=E.name.split(".").pop(),V=`${Date.now()}_${Math.random().toString(36).substring(2)}.${oe}`,{error:Z}=await be.storage.from("avatars").upload(`doctors/${V}`,E);if(Z)throw new Error(`Image upload failed: ${Z.message}`);const{data:ee}=be.storage.from("avatars").getPublicUrl(`doctors/${V}`);S.avatar_url=ee.publicUrl}const{data:P,error:H}=await Dt({id:j.id,...S});H?L({type:"error",text:"Xatolik: "+H.message}):(L({type:"success",text:"Shifokor muvaffaqiyatli yangilandi!"}),await ge(),setTimeout(()=>{ne()},1500))}catch(S){L({type:"error",text:`Xatolik yuz berdi: ${S.message}`})}finally{q(!1)}}},rt=async(a,S)=>{if(confirm(`${S} shifokorni o'chirishni xohlaysizmi?`)){v(a),L({type:"",text:""});try{const{error:P}=await Ft(a);P?L({type:"error",text:P.message}):(L({type:"success",text:"Shifokor muvaffaqiyatli o'chirildi!"}),await ge())}catch{L({type:"error",text:"Xatolik yuz berdi"})}finally{v(null)}}},Fe=l.filter(a=>{const S=a.full_name.toLowerCase().includes(h.toLowerCase())||a.email.toLowerCase().includes(h.toLowerCase())||a.specialization.toLowerCase().includes(h.toLowerCase()),P=i==="all"||i==="active"&&a.active||i==="inactive"&&!a.active||i==="verified"&&a.verified||i==="unverified"&&!a.verified;return S&&P}),Oe=a=>new Date(a).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"}),lt=a=>{if(a==="uz")return!!(N.full_name&&N.specialization&&N.bio)?"complete":"partial";const S=N.translations?.[a];return!!(S?.bio&&S?.specialization)?"complete":"empty"};return g?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6","data-legacy-doctors":!0,children:[k.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${k.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[k.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:k.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:k.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:l.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(a=>a.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.filter(a=>a.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l.reduce((a,S)=>a+S.experience_years,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami tajriba (yil)"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.reduce((a,S)=>a+S.certificates.length,0)}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami sertifikatlar"})]})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:18}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:h,onChange:a=>o(a.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm"})]})}),e.jsxs("div",{className:"lg:w-48 relative",children:[e.jsxs("button",{onClick:a=>{a.stopPropagation(),K(!Q)},className:"w-full px-3 lg:px-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm text-left flex items-center justify-between",children:[e.jsx("span",{children:i==="all"?"Barcha shifokorlar":i==="active"?"Faol":i==="inactive"?"Faol emas":i==="verified"?"Tasdiqlangan":"Tasdiqlanmagan"}),e.jsx(Ne,{className:`theme-text-muted transition-transform ${Q?"rotate-180":""}`,size:16})]}),Q&&e.jsxs("div",{onClick:a=>a.stopPropagation(),className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[e.jsx("div",{onClick:()=>{b("all"),K(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Barcha shifokorlar"}),e.jsx("div",{onClick:()=>{b("active"),K(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol"}),e.jsx("div",{onClick:()=>{b("inactive"),K(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol emas"}),e.jsx("div",{onClick:()=>{b("verified"),K(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlangan"}),e.jsx("div",{onClick:()=>{b("unverified"),K(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlanmagan"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Fe.map(a=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[a.avatar_url?e.jsx("img",{src:a.avatar_url,alt:a.full_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center",children:e.jsx(Y,{size:48,className:"theme-text-muted opacity-50"})}),e.jsxs("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${a.active?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:a.active?"Faol":"Faol emas"}),a.verified&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-blue-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(We,{size:12}),e.jsx("span",{children:"Tasdiqlangan"})]})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-white/90 text-gray-800 rounded-full",children:["#",a.order_index]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-300",children:a.full_name}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:a.specialization}),a.bio&&e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:a.bio}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(re,{size:14}),e.jsxs("span",{children:[a.experience_years," yil tajriba"]})]}),a.email&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(ue,{size:14}),e.jsx("span",{className:"truncate",children:a.email})]}),a.phone&&e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(ae,{size:14}),e.jsx("span",{children:a.phone})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.certificates.slice(0,2).map((S,P)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full",children:S},P)),a.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",a.certificates.length-2]})]})}),e.jsxs("div",{className:"text-xs theme-text-muted mb-6 p-3 theme-bg-secondary rounded-lg",children:[e.jsxs("div",{children:["Yaratilgan: ",Oe(a.created_at)]}),e.jsxs("div",{children:["Yangilangan: ",Oe(a.updated_at)]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>tt(a),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(we,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsx("button",{onClick:()=>rt(a.id,a.full_name),disabled:n===a.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:n===a.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsx("div",{className:"flex items-center space-x-3 text-xs theme-text-muted",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(fe,{size:12}),e.jsxs("span",{children:[a.certificates.length," sertifikat"]})]})})]})]})]},a.id))}),Fe.length===0&&!g&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(me,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi shifokor qo'shing"}),e.jsxs("button",{onClick:Re,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(se,{size:20}),e.jsx("span",{children:"Birinchi shifokorni qo'shish"})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh]",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}}),e.jsxs("div",{style:{maxHeight:"calc(90vh - 4rem)",overflowY:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Shifokor Qo'shish"}),e.jsx("button",{onClick:ne,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(A,{size:20})})]}),e.jsxs("form",{onSubmit:st,className:"space-y-6",children:[k.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${k.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[k.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${k.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:k.text})]}),e.jsxs("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium color-nav-500",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${N.full_name&&N.specialization&&N.bio?"text-green-600":"theme-text-muted"}`,children:N.full_name&&N.specialization&&N.bio?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium color-primary-500",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${N.translations?.ru.bio&&N.translations?.ru.specialization?"text-green-600":"theme-text-muted"}`,children:N.translations?.ru.bio&&N.translations?.ru.specialization?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium color-highlight-500",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${N.translations?.en.bio&&N.translations?.en.specialization?"text-green-600":"theme-text-muted"}`,children:N.translations?.en.bio&&N.translations?.en.specialization?"Ready":"Not filled"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:N.full_name,onChange:T,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Dr. Ism Familiya"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),C?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:C,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:Ae,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(A,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ye,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Pe})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:N.email,onChange:T,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"doctor@revmoinfo.uz"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"+998 90 123 45 67"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:N.experience_years,onChange:T,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:N.avatar_url,onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"https://example.com/photo.jpg"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",le.find(a=>a.code===r)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-50 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿",bgClass:"bg-nav-500",textClass:"text-white"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º",bgClass:"bg-primary-500",textClass:"text-white"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸",bgClass:"bg-highlight-500",textClass:"text-gray-800"}].map(a=>e.jsxs("button",{type:"button",onClick:()=>B(a.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${r===a.code?a.bgClass+" "+a.textClass+" shadow-sm":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx("span",{children:a.flag}),e.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.code))})]}),r==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:N.specialization,onChange:T,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Revmatologiya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:N.bio,onChange:T,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Shifokor haqida batafsil ma'lumot..."})]})]}),r==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:N.translations?.ru.specialization||"",onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Ð ÐµÐ²Ð¼Ð°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:N.translations?.ru.bio||"",onChange:T,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ð²Ñ€Ð°Ñ‡Ðµ..."})]})]}),r==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:N.translations?.en.specialization||"",onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"Rheumatology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:N.translations?.en.bio||"",onChange:T,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none",placeholder:"Detailed information about the doctor..."})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Sertifikatlar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat qo'shish",value:R,onChange:a=>U(a.target.value),onKeyPress:a=>a.key==="Enter"&&(a.preventDefault(),Te()),className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"}),e.jsx("button",{type:"button",onClick:Te,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(se,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.certificates.map(a=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[e.jsx("span",{children:a}),e.jsx("button",{type:"button",onClick:()=>et(a),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(A,{size:12})})]},a))})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:N.active,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:N.verified,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:ne,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:d,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:d?"Yaratilmoqda...":"Yaratish"})]})]})]})]})}),y&&j&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh]",style:{scrollbarWidth:"none",msOverflowStyle:"none",WebkitScrollbar:{display:"none"}},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                div::-webkit-scrollbar {
                  display: none;
                }
              `}}),e.jsxs("div",{style:{maxHeight:"calc(90vh - 4rem)",overflowY:"auto"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Shifokorni Tahrirlash"}),e.jsx("button",{onClick:ne,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(A,{size:20})})]}),e.jsxs("form",{onSubmit:at,className:"space-y-6",children:[k.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${k.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[k.type==="success"?e.jsx(D,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${k.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:k.text})]}),e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-3",children:"Tillar bo'yicha holat"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:le.map(a=>{const S=lt(a.code);return e.jsxs("div",{className:`p-3 rounded-lg border-2 cursor-pointer transition-all duration-200 ${r===a.code?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"theme-border hover:border-blue-300"}`,onClick:()=>B(a.code),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-lg",children:a.flag}),e.jsx("span",{className:"font-medium theme-text text-sm",children:a.label})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${S==="complete"?"bg-green-500":S==="partial"?"bg-yellow-500":"bg-gray-300"}`})]}),e.jsx("div",{className:"text-xs theme-text-muted",children:S==="complete"?"To'liq":S==="partial"?"Qisman":"Bo'sh"})]},a.code)})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism *"}),e.jsx("input",{type:"text",name:"full_name",value:N.full_name,onChange:T,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Shifokor Surati"}),C?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:C,alt:"Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:Ae,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200",children:e.jsx(A,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-32 h-32 border-2 theme-border border-dashed rounded-full cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx(ye,{className:"w-8 h-8 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary text-center",children:"Surat yuklash"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:Pe})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:N.email,onChange:T,required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon"}),e.jsx("input",{type:"tel",name:"phone",value:N.phone,onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:N.experience_years,onChange:T,required:!0,min:"0",max:"50",className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Avatar URL"}),e.jsx("input",{type:"url",name:"avatar_url",value:N.avatar_url,onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold theme-text",children:["Kontent (",le.find(a=>a.code===r)?.label,")"]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:le.map(a=>e.jsxs("button",{type:"button",onClick:()=>B(a.code),className:`px-3 py-1 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-1 ${r===a.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:a.flag}),e.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.code))})]}),r==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:N.specialization,onChange:T,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biografiya (O'zbek)"}),e.jsx("textarea",{name:"bio",value:N.bio,onChange:T,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none"})]})]}),r==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"ru.specialization",value:N.translations?.ru.specialization||"",onChange:T,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾Ð³Ñ€Ð°Ñ„Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"ru.bio",value:N.translations?.ru.bio||"",onChange:T,rows:4,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 resize-none"})]})]}),r==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"en.specialization",value:N.translations?.en.specialization||"",onChange:T,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Biography (English)"}),e.jsx("textarea",{name:"en.bio",value:N.translations?.en.bio||"",onChange:T,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"active",checked:N.active,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",name:"verified",checked:N.verified,onChange:T,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:ne,className:"flex-1 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsx("button",{type:"submit",disabled:d,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:d?"Saqlanmoqda...":"Saqlash"})]})]})]})]})})]})});ss.displayName="DoctorsManagement";const zs=()=>{const[t,c]=m.useState([]),[l,x]=m.useState(!0),[g,u]=m.useState(""),[h,o]=m.useState("all"),[i,b]=m.useState(null),[p,s]=m.useState({type:"",text:""}),[y,f]=m.useState(!1);m.useEffect(()=>{j()},[]);const j=async()=>{x(!0);try{const{data:d}=await Ht();d&&c(d)}catch{s({type:"error",text:"Profillarni yuklashda xatolik"})}finally{x(!1)}},_=async(d,q,n)=>{if(confirm(`${n} shifokorni ${q?"tasdiqlash":"rad etish"}ni xohlaysizmi?`)){b(d),s({type:"",text:""});try{const{error:k}=await Yt(d,q);k?s({type:"error",text:k.message}):(s({type:"success",text:`Shifokor ${q?"tasdiqlandi":"rad etildi"}!`}),await j())}catch{s({type:"error",text:"Xatolik yuz berdi"})}finally{b(null)}}},C=t.filter(d=>{const q=d.full_name.toLowerCase().includes(g.toLowerCase())||d.specialization.toLowerCase().includes(g.toLowerCase())||d.email.toLowerCase().includes(g.toLowerCase()),n=h==="all"||h==="verified"&&d.verified||h==="pending"&&!d.verified||h==="active"&&d.active;return q&&n}),w=d=>new Date(d).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return l?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor profillari yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[p.type==="success"?e.jsx(D,{size:20,className:"text-green-600"}):e.jsx(O,{size:20,className:"text-red-600"}),e.jsx("span",{className:p.type==="success"?"text-green-700":"text-red-700",children:p.text})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:t.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami shifokorlar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(d=>d.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Tasdiqlangan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:t.filter(d=>!d.verified).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Kutilmoqda"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.filter(d=>d.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border p-4 lg:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 lg:gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:18}),e.jsx("input",{type:"text",placeholder:"Shifokorlarni qidiring...",value:g,onChange:d=>u(d.target.value),className:"w-full pl-10 pr-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm"})]})}),e.jsxs("div",{className:"lg:w-48 relative",children:[e.jsxs("button",{onClick:d=>{d.stopPropagation(),f(!y)},className:"w-full px-3 lg:px-4 py-2 lg:py-3 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 theme-text text-sm text-left flex items-center justify-between",children:[e.jsx("span",{children:h==="all"?"Barcha holatlar":h==="pending"?"Tasdiq kutilmoqda":h==="verified"?"Tasdiqlangan":"Faol"}),e.jsx(Ne,{className:`theme-text-muted transition-transform ${y?"rotate-180":""}`,size:16})]}),y&&e.jsxs("div",{onClick:d=>d.stopPropagation(),className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10",children:[e.jsx("div",{onClick:()=>{o("all"),f(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Barcha holatlar"}),e.jsx("div",{onClick:()=>{o("pending"),f(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiq kutilmoqda"}),e.jsx("div",{onClick:()=>{o("verified"),f(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Tasdiqlangan"}),e.jsx("div",{onClick:()=>{o("active"),f(!1)},className:"px-4 py-2 hover:bg-gray-50 cursor-pointer theme-text",children:"Faol"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.map(d=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 theme-border border overflow-hidden",children:[e.jsxs("div",{className:"relative p-6 pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[d.avatar_url?e.jsx("img",{src:d.avatar_url,alt:d.full_name,className:"w-16 h-16 rounded-full object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center",children:e.jsx(F,{size:24,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold theme-text",children:d.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:d.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[d.experience_years," yil tajriba"]})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${d.verified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:d.verified?"Tasdiqlangan":"Kutilmoqda"}),e.jsx("span",{className:`px-3 py-1 text-xs font-medium rounded-full ${d.active?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:d.active?"Faol":"Faol emas"})]})]}),d.bio&&e.jsx("p",{className:"theme-text-secondary text-sm line-clamp-3 mb-4",children:d.bio}),e.jsxs("div",{className:"space-y-2 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{size:14}),e.jsx("span",{className:"truncate",children:d.email})]}),d.phone&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:14}),e.jsx("span",{children:d.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(re,{size:14}),e.jsxs("span",{children:["Ro'yxatdan o'tgan: ",w(d.created_at)]})]})]})]}),e.jsxs("div",{className:"px-6 pb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:d.certificates.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Sertifikatlar"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:d.education.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Ta'lim"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold theme-text",children:d.languages.length}),e.jsx("div",{className:"text-xs theme-text-secondary",children:"Tillar"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.languages.slice(0,3).map(q=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:q.toUpperCase()},q)),d.languages.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",d.languages.length-3]})]})})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex space-x-2",children:[!d.verified&&e.jsx("button",{onClick:()=>_(d.id,!0,d.full_name),disabled:i===d.id,className:"flex-1 bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:i===d.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(D,{size:16}),e.jsx("span",{className:"text-sm",children:"Tasdiqlash"})]})}),d.verified&&e.jsx("button",{onClick:()=>_(d.id,!1,d.full_name),disabled:i===d.id,className:"flex-1 bg-red-600 text-white py-2 px-3 rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-1",children:i===d.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{size:16}),e.jsx("span",{className:"text-sm",children:"Rad etish"})]})}),e.jsx("button",{className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(ce,{size:16})})]})})]},d.id))}),C.length===0&&!l&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(F,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Shifokor profili topilmadi"}),e.jsx("p",{className:"theme-text-muted",children:"Qidiruv so'zini o'zgartiring yoki filtrlarni qayta sozlang"})]})]})},Cs=({formData:t,doctors:c,onInputChange:l,onFormDataChange:x,imagePreview:g,onImageUpload:u,onRemoveImage:h})=>{const[o,i]=m.useState(""),[b,p]=m.useState(""),[s,y]=m.useState(""),[f,j]=m.useState("uz"),_=(r,B)=>{const E=B.translations||{},M=E[r]||{patient_name:"",diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:B.doctor_name||"",symptoms:B.symptoms||[],treatment_methods:B.treatment_methods||[],medications:B.medications||[],lifestyle_changes:B.lifestyle_changes||"",meta_title:"",meta_description:""};return{current:E,langObj:M}},C=(r,B)=>{if(f==="uz"){l(r,B);return}const E=f;x(M=>{const{current:Q,langObj:K}=_(E,M);return{...M,translations:{...Q,[E]:{...K,[r]:B}}}})},w=r=>{if(f==="uz")return t[r]??"";const B=f;return t.translations?.[B]?.[r]??""},d=()=>{o.trim()&&!t.symptoms.includes(o.trim())&&(l("symptoms",[...t.symptoms,o.trim()]),i(""))},q=r=>{l("symptoms",t.symptoms.filter(B=>B!==r))},n=()=>{b.trim()&&!t.treatment_methods.includes(b.trim())&&(l("treatment_methods",[...t.treatment_methods,b.trim()]),p(""))},v=r=>{l("treatment_methods",t.treatment_methods.filter(B=>B!==r))},k=()=>{s.trim()&&!t.medications.includes(s.trim())&&(l("medications",[...t.medications,s.trim()]),y(""))},L=r=>{l("medications",t.medications.filter(B=>B!==r))};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Til"}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1 overflow-x-auto",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}].map(r=>e.jsxs("button",{type:"button",onClick:()=>j(r.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 whitespace-nowrap ${f===r.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:r.flag}),e.jsx("span",{className:"hidden sm:inline",children:r.label})]},r.code))})]})}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(Y,{size:20,className:"text-blue-600"}),e.jsx("span",{children:"Asosiy Ma'lumotlar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Bemor ismi * ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:w("patient_name"),onChange:r=>C("patient_name",r.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Bemor to'liq ismi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Yoshi *"}),e.jsx("input",{type:"number",value:t.age,onChange:r=>l("age",parseInt(r.target.value)||0),required:!0,min:"1",max:"120",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Tashxis * ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:w("diagnosis"),onChange:r=>C("diagnosis",r.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Kasallik tashxisi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Davolash shifokor *"}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:16}),e.jsxs("select",{value:t.doctor_name,onChange:r=>l("doctor_name",r.target.value),required:!0,className:"w-full pl-10 pr-4 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text appearance-none",children:[e.jsx("option",{value:"",children:"Shifokorni tanlang"}),c.map(r=>e.jsxs("option",{value:r.full_name,children:[r.full_name," - ",r.specialization]},r.id))]})]}),c.length===0&&e.jsx("p",{className:"text-xs theme-text-muted mt-1",children:"Hozircha shifokorlar mavjud emas. Avval shifokor qo'shing."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Davolash muddati * ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:w("treatment_duration"),onChange:r=>C("treatment_duration",r.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Masalan: 6 oy, 1 yil"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Reyting *"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(r=>e.jsx("button",{type:"button",onClick:()=>l("rating",r),className:`p-1 transition-colors duration-200 ${r<=t.rating?"text-yellow-500":"text-gray-300"}`,children:e.jsx(fe,{size:20,className:r<=t.rating?"fill-current":""})},r))}),e.jsxs("span",{className:"text-sm theme-text-secondary",children:["(",t.rating,"/5)"]})]})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(de,{size:20,className:"text-red-600"}),e.jsx("span",{children:"Bemor Hikoyasi"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Hikoya matni * ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("textarea",{value:w("story_content"),onChange:r=>C("story_content",r.target.value),required:!0,rows:6,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Bemorning to'liq hikoyasini yozing..."}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[w("story_content").length," belgi"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Davolash natijasi * ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("textarea",{value:w("outcome"),onChange:r=>C("outcome",r.target.value),required:!0,rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Davolash natijasi va hozirgi holat"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Turmush tarzi o'zgarishlari"}),e.jsx("textarea",{value:t.lifestyle_changes,onChange:r=>l("lifestyle_changes",r.target.value),rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Ovqatlanish, mashqlar, kundalik rejim o'zgarishlari"})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Kontent Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:xe,label:"Matn Hikoyasi"},{type:"image",icon:Ge,label:"Rasm Hikoyasi"},{type:"video",icon:Ze,label:"Video Hikoya"}].map(({type:r,icon:B,label:E})=>e.jsxs("button",{type:"button",onClick:()=>l("content_type",r),className:`p-4 border-2 rounded-lg transition-all duration-200 ${t.content_type===r?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(B,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:E})]},r))})]}),(t.content_type==="image"||t.content_type==="video")&&e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6 animate-fade-in",children:[t.content_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Hikoya rasmi"}),g?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:g,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:h,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(A,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ye,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:u})]})]}),t.content_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:t.youtube_url||"",onChange:r=>l("youtube_url",r.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(te,{size:20,className:"text-orange-600"}),e.jsx("span",{children:"Kasallik Belgilari"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Yangi belgi qo'shish",value:o,onChange:r=>i(r.target.value),onKeyPress:r=>r.key==="Enter"&&(r.preventDefault(),d()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:d,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(se,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.symptoms.map((r,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 dark:bg-orange-900/20 text-orange-800 dark:text-orange-200 rounded-lg text-sm",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>q(r),className:"text-orange-600 dark:text-orange-400 hover:text-orange-800 dark:hover:text-orange-300",children:e.jsx(A,{size:14})})]},B))})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(F,{size:20,className:"text-blue-600"}),e.jsx("span",{children:"Davolash Usullari"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Davolash usuli qo'shish",value:b,onChange:r=>p(r.target.value),onKeyPress:r=>r.key==="Enter"&&(r.preventDefault(),n()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:n,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(se,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.treatment_methods.map((r,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-sm",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>v(r),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:e.jsx(A,{size:14})})]},B))})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4 flex items-center space-x-2",children:[e.jsx(It,{size:20,className:"text-green-600"}),e.jsx("span",{children:"Dorilar"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Dori qo'shish",value:s,onChange:r=>y(r.target.value),onKeyPress:r=>r.key==="Enter"&&(r.preventDefault(),k()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:k,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(se,{size:16})})]}),e.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:t.medications.map((r,B)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg text-sm",children:[e.jsx("span",{children:r}),e.jsx("button",{type:"button",onClick:()=>L(r),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:e.jsx(A,{size:14})})]},B))})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"SEO Sozlamalari"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Meta sarlavha ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("input",{type:"text",value:w("meta_title"),onChange:r=>C("meta_title",r.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"SEO uchun sarlavha"}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[w("meta_title").length,"/60 belgi"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Meta tavsif ",f!=="uz"&&e.jsxs("span",{className:"theme-text-muted",children:["(",f.toUpperCase(),")"]})]}),e.jsx("textarea",{value:w("meta_description"),onChange:r=>C("meta_description",r.target.value),rows:2,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"SEO uchun qisqacha tavsif"}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[w("meta_description").length,"/160 belgi"]})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"published",checked:t.published,onChange:r=>l("published",r.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"published",className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"featured",checked:t.featured,onChange:r=>l("featured",r.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"featured",className:"text-sm font-medium theme-text-secondary",children:"Asosiy hikoya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tartib raqami"}),e.jsx("div",{className:"w-full px-3 py-2 theme-border border rounded-lg theme-bg theme-text text-sm",children:"Avtomatik belgilanadi"})]})]})]})]})},Ss=({postId:t,postTitle:c,onCommentsChange:l})=>{const{user:x}=ke(),[g,u]=m.useState([]),[h,o]=m.useState(!0),[i,b]=m.useState(!1),[p,s]=m.useState(!1),[y,f]=m.useState(null),[j,_]=m.useState({type:"",text:""}),[C,w]=m.useState({content:"",author_name:""});m.useEffect(()=>{d()},[t]);const d=async()=>{o(!0);try{console.log("ðŸ’¬ Loading comments for post ID:",t);const{data:r}=await Ve(t);r?(console.log("âœ… Comments loaded successfully:",r.length),u(r)):(console.log("âš ï¸ No comments data returned"),u([]))}catch(r){console.error("Error loading comments:",r),u([])}finally{o(!1)}},q=r=>{const{name:B,value:E}=r.target;w(M=>({...M,[B]:E})),j.text&&_({type:"",text:""})},n=()=>C.content.trim()?!x&&!C.author_name.trim()?(_({type:"error",text:"Ismingizni kiriting"}),!1):!0:(_({type:"error",text:"Kommentariya matni kiritilishi shart"}),!1),v=async r=>{if(r.preventDefault(),!!n()){b(!0),_({type:"",text:""});try{const B={post_id:t,content:C.content.trim(),author_name:x?void 0:C.author_name.trim(),parent_id:y||void 0},{data:E,error:M}=await Qt(B);M?_({type:"error",text:"Xatolik: "+M.message}):(_({type:"success",text:"Kommentariya muvaffaqiyatli qo'shildi va ko'rsatildi!"}),w({content:"",author_name:""}),s(!1),f(null),console.log("ðŸ”„ Reloading comments after successful creation..."),await d(),l?.())}catch{_({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{b(!1)}}},k=r=>{const B=new Date(r),M=(new Date().getTime()-B.getTime())/(1e3*60*60);return M<1?`${Math.floor(M*60)} daqiqa oldin`:M<24?`${Math.floor(M)} soat oldin`:B.toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"})},L=({comment:r,isReply:B=!1})=>e.jsx("div",{className:`${B?"ml-12 mt-4":""} animate-fade-in`,children:e.jsxs("div",{className:"theme-bg-secondary rounded-xl p-4 hover:theme-shadow-md transition-all duration-200",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[r.author?.avatar_url?e.jsx("img",{src:r.author.avatar_url,alt:r.author.full_name,className:"w-8 h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(Y,{size:16,className:"theme-accent"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:r.author?.full_name||r.author_name||"Anonim"}),r.author?.role==="doctor"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-bold",children:"Dr"}),r.author?.role==="admin"&&e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs rounded-full font-bold",children:"Admin"}),!r.author&&e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:"Anonim"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(re,{size:12}),e.jsx("span",{children:k(r.created_at)})]})]})]})}),e.jsx("div",{className:"mb-3",children:e.jsx("p",{className:"theme-text-secondary leading-relaxed",children:r.content})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:[e.jsx(Xe,{size:14}),e.jsx("span",{className:"text-xs",children:"Foydali"})]}),!B&&e.jsxs("button",{onClick:()=>f(r.id),className:"flex items-center space-x-1 text-gray-500 hover:text-green-600 dark:hover:text-green-400 transition-colors duration-200",children:[e.jsx(Vt,{size:14}),e.jsx("span",{className:"text-xs",children:"Javob berish"})]}),e.jsxs("button",{className:"flex items-center space-x-1 text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors duration-200",children:[e.jsx(Xt,{size:14}),e.jsx("span",{className:"text-xs",children:"Shikoyat"})]})]}),r.user_id===x?.id&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{className:"text-gray-500 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:e.jsx(we,{size:14})}),e.jsx("button",{className:"text-gray-500 hover:text-red-600 dark:hover:text-red-400 transition-colors duration-200",children:e.jsx(he,{size:14})})]})]}),y===r.id&&e.jsx("div",{className:"mt-4 p-4 theme-bg-tertiary rounded-lg animate-slide-down",children:e.jsx("form",{onSubmit:v,children:e.jsxs("div",{className:"space-y-3",children:[!x&&e.jsx("input",{type:"text",name:"author_name",value:C.author_name,onChange:q,placeholder:"Ismingiz",required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("textarea",{name:"content",value:C.content,onChange:q,placeholder:"Javobingizni yozing...",required:!0,rows:3,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none text-sm"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{type:"submit",disabled:i,className:"flex items-center space-x-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 text-sm",children:[e.jsx(He,{size:14}),e.jsx("span",{children:i?"Yuborilmoqda...":"Javob berish"})]}),e.jsx("button",{type:"button",onClick:()=>{f(null),w({content:"",author_name:""})},className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 px-4 py-2 rounded-lg transition-colors duration-200 text-sm",children:"Bekor qilish"})]})]})})}),r.replies&&r.replies.length>0&&e.jsx("div",{className:"mt-4",children:r.replies.map(E=>e.jsx(L,{comment:E,isReply:!0},E.id))})]})});return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("h3",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(W,{size:24,className:"theme-accent"}),e.jsxs("span",{children:["Kommentariyalar (",g.length,")"]})]}),e.jsxs("button",{onClick:()=>s(!p),className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(W,{size:16}),e.jsx("span",{children:"Kommentariya yozish"})]})]}),j.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${j.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[j.type==="success"?e.jsx(D,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(O,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:j.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:j.text})]}),p&&e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow-lg theme-border border p-6 mb-8 animate-slide-down",children:[e.jsx("h4",{className:"text-lg font-semibold theme-text mb-4",children:x?"Kommentariya qoldiring":"Anonim kommentariya"}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[!x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ismingiz *"}),e.jsx("input",{type:"text",name:"author_name",value:C.author_name,onChange:q,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Ismingizni kiriting"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kommentariya *"}),e.jsx("textarea",{name:"content",value:C.content,onChange:q,required:!0,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Fikringizni bildiring..."}),e.jsxs("div",{className:"text-xs theme-text-muted mt-1",children:[C.content.length,"/500 belgi"]})]}),!x&&e.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-yellow-800 dark:text-yellow-200",children:[e.jsx(ie,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Anonim kommentariyalar admin tasdiqlashidan so'ng ko'rsatiladi"})]})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{type:"submit",disabled:i,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(He,{size:16}),e.jsx("span",{children:i?"Yuborilmoqda...":"Yuborish"})]}),e.jsx("button",{type:"button",onClick:()=>{s(!1),w({content:"",author_name:""}),_({type:"",text:""})},className:"theme-border border theme-text-secondary px-6 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"})]})]})]}),h?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kommentariyalar yuklanmoqda..."})]}):g.length>0?e.jsx("div",{className:"space-y-6",children:g.map(r=>e.jsx(L,{comment:r},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(W,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h4",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha kommentariyalar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Birinchi bo'lib fikringizni bildiring!"}),e.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(W,{size:16}),e.jsx("span",{children:"Birinchi kommentariya"})]})]}),e.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-blue-800 dark:text-blue-200",children:[e.jsx(G,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Kommentariyalar darhol ko'rsatiladi. Nomaqbul kommentariyalar admin tomonidan keyinchalik o'chirilishi mumkin."})]})})]})},as=()=>{const{user:t}=ke(),{notifications:c,unreadCount:l,markAsRead:x}=Wt(),[g,u]=m.useState(!1);if(!t)return null;const h=c.slice(0,5),o=s=>{switch(s){case"success":return"âœ…";case"warning":return"âš ï¸";case"error":return"âŒ";default:return"ðŸ“¢"}},i=s=>{switch(s){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/20";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/20";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/20";default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/20"}},b=s=>{const y=new Date(s),j=(new Date().getTime()-y.getTime())/(1e3*60*60);return j<1?"Hozir":j<24?`${Math.floor(j)} soat oldin`:y.toLocaleDateString("uz-UZ",{month:"short",day:"numeric"})},p=s=>{s.read_by.includes(t.id)||x(s.id)};return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>u(!g),className:"relative p-2 theme-text-secondary hover:theme-accent transition-all duration-300 rounded-lg hover:theme-bg-tertiary",children:[e.jsx(Se,{size:20}),l>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center animate-pulse",children:l>9?"9+":l})]}),g&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>u(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-xl shadow-xl theme-border border py-2 z-50 max-h-96 overflow-hidden",style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold theme-text",children:"Bildirishnomalar"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l>0&&e.jsxs("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 text-xs font-medium rounded-full",children:[l," yangi"]}),e.jsx("button",{onClick:()=>u(!1),className:"theme-text-muted hover:theme-accent",children:e.jsx(A,{size:16})})]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:h.length>0?e.jsx("div",{className:"py-2",children:h.map(s=>{const y=!s.read_by.includes(t.id);return e.jsx("div",{onClick:()=>p(s),className:`px-4 py-3 hover:theme-bg-tertiary transition-colors duration-200 cursor-pointer border-l-4 ${i(s.type)} ${y?"bg-opacity-100":"bg-opacity-50"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"text-lg flex-shrink-0 mt-1",children:o(s.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:`text-sm font-medium ${y?"theme-text":"theme-text-secondary"} truncate`,children:s.title}),y&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full flex-shrink-0 ml-2"})]}),e.jsx("p",{className:"text-xs theme-text-secondary line-clamp-2 mb-2",children:s.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(re,{size:12}),e.jsx("span",{children:b(s.sent_at)})]}),s.post&&e.jsxs($,{to:`/posts/${s.post.slug}`,className:"flex items-center space-x-1 text-xs theme-accent hover:text-blue-800 dark:hover:text-blue-300",onClick:f=>f.stopPropagation(),children:[e.jsx(xe,{size:12}),e.jsx("span",{children:"Ko'rish"})]})]})]})]})},s.id)})}):e.jsxs("div",{className:"px-4 py-8 text-center",children:[e.jsx(Se,{size:32,className:"theme-text-muted mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"theme-text-secondary text-sm",children:"Bildirishnomalar yo'q"})]})}),e.jsx("div",{className:"px-4 py-3 theme-border border-t",children:e.jsx($,{to:"/profile?tab=notifications",className:"block text-center text-sm theme-accent hover:text-blue-800 dark:hover:text-blue-300 font-medium",onClick:()=>u(!1),children:"Barcha bildirishnomalarni ko'rish"})})]})]})]})},rs=()=>{const[t,c]=m.useState(!1),[l,x]=m.useState(!1),g=m.useRef(null);m.useEffect(()=>{const _=C=>{g.current&&!g.current.contains(C.target)&&x(!1)};return l&&document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[l]);const{t:u,i18n:h}=I(),{user:o,session:i,signOut:b}=ke();o&&console.log({user_metadata:i?.user?.user_metadata,provider:i?.user?.app_metadata?.provider});const p=$e(),s=je(),y=i?.user?.app_metadata?.provider==="phone"?i?.user?.phone:o?.email,f=async()=>{await b(),p("/"),x(!1)},j=_=>{const C=h.language==="ru"||h.language==="en"?`/${h.language}${_}`:_;return s.pathname===C};return e.jsx("header",{className:"bg-white theme-shadow theme-border border-b sticky top-0 z-50",children:e.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs($,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 rounded-lg object-cover group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{className:"text-xl font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:"Revmohelp"})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-4",children:[e.jsx($,{to:"/",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("home")}),e.jsx($,{to:"/posts",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/posts")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("posts")}),e.jsx($,{to:"/doctors",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/doctors")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("doctors")}),e.jsx($,{to:"/patient-stories",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/patient-stories")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("patientStories")}),e.jsx($,{to:"/qa",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/qa")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("qa")}),e.jsx($,{to:"/about",className:`transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap ${j("/about")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,children:u("about")})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-3",children:[e.jsx(Be,{}),o&&e.jsx(as,{}),o?e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>x(!l),className:"p-2 rounded-lg hover:theme-bg-tertiary transition-all duration-300",children:o.avatar_url?e.jsx("img",{src:o.avatar_url,alt:o.full_name,className:"w-10 h-10 rounded-full object-cover border-2 border-[#A6BAB4]"}):e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#CAD8D6] to-[#B8C9C5] rounded-full flex items-center justify-center",children:e.jsx(Y,{size:16,className:"theme-accent"})})}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-52 bg-white rounded-xl shadow-xl theme-border border py-2",ref:g,style:{backgroundColor:"white",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"px-4 py-3 theme-border border-b",children:[e.jsx("div",{className:"text-sm font-semibold theme-text",children:o.full_name}),e.jsx("div",{className:"text-xs theme-text-muted",children:y})]}),e.jsxs($,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(Y,{size:16}),e.jsx("span",{children:"Profil"})]}),(o.role==="admin"||o.role==="moderator")&&e.jsxs(X,{to:"/admin",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(_e,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),o.role==="doctor"&&e.jsxs($,{to:"/doctor-dashboard",className:"flex items-center space-x-2 px-4 py-2 text-sm theme-text-secondary hover:theme-bg-tertiary hover:theme-accent transition-all duration-300",onClick:()=>x(!1),children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Shifokor Paneli"})]}),e.jsx("div",{className:"theme-border border-t my-2"}),e.jsxs("button",{onClick:f,className:"flex items-center space-x-2 w-full text-left px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-all duration-300",children:[e.jsx(qe,{size:16}),e.jsx("span",{children:u("logout")})]})]})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{to:"/login",className:"theme-text hover:theme-accent hover:theme-bg-tertiary transition-all duration-300 font-medium px-3 py-2 rounded-lg text-sm whitespace-nowrap",children:u("login")}),e.jsx($,{to:"/register",className:"text-white bg-[#62B6CB] px-3 py-2 rounded-lg transition-all duration-300 font-medium shadow-sm hover:opacity-90 text-sm whitespace-nowrap",children:u("register")})]})]}),e.jsxs("div",{className:"lg:hidden flex items-center space-x-2",children:[e.jsx(Be,{}),e.jsx("button",{onClick:()=>c(!t),className:"lg:hidden p-2 theme-text-secondary hover:theme-accent transition-all duration-300 rounded-lg hover:theme-bg-tertiary",children:t?e.jsx(A,{size:24}):e.jsx(Ie,{size:24})})]})]}),t&&e.jsx("div",{className:"lg:hidden py-4 theme-border border-t",children:e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx($,{to:"/",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("home")}),e.jsx($,{to:"/posts",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/posts")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("posts")}),e.jsx($,{to:"/doctors",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/doctors")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("doctors")}),e.jsx($,{to:"/patient-stories",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/patient-stories")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("patientStories")}),e.jsx($,{to:"/qa",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/qa")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("qa")}),e.jsx($,{to:"/about",className:`transition-all duration-300 font-medium py-2 px-3 rounded-lg text-sm whitespace-nowrap ${j("/about")?"text-white bg-[#62B6CB]":"text-[#1B4965] hover:text-[#62B6CB] hover:bg-[#BEE9E8]"}`,onClick:()=>c(!1),children:u("about")}),o?e.jsxs("div",{className:"pt-3 theme-border border-t space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-3 py-2 px-3 theme-bg-tertiary rounded-lg",children:[o.avatar_url?e.jsx("img",{src:o.avatar_url,alt:o.full_name,className:"w-8 h-8 rounded-full object-cover border border-[#A6BAB4]"}):e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-[#CAD8D6] to-[#B8C9C5] rounded-full flex items-center justify-center",children:e.jsx(Y,{size:14,className:"theme-accent"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold theme-text",children:o.full_name}),e.jsx("div",{className:"text-xs theme-text-muted capitalize",children:o.role})]})]}),e.jsxs($,{to:"/profile",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>c(!1),children:[e.jsx(Y,{size:16}),e.jsx("span",{children:"Profil"})]}),(o.role==="admin"||o.role==="moderator")&&e.jsxs(X,{to:"/admin",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>c(!1),children:[e.jsx(_e,{size:16}),e.jsx("span",{children:"Admin Panel"})]}),o.role==="doctor"&&e.jsxs($,{to:"/doctor-dashboard",className:"flex items-center space-x-2 theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary",onClick:()=>c(!1),children:[e.jsx(F,{size:16}),e.jsx("span",{children:"Shifokor Paneli"})]}),e.jsxs("button",{onClick:()=>{f(),c(!1)},className:"text-red-600 hover:text-red-700 transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:bg-red-50 text-left w-full flex items-center space-x-2",children:[e.jsx(qe,{size:16}),e.jsx("span",{children:u("logout")})]})]}):e.jsxs("div",{className:"pt-3 theme-border border-t flex flex-col space-y-2",children:[e.jsx($,{to:"/login",className:"theme-text hover:theme-accent transition-all duration-300 font-medium py-2 px-3 rounded-lg hover:theme-bg-tertiary text-sm",onClick:()=>c(!1),children:u("login")}),e.jsx($,{to:"/register",className:"text-white bg-[#62B6CB] px-4 py-2 rounded-lg transition-all duration-300 font-medium text-center shadow-sm hover:opacity-90 text-sm",onClick:()=>c(!1),children:u("register")})]})]})})]})})},ls=()=>{const{t}=I(),c=new Date().getFullYear();return e.jsx("footer",{className:"theme-bg-secondary theme-border border-t",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs($,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-8 h-8 rounded-lg object-cover"}),e.jsx("span",{className:"text-lg font-bold theme-text",children:"Revmohelp"})]}),e.jsx("p",{className:"theme-text-secondary text-sm leading-relaxed",children:t("heroSubtitle")}),e.jsxs("div",{className:"space-y-2 text-sm theme-text-secondary",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ue,{size:14}),e.jsx("span",{children:"revmohelp@gmail.com"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{size:14}),e.jsx("span",{children:"+998 (93) 200 10 22"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Jt,{size:14}),e.jsx("span",{children:"Toshkent, O'zbekiston"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerQuickLinks")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("home")}),e.jsx($,{to:"/posts",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("posts")}),e.jsx($,{to:"/doctors",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("doctors")}),e.jsx($,{to:"/qa",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("qa")}),e.jsx($,{to:"/patient-stories",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("patientStories")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerLegal")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/privacy",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("privacyPolicy")}),e.jsx($,{to:"/data-security",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("dataSecurity")}),e.jsx($,{to:"/terms",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("termsOfUse")}),e.jsx($,{to:"/faq",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("faq")})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-semibold theme-text uppercase tracking-wider",children:t("footerContact")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx($,{to:"/about",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("aboutUs")}),e.jsx($,{to:"/contact",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("contact")}),e.jsx($,{to:"/partnership",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:t("partnership")}),e.jsx($,{to:"/consultation",className:"block theme-text-secondary hover:theme-accent transition-colors duration-200 text-sm",children:"A'zosi Bo'ling"})]})]})]}),e.jsxs("div",{className:"theme-border border-t mt-8 pt-6 flex flex-col sm:flex-row justify-between items-center",children:[e.jsxs("p",{className:"theme-text-muted text-sm",children:["Â© ",c," Revmohelp. ",t("allRightsReserved"),"."]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:t("developedBy")}),e.jsx("a",{href:"https://torexdev.uz/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 text-sm hover:text-blue-800 dark:hover:text-blue-300 transition-colors duration-200",children:"torexdev.uz"})]})]})]})})},ns=()=>e.jsxs("div",{className:"min-h-screen theme-bg flex flex-col",children:[e.jsx(rs,{}),e.jsx("main",{className:"flex-1",children:e.jsx(Qe,{})}),e.jsx(ls,{})]}),_s=Object.freeze(Object.defineProperty({__proto__:null,default:ns},Symbol.toStringTag,{value:"Module"}));export{cs as A,vs as C,zs as D,us as F,xs as H,hs as L,ks as P,ms as S,fs as U,Ns as a,ws as b,ss as c,Cs as d,bs as e,ps as f,js as g,ys as h,gs as i,$ as j,Ss as k,_s as l,Gt as u};
