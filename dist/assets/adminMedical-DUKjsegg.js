import{r,j as e,S as re,F as ve,V as je,I as ye,g as Ne,a as ke,P as K,C as le,A as ie,b as Z,c as me,d as ne,e as we,f as xe,h as _e,E as ue,T as he,i as Se,X as S,k as G,l as ze,m as Ce,u as qe,n as De,o as Te,p as Me,U as Pe,q as Ke,s as Le,t as Be,v as Ee}from"./adminCore-DQHRBU2b.js";import{D as Fe,c as Ie,d as ce}from"./shared-Dfycv5S2.js";const Re=()=>{const[d,I]=r.useState("profiles"),z=[{id:"profiles",label:"Shifokor Profillari",icon:re},{id:"legacy",label:"Eski Shifokorlar",icon:re}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Shifokorlar Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Shifokor profillarini tasdiqlash va boshqarish"})]}),e.jsx("div",{className:"theme-bg rounded-lg theme-shadow theme-border border",children:e.jsx("div",{className:"flex overflow-x-auto",children:z.map(v=>{const w=v.icon;return e.jsxs("button",{onClick:()=>I(v.id),className:`flex items-center space-x-2 px-6 py-4 font-semibold transition-colors duration-200 whitespace-nowrap border-b-2 ${d===v.id?"theme-accent border-blue-600 bg-blue-50 dark:bg-blue-900/20":"theme-text-secondary hover:theme-accent border-transparent hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx(w,{size:18}),e.jsx("span",{children:v.label})]},v.id)})})}),e.jsxs("div",{className:"mt-6",children:[d==="profiles"&&e.jsx(Fe,{}),d==="legacy"&&e.jsx(Ie,{})]})]})},Ve=Object.freeze(Object.defineProperty({__proto__:null,default:Re},Symbol.toStringTag,{value:"Module"})),$e=d=>{switch(d){case"image":return ye;case"video":return je;default:return ve}},Ue=d=>{switch(d){case"image":return"Rasm Hikoyasi";case"video":return"Video Hikoya";default:return"Matn Hikoyasi"}},Qe=d=>{switch(d){case"image":return"bg-teal-600";case"video":return"bg-red-600";default:return"bg-blue-600"}},Ae=()=>{const[d,I]=r.useState([]),[z,v]=r.useState([]),[w,O]=r.useState(!0),[j,ee]=r.useState(""),[R,Y]=r.useState("all"),[C,V]=r.useState("all"),[_,$]=r.useState(!1),[L,q]=r.useState(!1),[B,U]=r.useState(null),[p,n]=r.useState(!1),[Q,D]=r.useState(null),[u,c]=r.useState({type:"",text:""}),[a,b]=r.useState(null),[g,f]=r.useState({patient_name:"",age:25,diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:"",content_type:"text",symptoms:[],treatment_methods:[],medications:[],lifestyle_changes:"",rating:5,featured:!1,published:!1,order_index:0,meta_title:"",meta_description:""});r.useEffect(()=>{N()},[]);const N=async()=>{O(!0);try{const[s,m]=await Promise.all([Ne(),ke("uz",{active:!0,verified:!0})]);s.data&&I(s.data),m.data&&v(m.data)}catch{c({type:"error",text:"Ma'lumotlarni yuklashda xatolik"})}finally{O(!1)}},E=(s,m)=>{f(i=>({...i,[s]:m})),u.text&&c({type:"",text:""})},T=s=>{const m=s.target.files?.[0];if(m){if(m.size>5*1024*1024){c({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}f(o=>({...o,featured_image:m}));const i=new FileReader;i.onload=()=>b(i.result),i.readAsDataURL(m)}},F=()=>{f(s=>({...s,featured_image:void 0})),b(null)},M=()=>{f({patient_name:"",age:25,diagnosis:"",story_content:"",treatment_duration:"",outcome:"",doctor_name:"",content_type:"text",symptoms:[],treatment_methods:[],medications:[],lifestyle_changes:"",rating:5,featured:!1,published:!1,order_index:0,meta_title:"",meta_description:""}),U(null),b(null)},P=()=>{M(),$(!0)},h=s=>{const m=(s.translations||[]).reduce((i,o)=>((o.language==="ru"||o.language==="en")&&(i[o.language]={patient_name:o.patient_name||"",diagnosis:o.diagnosis||"",story_content:o.story_content||"",treatment_duration:o.treatment_duration||"",outcome:o.outcome||"",doctor_name:o.doctor_name||"",symptoms:o.symptoms||s.symptoms||[],treatment_methods:o.treatment_methods||s.treatment_methods||[],medications:o.medications||s.medications||[],lifestyle_changes:o.lifestyle_changes||s.lifestyle_changes||"",meta_title:o.meta_title||"",meta_description:o.meta_description||""}),i),{});f({patient_name:s.patient_name,age:s.age,diagnosis:s.diagnosis,story_content:s.story_content,treatment_duration:s.treatment_duration,outcome:s.outcome,doctor_name:s.doctor_name,content_type:s.content_type,youtube_url:s.youtube_url,symptoms:s.symptoms||[],treatment_methods:s.treatment_methods||[],medications:s.medications||[],lifestyle_changes:s.lifestyle_changes||"",rating:s.rating||5,featured:s.featured||!1,published:s.published||!1,order_index:s.order_index||0,meta_title:s.meta_title||"",meta_description:s.meta_description||"",translations:m}),s.featured_image_url&&b(s.featured_image_url),U(s),q(!0)},y=()=>{$(!1),q(!1),M(),c({type:"",text:""})},H=()=>g.patient_name.trim()?g.diagnosis.trim()?g.story_content.trim()?g.doctor_name.trim()?g.content_type==="video"&&!g.youtube_url?(c({type:"error",text:"Video turi uchun YouTube URL kiritilishi shart"}),!1):!0:(c({type:"error",text:"Shifokor tanlanishi shart"}),!1):(c({type:"error",text:"Hikoya matni kiritilishi shart"}),!1):(c({type:"error",text:"Tashxis kiritilishi shart"}),!1):(c({type:"error",text:"Bemor ismi kiritilishi shart"}),!1),te=async s=>{if(s.preventDefault(),!!H()){n(!0),c({type:"",text:""});try{const m=d.length>0?Math.max(...d.map(k=>typeof k.order_index=="number"?k.order_index:0))+1:1,i={...g,order_index:m},{data:o,error:J}=await Ce(i);J?c({type:"error",text:"Xatolik: "+J.message}):(c({type:"success",text:"Bemor tarixi muvaffaqiyatli yaratildi!"}),await N(),setTimeout(()=>{y()},1500))}catch{c({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{n(!1)}}},W=async s=>{if(s.preventDefault(),!(!B||!H())){n(!0),c({type:"",text:""});try{const{data:m,error:i}=await qe({id:B.id,...g});i?c({type:"error",text:"Xatolik: "+i.message}):(c({type:"success",text:"Bemor tarixi muvaffaqiyatli yangilandi!"}),await N(),setTimeout(()=>{y()},1500))}catch{c({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{n(!1)}}},se=async(s,m)=>{if(confirm(`${m}ning tarixini o'chirishni xohlaysizmi?`)){D(s),c({type:"",text:""});try{const{error:i}=await ze(s);i?c({type:"error",text:i.message}):(c({type:"success",text:"Bemor tarixi muvaffaqiyatli o'chirildi!"}),await N())}catch{c({type:"error",text:"Xatolik yuz berdi"})}finally{D(null)}}},A=d.filter(s=>{const m=s.patient_name.toLowerCase().includes(j.toLowerCase())||s.diagnosis.toLowerCase().includes(j.toLowerCase())||s.doctor_name.toLowerCase().includes(j.toLowerCase()),i=R==="all"||s.content_type===R,o=C==="all"||C==="published"&&s.published||C==="draft"&&!s.published||C==="featured"&&s.featured;return m&&i&&o}),ae=s=>new Date(s).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return w?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Bemorlar tarixi yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Bemorlar Tarixi Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Bemor hikoyalarini yaratish va boshqarish"})]}),e.jsxs("button",{onClick:P,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(K,{size:20}),e.jsx("span",{children:"Yangi Hikoya"})]})]}),u.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${u.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[u.type==="success"?e.jsx(le,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(ie,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:u.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:u.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:d.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami hikoyalar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(s=>s.published).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Nashr etilgan"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.filter(s=>s.featured).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Asosiy"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.filter(s=>s.content_type==="video").length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Video"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.filter(s=>s.content_type==="image").length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Rasm"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Bemorlar tarixini qidiring...",value:j,onChange:s=>ee(s.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:R,onChange:s=>Y(s.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha turlar"}),e.jsx("option",{value:"text",children:"Matn"}),e.jsx("option",{value:"image",children:"Rasm"}),e.jsx("option",{value:"video",children:"Video"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:C,onChange:s=>V(s.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha holatlar"}),e.jsx("option",{value:"published",children:"Nashr etilgan"}),e.jsx("option",{value:"draft",children:"Qoralama"}),e.jsx("option",{value:"featured",children:"Asosiy"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(s=>{const m=$e(s.content_type);return e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[s.featured_image_url?e.jsx("img",{src:s.featured_image_url,alt:s.patient_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):s.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${s.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:s.patient_name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:i=>{const o=i.target;o.src=`https://img.youtube.com/vi/${s.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center group-hover:bg-opacity-50 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse group-hover:scale-110 transition-transform duration-300",children:e.jsx(me,{size:24,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center group-hover:theme-bg-quaternary transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(m,{size:48,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),e.jsx("p",{className:"theme-text-muted text-sm font-medium",children:"Matn Hikoyasi"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${Qe(s.content_type)}`,children:Ue(s.content_type)}),e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${s.published?"bg-green-500 text-white":"bg-yellow-500 text-white"}`,children:s.published?"Nashr etilgan":"Qoralama"}),s.featured&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(ne,{size:12}),e.jsx("span",{children:"Asosiy"})]})]}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsx("div",{className:"flex items-center space-x-1 bg-white/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[1,2,3,4,5].map(i=>e.jsx(ne,{size:12,className:`${i<=(s.rating||5)?"text-yellow-500 fill-current":"text-gray-300"}`},i))})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:s.patient_name}),e.jsxs("span",{className:"text-sm theme-text-muted",children:[s.age," yosh"]})]}),e.jsx("p",{className:"text-red-600 dark:text-red-400 font-semibold text-sm mb-3",children:s.diagnosis}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:s.story_content}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(we,{size:14}),e.jsx("span",{className:"truncate max-w-20",children:s.treatment_duration})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(re,{size:14}),e.jsx("span",{className:"truncate max-w-24",children:s.doctor_name})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(xe,{size:14}),e.jsx("span",{children:ae(s.created_at)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs theme-text-muted mb-4 p-3 theme-bg-secondary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[s.symptoms?.length||0," belgi"]}),e.jsxs("span",{children:[s.medications?.length||0," dori"]}),e.jsxs("span",{children:[s.treatment_methods?.length||0," usul"]})]}),e.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Muvaffaqiyatli"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>h(s),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(_e,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsxs("a",{href:`/patient-stories/${s.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 transition-all duration-200 transform hover:scale-105",title:"Ko'rish",children:[e.jsx(ue,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Ko'rish"})]}),e.jsx("button",{onClick:()=>se(s.id,s.patient_name),disabled:Q===s.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:Q===s.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(Se,{size:12}),e.jsxs("span",{children:[s.rating,"/5"]})]})]})]})]},s.id)})}),A.length===0&&!w&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(Z,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Bemor tarixi topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi hikoya yarating"}),e.jsxs("button",{onClick:P,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(K,{size:20}),e.jsx("span",{children:"Birinchi hikoyani yaratish"})]})]}),_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Bemor Tarixi"}),e.jsx("button",{onClick:y,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(S,{size:20})})]}),e.jsxs("form",{onSubmit:te,children:[e.jsx(ce,{formData:g,doctors:z,onInputChange:E,onFormDataChange:f,imagePreview:a,onImageUpload:T,onRemoveImage:F}),e.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t theme-border",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(G,{size:18}),e.jsx("span",{children:p?"Yaratilmoqda...":"Yaratish"})]})]})]})]})}),L&&B&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Bemor Tarixini Tahrirlash"}),e.jsx("button",{onClick:y,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(S,{size:20})})]}),e.jsxs("form",{onSubmit:W,children:[e.jsx(ce,{formData:g,doctors:z,onInputChange:E,onFormDataChange:f,imagePreview:a,onImageUpload:T,onRemoveImage:F}),e.jsxs("div",{className:"flex space-x-3 pt-6 mt-6 border-t theme-border",children:[e.jsx("button",{type:"button",onClick:y,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:p,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(G,{size:18}),e.jsx("span",{children:p?"Saqlanmoqda...":"Saqlash"})]})]})]})]})})]})},He=Object.freeze(Object.defineProperty({__proto__:null,default:Ae},Symbol.toStringTag,{value:"Module"})),Xe=()=>{const[d,I]=r.useState([]),[z,v]=r.useState(!0),[w,O]=r.useState(""),[j,ee]=r.useState("all"),[R,Y]=r.useState(!1),[C,V]=r.useState(!1),[_,$]=r.useState(null),[L,q]=r.useState(!1),[B,U]=r.useState(null),[p,n]=r.useState({type:"",text:""}),[Q,D]=r.useState(null),[u,c]=r.useState("uz"),[a,b]=r.useState({name:"",slug:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],youtube_url:"",meta_title:"",meta_description:"",active:!0,featured:!1,order_index:0,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),[g,f]=r.useState(""),[N,E]=r.useState(""),[T,F]=r.useState(""),M=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}];r.useEffect(()=>{P()},[]);const P=async()=>{v(!0);try{const{data:t}=await De();t&&I(t)}catch{n({type:"error",text:"Kasalliklarni yuklashda xatolik"})}finally{v(!1)}},h=(t,l)=>{b(x=>({...x,[t]:l})),p.text&&n({type:"",text:""})},y=t=>{const{name:l,value:x}=t.target;b(X=>({...X,translations:{...X.translations,[u]:{...X.translations[u],[l]:x}}}))},H=t=>{const l=t.target.files?.[0];if(l){if(l.size>5*1024*1024){n({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}b(X=>({...X,featured_image:l}));const x=new FileReader;x.onload=()=>D(x.result),x.readAsDataURL(l)}},te=()=>{b(t=>({...t,featured_image:void 0})),D(null)};r.useEffect(()=>{if(a.name&&!_){const t=a.name.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();b(l=>({...l,slug:t}))}},[a.name,_]);const W=()=>{g.trim()&&!a.symptoms.includes(g.trim())&&(h("symptoms",[...a.symptoms,g.trim()]),f(""))},se=t=>{h("symptoms",a.symptoms.filter(l=>l!==t))},A=()=>{N.trim()&&!a.treatment_methods.includes(N.trim())&&(h("treatment_methods",[...a.treatment_methods,N.trim()]),E(""))},ae=t=>{h("treatment_methods",a.treatment_methods.filter(l=>l!==t))},s=()=>{T.trim()&&!a.prevention_tips.includes(T.trim())&&(h("prevention_tips",[...a.prevention_tips,T.trim()]),F(""))},m=t=>{h("prevention_tips",a.prevention_tips.filter(l=>l!==t))},i=()=>{b({name:"",slug:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],youtube_url:"",meta_title:"",meta_description:"",active:!0,featured:!1,order_index:0,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),$(null),D(null),c("uz"),f(""),E(""),F("")},o=()=>{i(),Y(!0)},J=t=>{b({name:t.name,slug:t.slug,description:t.description,symptoms:t.symptoms||[],treatment_methods:t.treatment_methods||[],prevention_tips:t.prevention_tips||[],youtube_url:t.youtube_url||"",meta_title:t.meta_title||"",meta_description:t.meta_description||"",active:t.active,featured:t.featured,order_index:t.order_index,translations:{ru:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""},en:{name:"",description:"",symptoms:[],treatment_methods:[],prevention_tips:[],meta_title:"",meta_description:"",slug:""}}}),t.featured_image_url&&D(t.featured_image_url),$(t),V(!0)},k=()=>{Y(!1),V(!1),i(),n({type:"",text:""})},oe=async()=>{if(!a.name.trim())return n({type:"error",text:"Kasallik nomi kiritilishi shart"}),!1;if(!a.description.trim())return n({type:"error",text:"Tavsif kiritilishi shart"}),!1;if(a.symptoms.length===0)return n({type:"error",text:"Kamida bitta belgi kiritilishi shart"}),!1;const{isUnique:t}=await Ee(a.slug,"uz",_?.id);return t?!0:(n({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa nom yozing yoki URL ni o'zgartiring."}),!1)},pe=async t=>{if(t.preventDefault(),!!await oe()){q(!0),n({type:"",text:""});try{const{data:l,error:x}=await Le(a);x?n({type:"error",text:"Xatolik: "+x.message}):(n({type:"success",text:"Kasallik muvaffaqiyatli yaratildi!"}),await P(),setTimeout(()=>{k()},1500))}catch{n({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{q(!1)}}},ge=async t=>{if(t.preventDefault(),!(!_||!await oe())){q(!0),n({type:"",text:""});try{const{data:l,error:x}=await Be({id:_.id,...a});x?n({type:"error",text:"Xatolik: "+x.message}):(n({type:"success",text:"Kasallik muvaffaqiyatli yangilandi!"}),await P(),setTimeout(()=>{k()},1500))}catch{n({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{q(!1)}}},be=async(t,l)=>{if(confirm(`${l} kasalligini o'chirishni xohlaysizmi?`)){U(t),n({type:"",text:""});try{const{error:x}=await Ke(t);x?n({type:"error",text:x.message}):(n({type:"success",text:"Kasallik muvaffaqiyatli o'chirildi!"}),await P())}catch{n({type:"error",text:"Xatolik yuz berdi"})}finally{U(null)}}},de=d.filter(t=>{const l=t.name.toLowerCase().includes(w.toLowerCase())||t.description.toLowerCase().includes(w.toLowerCase()),x=j==="all"||j==="active"&&t.active||j==="inactive"&&!t.active||j==="featured"&&t.featured;return l&&x}),fe=t=>new Date(t).toLocaleDateString("uz-UZ",{year:"numeric",month:"short",day:"numeric"});return z?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kasalliklar yuklanmoqda..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:"Kasalliklar Boshqaruvi"}),e.jsx("p",{className:"theme-text-secondary",children:"Revmatik kasalliklar ma'lumotlarini boshqarish"})]}),e.jsxs("button",{onClick:o,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(K,{size:20}),e.jsx("span",{children:"Yangi Kasallik"})]})]}),p.text&&e.jsxs("div",{className:`p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${p.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[p.type==="success"?e.jsx(le,{size:20,className:"text-green-600 dark:text-green-400"}):e.jsx(ie,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:p.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300",children:p.text})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold theme-text",children:d.length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Jami kasalliklar"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.filter(t=>t.active).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:d.filter(t=>t.featured).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Asosiy"})]}),e.jsxs("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.filter(t=>t.youtube_url).length}),e.jsx("div",{className:"text-sm theme-text-secondary",children:"Video bilan"})]})]}),e.jsx("div",{className:"theme-bg rounded-xl theme-shadow theme-border border p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{type:"text",placeholder:"Kasalliklarni qidiring...",value:w,onChange:t=>O(t.target.value),className:"w-full pl-10 pr-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})}),e.jsx("div",{className:"lg:w-48",children:e.jsxs("select",{value:j,onChange:t=>ee(t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"all",children:"Barcha holatlar"}),e.jsx("option",{value:"active",children:"Faol"}),e.jsx("option",{value:"inactive",children:"Faol emas"}),e.jsx("option",{value:"featured",children:"Asosiy kasalliklar"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:de.map(t=>e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg hover:theme-shadow-xl transition-all duration-300 transform hover:-translate-y-2 theme-border border overflow-hidden group",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[t.featured_image_url?e.jsx("img",{src:t.featured_image_url,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):t.youtube_url?e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("img",{src:`https://img.youtube.com/vi/${t.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:t.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",onError:l=>{const x=l.target;x.src=`https://img.youtube.com/vi/${t.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center group-hover:bg-opacity-50 transition-all duration-300",children:e.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center shadow-xl animate-pulse group-hover:scale-110 transition-transform duration-300",children:e.jsx(me,{size:24,className:"text-white ml-1"})})})]}):e.jsx("div",{className:"w-full h-full theme-bg-tertiary flex items-center justify-center group-hover:theme-bg-quaternary transition-colors duration-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Te,{size:48,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300"}),e.jsx("p",{className:"theme-text-muted text-sm font-medium",children:"Kasallik Ma'lumotlari"})]})}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:`px-3 py-1 text-xs font-semibold rounded-full ${t.active?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:t.active?"Faol":"Faol emas"}),t.featured&&e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-yellow-500 text-white rounded-full flex items-center space-x-1",children:[e.jsx(ne,{size:12}),e.jsx("span",{children:"Asosiy"})]})]}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsxs("span",{className:"px-3 py-1 text-xs font-semibold bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:["#",t.order_index]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300",children:t.name}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:t.description}),e.jsx("div",{className:"flex items-center justify-between text-xs theme-text-muted mb-4 p-3 theme-bg-secondary rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("span",{children:[t.symptoms?.length||0," belgi"]}),e.jsxs("span",{children:[t.treatment_methods?.length||0," usul"]}),e.jsxs("span",{children:[t.prevention_tips?.length||0," maslahat"]})]})}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>J(t),className:"flex items-center space-x-1 theme-accent hover:text-blue-800 dark:hover:text-blue-300 p-2 rounded-lg hover:bg-blue-50 dark:hover:bg-blue-900 transition-all duration-200 transform hover:scale-105",title:"Tahrirlash",children:[e.jsx(Me,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Tahrirlash"})]}),e.jsxs("a",{href:`/diseases/${t.slug}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-1 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300 p-2 rounded-lg hover:bg-green-50 dark:hover:bg-green-900 transition-all duration-200 transform hover:scale-105",title:"Ko'rish",children:[e.jsx(ue,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"Ko'rish"})]}),e.jsx("button",{onClick:()=>be(t.id,t.name),disabled:B===t.id,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900 transition-all duration-200 transform hover:scale-105 disabled:opacity-50 disabled:transform-none",title:"O'chirish",children:B===t.id?e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"}):e.jsxs(e.Fragment,{children:[e.jsx(he,{size:16}),e.jsx("span",{className:"text-xs font-medium hidden sm:inline",children:"O'chirish"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-1 text-xs theme-text-muted",children:[e.jsx(xe,{size:12}),e.jsx("span",{children:fe(t.created_at)})]})]})]})]},t.id))}),de.length===0&&!z&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(Z,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:"Kasallik topilmadi"}),e.jsx("p",{className:"theme-text-muted mb-6",children:"Qidiruv so'zini o'zgartiring yoki yangi kasallik qo'shing"}),e.jsxs("button",{onClick:o,className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(K,{size:20}),e.jsx("span",{children:"Birinchi kasallikni qo'shish"})]})]}),R&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Yangi Kasallik Qo'shish"}),e.jsx("button",{onClick:k,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(S,{size:20})})]}),e.jsxs("form",{onSubmit:pe,className:"space-y-6",children:[p.text&&e.jsxs("div",{className:`p-3 rounded-lg flex items-center space-x-2 ${p.type==="success"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[p.type==="success"?e.jsx(le,{size:16,className:"text-green-600 dark:text-green-400"}):e.jsx(ie,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:`text-sm ${p.type==="success"?"text-green-700 dark:text-green-300":"text-red-700 dark:text-red-300"}`,children:p.text})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold theme-text",children:"Kasallik Ma'lumotlari"}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:M.map(t=>e.jsxs("button",{type:"button",onClick:()=>c(t.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${u===t.code?"bg-white dark:bg-gray-700 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:t.flag}),e.jsx("span",{children:t.label})]},t.code))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Kasallik nomi (",M.find(t=>t.code===u)?.label,") *"]}),u==="uz"?e.jsx("input",{type:"text",value:a.name,onChange:t=>h("name",t.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Kasallik nomi"}):e.jsx("input",{type:"text",name:"name",value:a.translations?.[u]?.name||"",onChange:y,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Kasallik nomi"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["URL Slug (",M.find(t=>t.code===u)?.label,") *"]}),u==="uz"?e.jsx("input",{type:"text",value:a.slug,onChange:t=>h("slug",t.target.value),required:!0,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"url-slug"}):e.jsx("input",{type:"text",name:"slug",value:a.translations?.[u]?.slug||"",onChange:y,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"url-slug"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:["Tavsif (",M.find(t=>t.code===u)?.label,") *"]}),u==="uz"?e.jsx("textarea",{value:a.description,onChange:t=>h("description",t.target.value),required:!0,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Kasallik haqida batafsil ma'lumot"}):e.jsx("textarea",{name:"description",value:a.translations?.[u]?.description||"",onChange:y,rows:4,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Kasallik haqida batafsil ma'lumot"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kasallik rasmi"}),Q?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:Q,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:te,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(S,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-32 border-2 theme-border border-dashed rounded-lg cursor-pointer theme-bg-tertiary hover:theme-bg-quaternary transition-colors duration-200",children:[e.jsx(Pe,{className:"w-6 h-6 mb-2 theme-text-muted"}),e.jsx("p",{className:"text-xs theme-text-secondary",children:"Rasm yuklash"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:H})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:a.youtube_url||"",onChange:t=>h("youtube_url",t.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Kasallik Belgilari"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Yangi belgi",value:g,onChange:t=>f(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),W()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:W,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(K,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.symptoms.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>se(t),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300",children:e.jsx(S,{size:14})})]},l))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Davolash Usullari"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Davolash usuli",value:N,onChange:t=>E(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),A()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:A,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(K,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.treatment_methods.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>ae(t),className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:e.jsx(S,{size:14})})]},l))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Profilaktika"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Profilaktika maslahati",value:T,onChange:t=>F(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),s()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text text-sm"}),e.jsx("button",{type:"button",onClick:s,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(K,{size:16})})]}),e.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.prevention_tips.map((t,l)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded-lg text-sm",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>m(t),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",children:e.jsx(S,{size:14})})]},l))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta sarlavha"}),e.jsx("input",{type:"text",value:a.meta_title||"",onChange:t=>h("meta_title",t.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"SEO uchun sarlavha"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta tavsif"}),e.jsx("textarea",{value:a.meta_description||"",onChange:t=>h("meta_description",t.target.value),rows:2,className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"SEO uchun qisqacha tavsif"})]})]}),e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.active,onChange:t=>h("active",t.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Faol"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.featured,onChange:t=>h("featured",t.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Asosiy kasallik"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tartib raqami"}),e.jsx("input",{type:"number",value:a.order_index,onChange:t=>h("order_index",parseInt(t.target.value)||0),min:"0",className:"w-20 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]})]}),e.jsxs("div",{className:"flex space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:k,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:L,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(G,{size:18}),e.jsx("span",{children:L?"Yaratilmoqda...":"Yaratish"})]})]})]})]})}),C&&_&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8 max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold theme-text",children:"Kasallikni Tahrirlash"}),e.jsx("button",{onClick:k,className:"theme-text-secondary hover:theme-text p-1 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(S,{size:20})})]}),e.jsx("form",{onSubmit:ge,children:e.jsxs("div",{className:"flex space-x-3 pt-6",children:[e.jsx("button",{type:"button",onClick:k,className:"flex-1 theme-border border theme-text-secondary px-4 py-3 rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:L,className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center justify-center space-x-2",children:[e.jsx(G,{size:18}),e.jsx("span",{children:L?"Saqlanmoqda...":"Saqlash"})]})]})})]})})]})},We=Object.freeze(Object.defineProperty({__proto__:null,default:Xe},Symbol.toStringTag,{value:"Module"}));export{Ve as D,He as P,Qe as a,Ue as b,We as c,$e as g};
