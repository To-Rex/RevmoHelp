import{c as y,r as i,h as N,j as e,L as q}from"./index-DtX8_sFx.js";import{S as H}from"./SEOHead-BFTKnFen.js";import{g as K,a as G}from"./doctorReviews-JYYgorqE.js";import{A as p}from"./award-BWYevWPD.js";import{C as I}from"./clock-DjrY6wvX.js";import{V as J}from"./video-DaUJ8yD-.js";import{S as w}from"./search-gyIQzUfr.js";import{F as k}from"./filter-biRJLa_V.js";import{S}from"./star-rzFEx4RB.js";import{A as Q}from"./arrow-right-B_FWij5W.js";import{C as U}from"./calendar-eaebxh4X.js";import{P as W}from"./phone-gbjZxSNE.js";const ce=()=>{const{t:s}=y(),{i18n:t}=y(),C=a=>{switch(t.language){case"ru":return`${a} Ð»ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°`;case"en":return`${a} years experience`;default:return`${a} yil tajriba`}},z=a=>{switch(t.language){case"ru":return`${a} Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²`;case"en":return`${a} reviews`;default:return`${a} sharh`}},E=t.language==="ru"?"Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹:":t.language==="en"?"Certificates:":"Sertifikatlar:",L=t.language==="ru"?"ÐµÑ‰Ñ‘":t.language==="en"?"more":"ko'proq",R=t.language==="ru"?"Ð¢ÐµÐ»ÐµÑ„Ð¾Ð½ Ð½Ðµ ÑƒÐºÐ°Ð·Ð°Ð½":t.language==="en"?"Phone not provided":"Telefon kiritilmagan",D=t.language==="ru"?"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ":t.language==="en"?"View profile":"Profil ko'rish",[c,g]=i.useState([]),[B,u]=i.useState(!0),[d,_]=i.useState(""),[h,F]=i.useState("all"),[o,P]=i.useState("all"),[f,b]=i.useState({}),[m,$]=i.useState(12),[v,j]=i.useState(!1);i.useEffect(()=>{M(),b({})},[t.language,m]);const M=async()=>{u(!0);try{console.log("ðŸ” Loading doctors for public site...");const{data:a,error:r}=await N(t.language,{allowMock:!1,limit:m,verified:!0});a?(console.log("âœ… Doctors loaded for public site:",a.length),g(a),u(!1),Promise.all(a.map(async l=>{try{const[n,V]=await Promise.all([K(l.id),G(l.id,{approved:!0})]);return[l.id,{averageRating:n.averageRating,totalReviews:V.data?.length||0}]}catch(n){return console.error(`Error loading data for doctor ${l.id}:`,n),[l.id,{averageRating:4.9,totalReviews:0}]}})).then(l=>{b(Object.fromEntries(l))})):r&&console.log("âŒ Error loading doctors:",r)}catch(a){console.error("Error loading doctors:",a)}finally{u(!1)}},A=[{value:"all",label:s("allSpecialties"),count:c.length},{value:"revmatologiya",label:"Revmatologiya",count:2},{value:"ortopediya",label:"Ortopediya",count:1},{value:"reabilitatsiya",label:"Reabilitatsiya",count:1},{value:"kardiologiya",label:"Kardiologiya",count:1},{value:"nevrologiya",label:"Nevrologiya",count:1}],T=[{value:"all",label:s("allExperience"),count:c.length},{value:"5-10",label:"5-10 "+s("yearsExperience"),count:2},{value:"10-15",label:"10-15 "+s("yearsExperience"),count:3},{value:"15+",label:"15+ "+s("yearsExperience"),count:1}],x=c.filter(a=>{const r=a.full_name.toLowerCase().includes(d.toLowerCase())||a.specialization.toLowerCase().includes(d.toLowerCase())||a.bio&&a.bio.toLowerCase().includes(d.toLowerCase()),l=h==="all"||a.specialization.toLowerCase().includes(h),n=o==="all"||o==="5-10"&&a.experience_years>=5&&a.experience_years<=10||o==="10-15"&&a.experience_years>=10&&a.experience_years<=15||o==="15+"&&a.experience_years>=15;return r&&l&&n}),O=async()=>{j(!0);try{const a=m+12;$(a);const{data:r}=await N(t.language,{allowMock:!1,limit:a,verified:!0});r&&g(r)}finally{j(!1)}};return B?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})}):e.jsxs("div",{className:"theme-bg min-h-screen",children:[e.jsx(H,{title:"Shifokorlar",description:"Revmatik kasalliklar bo'yicha tajribali shifokorlar. Professional maslahat va davolash xizmatlari.",keywords:"shifokor, revmatolog, ortoped, kardiolog, nevropatolog, tibbiy maslahat",url:"https://revmohelp.uz/doctors"}),e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsxs("section",{className:"relative py-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-teal-600/10 dark:from-blue-400/5 dark:to-teal-400/5"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(p,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-blue-800 text-sm font-medium",children:s("professionalMedicalTeam")})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold theme-text mb-6",children:s("doctorsTitle")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:s("doctorsSubtitle")}),e.jsxs("div",{className:"flex items-center justify-center space-x-8 text-sm theme-text-tertiary",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{size:16,className:"text-blue-600"}),e.jsx("span",{children:s("certifiedSpecialists")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(I,{size:16,className:"text-green-600"}),e.jsx("span",{children:s("consultation24_7")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(J,{size:16,className:"text-purple-600"}),e.jsx("span",{children:s("onlineConsultation")})]})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[e.jsx("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 mb-8 mt-8 animate-slide-up",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{style:{backgroundColor:"#ffffff"},type:"text",placeholder:s("searchDoctors"),value:d,onChange:a=>_(a.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 bg-white dark:bg-[#3E433B] theme-text"})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:h,onChange:a=>F(a.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:A.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(k,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:o,onChange:a=>P(a.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:T.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]})})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("p",{className:"theme-text-secondary",children:[e.jsx("span",{className:"font-semibold theme-text",children:x.length})," ",s("doctorsFound")]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:x.map((a,r)=>e.jsx(q,{to:`/doctors/${a.id}`,className:"group block h-full",style:{animationDelay:`${r*100}ms`},children:e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in h-full flex flex-col hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:a.avatar_url,alt:a.full_name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500 lazyload"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),a.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(p,{size:16})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(S,{size:14,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:"4.9"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"text-gray-900 font-semibold flex items-center space-x-2",children:[e.jsx(Q,{size:16}),e.jsx("span",{children:D})]})})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-200",children:a.full_name}),e.jsx("p",{className:"theme-accent font-semibold mb-2",children:a.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm leading-relaxed line-clamp-3",children:a.bio||(t.language==="ru"?"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð²Ñ€Ð°Ñ‡":t.language==="en"?"Professional doctor":"Professional shifokor")})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-secondary",children:[e.jsx(U,{size:14}),e.jsx("span",{children:C(a.experience_years)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(S,{size:14,className:"text-yellow-500"}),e.jsxs("span",{className:"theme-text-secondary",children:[f[a.id]?.averageRating?.toFixed(1)||"4.9"," (",z(f[a.id]?.totalReviews||0),")"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm theme-text-secondary",children:[e.jsx(W,{size:14}),e.jsx("span",{children:a.phone||R})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-2",children:E}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.certificates?.slice(0,2).map((l,n)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:l},n)),a.certificates&&a.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",a.certificates.length-2," ",L]})]})]})]})]})},a.id))}),x.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(w,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:s("noDoctorsFound")}),e.jsx("p",{className:"theme-text-muted",children:s("changeSearchOrFilters")})]}),x.length>0&&c.length>=m&&e.jsx("div",{className:"text-center mt-12",children:e.jsx("button",{onClick:O,disabled:v,className:"theme-bg border-2 border-blue-600 theme-accent px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-colors duration-200 transform hover:scale-105 disabled:opacity-60",children:s(v?"loading":"viewMoreDoctors")})})]})]})]})};export{ce as default};
