import{c as de,u as xe,d as me,r,j as e,L as he,U as pe,V as ue,C as ge,k as be,g as P,h as fe}from"./index-CaEN0LVA.js";import{S as ve}from"./SEOHead-Cja2CTz6.js";import{L as je}from"./LanguageAwareLink-vduotUdE.js";import{c as ye,g as _,a as we}from"./questions-DbNEHoHJ.js";import{g as Ne}from"./doctorReviews-BILXMe12.js";import{H as M}from"./help-circle-RrqbXqNN.js";import{P as ke}from"./plus-BjSJaAB3.js";import{M as $}from"./message-square-D14w5LNz.js";import{C as Se}from"./check-circle--lu5k8Gk.js";import{A as Ce}from"./award-Die_a-B1.js";import{T as Ae}from"./trending-up-C6DYNcxu.js";import{S as O}from"./search-miOCkwYH.js";import{F as H}from"./filter-DN_Mu1bg.js";import{C as qe}from"./calendar-CGUhxsTp.js";import{E as ze}from"./eye-Du4Ich3T.js";import{S as Qe}from"./star-DMreETf_.js";const Ze=()=>{const{t,i18n:d}=de(),U=xe(),{user:G}=me(),[x,I]=r.useState(""),[m,K]=r.useState("all"),[h,V]=r.useState("all"),[Te,De]=r.useState("questions"),[Le,N]=r.useState(!0),[J,i]=r.useState(!1),[k,S]=r.useState(!1),[f,C]=r.useState(""),[v,A]=r.useState(""),[j,q]=r.useState(""),[Z,z]=r.useState([]),[Q,W]=r.useState([]),[c,X]=r.useState({totalQuestions:0,totalAnswers:0,totalDoctors:0,answeredQuestions:0}),[T,D]=r.useState([]),[Y,L]=r.useState({}),[p,u]=r.useState(1),y=5;r.useEffect(()=>{(async()=>{N(!0);try{const[a,l,o]=await Promise.all([_({allowMock:!1}),be(),we()]);a.data&&z(a.data),l.data&&W(l.data),o&&X(o)}finally{N(!1)}})()},[]),r.useEffect(()=>{(async()=>{try{const a=`featured_doctors_${d.language}`,l=P.get(a);if(l&&typeof l=="object"&&"doctors"in l){D(l.doctors.slice(0,3)),L(l.ratings||{});return}const{data:o}=await fe(d.language,{active:!0,verified:!0,limit:3});if(o){const E=o.slice(0,3);D(E);const ce=await Promise.all(E.map(async w=>{try{const F=await Ne(w.id);return[w.id,{averageRating:F.averageRating,totalReviews:F.totalReviews}]}catch{return[w.id,{averageRating:4.9,totalReviews:0}]}})),B=Object.fromEntries(ce);L(B),P.set(a,{doctors:o,ratings:B,comments:{}},18e4)}}catch(a){console.error("Failed to load top experts:",a)}})()},[d.language]),r.useEffect(()=>{u(1)},[x,m,h]);const n=Z,ee=[{value:"all",label:t("qaAllCategories"),count:n.length},...Q.map(s=>({value:s.id,label:s.name,count:n.filter(a=>a.category_id===s.id).length}))],se=[{value:"all",label:t("qaAllQuestions"),count:n.length},{value:"open",label:t("qaOpenQuestions"),count:n.filter(s=>s.status==="open").length},{value:"answered",label:t("qaAnswered"),count:n.filter(s=>s.status==="answered").length},{value:"closed",label:t("qaClosed"),count:n.filter(s=>s.status==="closed").length}],g=n.filter(s=>{const a=s.title.toLowerCase().includes(x.toLowerCase())||s.content.toLowerCase().includes(x.toLowerCase()),l=m==="all"||s.category_id===m,o=h==="all"||s.status===h;return a&&l&&o}),b=Math.ceil(g.length/y),R=(p-1)*y,te=R+y,ae=g.slice(R,te),re=s=>new Date(s).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric"}),le=s=>{switch(s){case"answered":return"bg-green-100 text-green-800";case"open":return"bg-blue-100 text-blue-800";case"closed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},oe=s=>{switch(s){case"answered":return t("answered");case"open":return t("open");case"closed":return t("closed");default:return"Unknown"}},ne=["artrit","artroz","og'riq","dorilar","mashqlar","profilaktika","diagnostika","davolash","belgilar"],ie=[{id:"1",name:"Dr. Aziza Karimova",specialty:"Revmatologiya",answers:45,rating:4.9,avatar:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:"2",name:"Dr. Bobur Toshmatov",specialty:"Ortopediya",answers:32,rating:4.8,avatar:"https://images.pexels.com/photos/6098828/pexels-photo-6098828.jpeg?auto=compress&cs=tinysrgb&w=100"},{id:"3",name:"Dr. Nilufar Abdullayeva",specialty:"Reabilitatsiya",answers:28,rating:4.9,avatar:"https://images.pexels.com/photos/5452293/pexels-photo-5452293.jpeg?auto=compress&cs=tinysrgb&w=100"}];return e.jsxs("div",{className:"theme-bg min-h-screen",children:[e.jsx(ve,{title:t("qaTitle"),description:`${t("qaTitle")}. ${t("qaGetFreeAdvice")}`,keywords:"savol javob, tibbiy maslahat, revmatik kasalliklar, shifokor maslahati",url:"https://revmohelp.uz/qa"}),e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsxs("section",{className:"relative py-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 to-teal-600/10 dark:from-blue-400/5 dark:to-teal-400/5"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 dark:bg-blue-900/50 rounded-full px-4 py-2 mb-6",children:[e.jsx(M,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-blue-800 text-sm font-medium",children:"Professional Medical Q&A"})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold theme-text mb-6",children:e.jsx("span",{className:"text-secondary",children:t("qaTitle")})}),e.jsxs("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:[e.jsx("span",{className:"text-lg font-bold mb-2 block",children:t("qaHaveQuestion")}),t("qaGetFreeAdvice")]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:()=>i(!0),className:"bg-blue-600 text-white px-8 py-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 transform hover:scale-105 shadow-lg flex items-center justify-center space-x-2",children:[e.jsx(ke,{size:20}),e.jsx("span",{children:t("qaAskQuestion")})]}),e.jsx(he,{to:"/doctors",className:"bg-primary-500 text-white px-8 py-4 rounded-xl font-semibold hover:bg-primary-600 transition-colors duration-200 transform hover:scale-105 shadow-lg",children:t("meetDoctors")})]})]})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-20",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-12 mt-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx($,{size:24,className:"text-white"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-1",children:c.totalQuestions.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:t("totalQuestions")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Se,{size:24,className:"text-white"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-1",children:c.totalAnswers.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:t("totalAnswers")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ce,{size:24,className:"text-white"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-1",children:c.totalDoctors.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:t("expertDoctors")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center hover:theme-shadow-lg transition-all duration-300 transform hover:-translate-y-1 animate-fade-in hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"w-12 h-12 bg-orange-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ae,{size:24,className:"text-white"})}),e.jsxs("div",{className:"text-2xl font-bold theme-text mb-1",children:[c.totalQuestions?Math.round(c.answeredQuestions/c.totalQuestions*100):0,"%"]}),e.jsx("div",{className:"theme-text-secondary",children:t("responseRate")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[e.jsx("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 mb-8 animate-slide-up",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("input",{style:{backgroundColor:"#ffffff"},type:"text",placeholder:t("qaSearchPlaceholder"),value:x,onChange:s=>I(s.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 bg-white dark:bg-[#3E433B] theme-text"})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:m,onChange:s=>K(s.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:ee.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})}),e.jsx("div",{className:"md:w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 theme-text-muted",size:20}),e.jsx("select",{style:{backgroundColor:"#ffffff"},value:h,onChange:s=>V(s.target.value),className:"w-full pl-10 pr-4 py-3 ring-1 ring-[#5FA8D3] border-transparent rounded-lg focus:ring-2 focus:ring-[#62B6CB] focus:border-[#62B6CB] transition-colors duration-200 appearance-none bg-white dark:bg-[#3E433B] theme-text",children:se.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]})})]})}),e.jsx("div",{className:"mb-8",children:e.jsxs("p",{className:"theme-text-secondary",children:[e.jsx("span",{className:"font-semibold theme-text",children:g.length})," ",t("qaQuestionsFound")]})}),e.jsx("div",{className:"space-y-5",children:ae.map((s,a)=>e.jsx(je,{to:`/questions/${s.slug}`,className:"block",children:e.jsx("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 animate-fade-in transform hover:-translate-y-1 cursor-pointer hover:theme-shadow-lg transition-all duration-300 hover-medical",style:{animationDelay:`${a*100}ms`,boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.category&&e.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium",style:{backgroundColor:s.category.color},children:s.category.name}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${le(s.status)}`,children:oe(s.status)})]}),e.jsx("h3",{className:"text-xl font-bold text-secondary mb-3 hover:text-blue-600 transition-colors duration-200 cursor-pointer",children:s.title}),e.jsx("p",{className:"theme-text leading-relaxed mb-4 line-clamp-2",children:s.content}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:s.tags.map(l=>e.jsxs("span",{style:{backgroundColor:"var(--color-primary-600)",color:"white"},className:"px-2 py-1 text-sm rounded-md hover:opacity-90 transition-colors duration-200 cursor-pointer",children:["#",l]},l))}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pe,{size:14}),e.jsx("span",{children:s.author?.full_name})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(qe,{size:14}),e.jsx("span",{children:re(s.created_at)})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx($,{size:14}),e.jsxs("span",{children:[s.answers_count," ",t("qaAnswers")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ze,{size:14}),e.jsxs("span",{children:[s.views_count," ",t("qaViews")]})]})]})]})]})})})},s.id))}),g.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"theme-text-muted mb-4",children:e.jsx(O,{size:48,className:"mx-auto"})}),e.jsx("h3",{className:"text-xl font-semibold theme-text-secondary mb-2",children:t("qaNoQuestionsFound")}),e.jsx("p",{className:"theme-text-muted mb-6",children:t("qaChangeSearchOrAsk")}),e.jsx("button",{onClick:()=>i(!0),className:"theme-accent-bg text-white px-6 py-3 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 transform hover:scale-105",children:t("qaAskFirstQuestion")})]}),b>1&&e.jsxs("div",{className:"flex justify-center items-center space-x-2 mt-8",children:[e.jsxs("button",{onClick:()=>u(s=>Math.max(s-1,1)),disabled:p===1,className:"px-4 py-2 rounded-lg bg-white border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 flex items-center space-x-1",children:[e.jsx(ue,{size:16}),e.jsx("span",{children:t("qaPrevious")})]}),Array.from({length:b},(s,a)=>a+1).map(s=>e.jsx("button",{onClick:()=>u(s),className:`px-4 py-2 rounded-lg border ${p===s?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300 hover:bg-gray-50"}`,children:s},s)),e.jsxs("button",{onClick:()=>u(s=>Math.min(s+1,b)),disabled:p===b,className:"px-4 py-2 rounded-lg bg-white border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 flex items-center space-x-1",children:[e.jsx("span",{children:t("qaNext")}),e.jsx(ge,{size:16})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:t("qaPopularTags")}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ne.map(s=>e.jsxs("button",{style:{backgroundColor:"var(--color-primary-600)",color:"white"},className:"px-3 py-1 text-xs rounded-full font-medium border-0 hover:opacity-90 transition-colors duration-200",children:["#",s]},s))})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:t("qaTopExperts")}),e.jsx("div",{className:"space-y-4",children:(T.length?T.slice(0,3):ie).map(s=>e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-white dark:bg-white rounded-xl hover:theme-shadow-md transition-all duration-200 mb-3 border-b border-gray-200 last:border-b-0",children:[e.jsx("img",{src:s.avatar_url||s.avatar,alt:s.full_name||s.name,className:"w-12 h-12 rounded-full object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold theme-text text-sm",children:s.full_name||s.name}),e.jsx("p",{className:"theme-text-secondary text-xs",children:s.specialization||s.specialty}),e.jsx("div",{className:"flex items-center space-x-2 mt-1",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Qe,{size:12,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-xs theme-text-muted",children:(Y[s.id]?.averageRating??s.rating??4.9).toFixed(1)})]})})]})]},s.id))})]}),e.jsxs("div",{className:"bg-primary-600 rounded-2xl p-6 text-white",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:t("qaHaveQuestion")}),e.jsx("p",{className:"text-blue-100 mb-4",children:t("qaGetFreeAdvice")}),e.jsx("button",{onClick:()=>i(!0),className:"w-full bg-white text-primary-600 py-3 rounded-xl font-semibold hover:bg-primary-50 transition-colors duration-200 transform hover:scale-105",children:t("qaAskQuestion")})]})]})]})]})]}),J&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-xs p-4",children:e.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl theme-shadow-lg theme-border border overflow-hidden animate-slide-up",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-white/10 flex items-center justify-between bg-gray-50 dark:bg-white/5",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{size:22,className:"text-blue-600"}),e.jsx("h3",{className:"text-xl font-bold theme-text",children:t("qaAskQuestion")})]}),e.jsx("button",{onClick:()=>i(!1),className:"px-3 py-1.5 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-600 dark:bg-white/10 dark:hover:bg-white/15",children:"âœ•"})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[!G&&e.jsx("div",{className:"p-4 bg-yellow-50 text-yellow-800 rounded-lg",children:t("loginToAsk")||"Savol berish uchun kiring"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("qaTitleLabel")}),e.jsx("input",{value:f,onChange:s=>C(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:t("qaTitlePlaceholder")})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("qaContentLabel")}),e.jsx("textarea",{value:v,onChange:s=>A(s.target.value),rows:6,className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none",placeholder:t("qaContentPlaceholder")})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t("qaCategoryLabel")}),e.jsxs("select",{value:j,onChange:s=>q(s.target.value),className:"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",children:[e.jsx("option",{value:"",children:t("qaSelectOption")}),Q.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-white/20 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"px-5 py-3 rounded-xl bg-white border border-gray-300 text-gray-500 hover:bg-gray-50 dark:bg-white/5 dark:text-black dark:border-white/25",children:t("qaCancel")}),e.jsx("button",{disabled:k||!f.trim()||!v.trim()||!j,onClick:async()=>{S(!0);try{const{data:s,error:a}=await ye({title:f.trim(),content:v.trim(),category_id:j||void 0});if(!a&&s){i(!1),C(""),A(""),q("");const l=await _({allowMock:!1});l.data&&z(l.data);const o=d.language==="uz"?"":`/${d.language}`;U(`${o}/questions/${s.slug}`)}else{console.error("Create question failed:",a);const l=a?.message||(typeof a=="string"?a:JSON.stringify(a));alert(t("answerSubmissionError")+": "+l)}}finally{S(!1)}},className:"px-6 py-3 bg-blue-600 text-white rounded-xl shadow-md hover:bg-blue-700 hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:t(k?"qaSubmitting":"qaSubmitQuestion")})]})]})})]})};export{Ze as default};
