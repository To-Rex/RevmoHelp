import{c as D,u as R,_ as G,r,j as e,e as H,H as P,A as S,S as z,f as _,L as p,$ as O,a0 as T,a1 as q}from"./index-DtX8_sFx.js";import{S as U}from"./SEOHead-BFTKnFen.js";import{B as W}from"./book-open-BOFfDuNs.js";import{C as E}from"./check-circle-Bxw7JPnO.js";import{A as K}from"./alert-circle-CJoZj5dR.js";import{E as Q}from"./eye-off-BlL6kS9p.js";import{E as V}from"./eye-OnB_qZXO.js";import{A as X}from"./arrow-right-B_FWij5W.js";const le=()=>{const{t:s}=D(),f=R(),i=G(),[d,C]=r.useState(!1),[o,c]=r.useState(!1),[j,m]=r.useState(!1),[x,a]=r.useState(""),[g,y]=r.useState(""),[N,v]=r.useState(!1),[w,u]=r.useState(!1),[n,k]=r.useState({email:"",password:"",rememberMe:!1});r.useEffect(()=>{const l=new URLSearchParams(i.search).get("error");if(l){switch(console.log("ðŸš¨ OAuth error detected:",l),l){case"oauth_failed":a(s("loginPage.oauthFailed"));break;case"session_failed":a(s("loginPage.sessionFailed"));break;case"no_session":a(s("loginPage.noSession"));break;case"no_tokens":a(s("loginPage.noTokens"));break;case"callback_error":a(s("loginPage.callbackError"));break;default:a(s("loginPage.generalError"))}window.history.replaceState({},document.title,"/login")}i.state?.message&&(y(i.state.message),i.state?.email&&k(h=>({...h,email:i.state.email})))},[i.state,i.search,s]);const A=async()=>{m(!0),a("");try{const{error:t}=await q();t?(a(s("loginPage.oauthFailed")+": "+t.message),m(!1)):console.log("Google sign-in initiated")}catch{a(s("loginPage.oauthFailed")),m(!1)}},b=t=>{const{name:l,value:h,type:I,checked:M}=t.target;k(B=>({...B,[l]:I==="checkbox"?M:h})),x&&a(""),g&&y(""),N&&v(!1),w&&u(!1)},L=async t=>{t.preventDefault(),c(!0),a("");try{const{error:l}=await O(n.email,n.password);l?l.message.includes("Email not confirmed")?(a(s("loginPage.emailNotConfirmed")),u(!0)):l.message.includes("Invalid login credentials")?a(s("loginPage.invalidCredentials")):a(l.message):f("/")}catch{a("Xatolik yuz berdi. Qaytadan urinib ko'ring.")}finally{c(!1)}},F=async()=>{c(!0),a("");try{const{error:t}=await T(n.email);t?a(s("loginPage.generalError")+": "+t.message):(v(!0),u(!1),a(""))}catch{a(s("loginPage.generalError"))}finally{c(!1)}};return e.jsxs("div",{className:"min-h-screen theme-bg relative overflow-hidden",children:[e.jsx(U,{title:s("loginPage.seoTitle"),description:s("loginPage.seoDescription"),keywords:s("loginPage.seoKeywords"),url:"https://revmohelp.uz/login"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 theme-bg"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 opacity-20 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-200 opacity-15 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-200 opacity-10 rounded-full blur-2xl animate-pulse-slow"}),e.jsx("div",{className:"absolute top-50 right-20 opacity-10",children:e.jsx(H,{size:48,className:"theme-accent animate-float"})}),e.jsx("div",{className:"absolute bottom-20 left-20 opacity-10",children:e.jsx(P,{size:40,className:"text-red-500 animate-pulse-slow"})}),e.jsx("div",{className:"absolute top-1/3 left-16 opacity-8",children:e.jsx(S,{size:36,className:"theme-accent-secondary animate-float",style:{animationDelay:"1s"}})}),e.jsx("div",{className:"absolute bottom-1/3 right-16 opacity-8",children:e.jsx(z,{size:32,className:"text-green-600 animate-float",style:{animationDelay:"3s"}})}),e.jsx("div",{className:"absolute top-1/4 right-1/4 opacity-15",children:e.jsx(_,{size:28,className:"text-blue-500 animate-float",style:{animationDelay:"4s"}})}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 opacity-12",children:e.jsx(W,{size:32,className:"text-teal-500 animate-float",style:{animationDelay:"2.5s"}})}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--accent-primary) 1px, transparent 0)",backgroundSize:"40px 40px"}})})]})]}),e.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-sm w-full space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border p-6 animate-zoom-in delay-200",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"text-center animate-fade-in mb-6",children:[e.jsxs(p,{to:"/",className:"inline-flex items-center space-x-3 mb-6 group",children:[e.jsx("img",{src:"/logo.png",alt:"Revmohelp Logo",className:"w-10 h-10 rounded-xl animate-pulse-medical group-hover:animate-heartbeat transition-all duration-300 transform group-hover:scale-110"}),e.jsx("span",{className:"text-xl font-bold theme-text group-hover:theme-accent transition-colors duration-300",children:"Revmohelp"})]}),e.jsx("h2",{className:"text-2xl font-bold theme-text mb-2 animate-slide-up",children:s("loginPage.welcome")}),e.jsx("p",{className:"text-sm theme-text-secondary animate-slide-up delay-100",children:s("loginPage.subtitle")})]}),e.jsxs("form",{onSubmit:L,className:"space-y-4",children:[e.jsx("div",{className:"mb-6",children:e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:s("loginPage.title")})}),g&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg animate-slide-down",children:[e.jsx(E,{size:16,className:"text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-green-700 dark:text-green-300 text-xs",children:g})]}),N&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg animate-slide-down",children:[e.jsx(E,{size:16,className:"text-blue-600 dark:text-blue-400"}),e.jsx("span",{className:"text-blue-700 dark:text-blue-300 text-xs",children:s("loginPage.resendSuccess")})]}),x&&e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg animate-shake",children:[e.jsx(K,{size:16,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-red-700 dark:text-red-300 text-xs",children:x})]}),w&&e.jsx("button",{type:"button",onClick:F,disabled:o,className:"w-full flex justify-center py-2 px-3 border border-blue-300 dark:border-blue-600 text-xs font-medium rounded-lg text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:o?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),e.jsx("span",{children:s("loginPage.resending")})]}):s("loginPage.resendEmail")}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("loginPage.emailLabel")}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:b,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"email@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:s("loginPage.passwordLabel")}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:d?"text":"password",name:"password",value:n.password,onChange:b,required:!0,className:"w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200 pr-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx("button",{type:"button",onClick:()=>C(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors duration-200",children:d?e.jsx(Q,{size:16}):e.jsx(V,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",name:"rememberMe",checked:n.rememberMe,onChange:b,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 transition-all duration-200"}),e.jsx("span",{className:"text-sm text-gray-700",children:s("loginPage.rememberMe")})]}),e.jsx(p,{to:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-700 transition-colors duration-200 hover:underline",children:s("loginPage.forgotPassword")})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:s("loginPage.loggingIn")})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:s("loginPage.loginButton")}),e.jsx(X,{size:20})]})})]}),e.jsxs("div",{className:"relative my-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:s("loginPage.or")})})]}),e.jsx("button",{type:"button",onClick:A,disabled:j,className:"w-full flex items-center justify-center space-x-2 py-2 px-4 border-4 border-blue-500 rounded-xl bg-blue-50/50 hover:bg-blue-50 transition-all duration-300 group disabled:opacity-50 disabled:cursor-not-allowed",children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsx("span",{className:"text-gray-700 text-sm",children:s("loginPage.connectingGoogle")})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),e.jsx("span",{className:"text-gray-700 text-sm group-hover:text-blue-600 transition-colors duration-200",children:s("loginPage.googleSignIn")})]})}),e.jsxs("button",{type:"button",onClick:()=>f("/telegram-login"),className:"mt-4 w-full flex items-center justify-center space-x-2 py-2 px-4 border-4 border-blue-400 rounded-xl bg-blue-50/50 hover:bg-blue-50 transition-all duration-300 group",children:[e.jsx("div",{className:"w-5 h-5 bg-white rounded-full flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"#0088cc",children:e.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),e.jsx("span",{className:"text-gray-700 text-sm group-hover:text-blue-600 transition-colors duration-200",children:s("loginPage.telegramSignIn")})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-gray-600",children:[s("loginPage.noAccount")," ",e.jsx(p,{to:"/register",className:"text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors duration-200 hover:underline",children:s("loginPage.register")})]})})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-6 opacity-70 animate-fade-in delay-500 pb-6",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400",children:[e.jsx(z,{size:14,className:"animate-pulse-medical"}),e.jsx("span",{className:"text-xs font-medium",children:s("loginPage.secure")})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400",children:[e.jsx(P,{size:14,className:"animate-heartbeat"}),e.jsx("span",{className:"text-xs font-medium",children:s("loginPage.trusted")})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 dark:text-gray-400",children:[e.jsx(S,{size:14,className:"animate-pulse"}),e.jsx("span",{className:"text-xs font-medium",children:s("loginPage.professional")})]})]})]})})]})};export{le as default};
