import{c as v,d as y,r,i as w,j as e,e as x,L as a,F as h}from"./index-CL5t8gok.js";import{S as z}from"./SEOHead-D1KLTp6J.js";import{a as k}from"./doctorProfiles-DzlfYywj.js";import{P as d}from"./plus-DBPg9uJE.js";import{C as u}from"./check-circle-B-lh5xiC.js";import{C as q}from"./clock-wiaMoHKP.js";import{A as S}from"./alert-circle-CZib7xpJ.js";import{E as j}from"./eye-DiwoFZST.js";import{S as P}from"./star-Co666oKL.js";import{C as o}from"./credit-card-BD7sluYH.js";import{M as _}from"./mail-BhmN_XPR.js";import{P as T}from"./phone-BdTei3Se.js";import{C as D}from"./calendar-IMD9toLQ.js";const V=()=>{const{t:C}=v(),{user:l}=y(),[s,b]=r.useState(null),[i,f]=r.useState([]),[L,m]=r.useState(!0),[g,p]=r.useState(!0);r.useEffect(()=>{l&&N()},[l]);const N=async()=>{if(l){m(!0);try{const[t,c]=await Promise.all([k(l.id),w("uz",{author_id:l.id})]);t.data&&b(t.data),c.data&&f(c.data)}catch(t){console.error("Error loading doctor data:",t)}finally{m(!1),p(!1)}}},n={totalPosts:i.length,publishedPosts:i.filter(t=>t.published).length,totalViews:i.reduce((t,c)=>t+(c.views_count||0),0),avgRating:4.8};return l?l.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Ruxsat Yo'q"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Bu sahifa faqat shifokorlar uchun."})]})}):g?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokor profili yuklanmoqda..."})]})}):s?e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(z,{title:"Shifokor Paneli",description:"Shifokor uchun shaxsiy panel - maqolalar, bemorlar va profil boshqaruvi",keywords:"shifokor panel, tibbiy maqolalar, bemor boshqaruvi",url:"https://revmohelp.uz/doctor-dashboard"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold theme-text mb-2",children:["Xush kelibsiz, ",s.full_name,"!"]}),e.jsxs("p",{className:"theme-text-secondary",children:["Shifokor paneli - ",s.specialization]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.verified?e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[e.jsx(u,{size:16}),e.jsx("span",{children:"Tasdiqlangan"})]}):e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg",children:[e.jsx(q,{size:16}),e.jsx("span",{children:"Tasdiq kutilmoqda"})]})})]})}),!s.verified&&e.jsx("div",{className:"mb-8 p-6 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{size:24,className:"text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Profil Tasdiq Kutilmoqda"}),e.jsx("p",{className:"text-yellow-700 mb-4",children:"Sizning shifokor profilingiz admin tomonidan ko'rib chiqilmoqda. Tasdiqlangandan so'ng barcha xizmatlardan foydalanishingiz mumkin bo'ladi."}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-yellow-600",children:[e.jsx("span",{children:"• Profil ma'lumotlarini to'ldiring"}),e.jsx("span",{children:"• Sertifikatlaringizni qo'shing"}),e.jsx("span",{children:"• Admin tasdiqlashini kuting"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{size:24,className:"text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:n.totalPosts}),e.jsx("div",{className:"theme-text-secondary",children:"Jami maqolalar"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(u,{size:24,className:"text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:n.publishedPosts}),e.jsx("div",{className:"theme-text-secondary",children:"Nashr etilgan"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{size:24,className:"text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:n.totalViews.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:"Ko'rishlar"})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(P,{size:24,className:"text-yellow-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:n.avgRating}),e.jsx("div",{className:"theme-text-secondary",children:"Reyting"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text mb-4",children:"Tezkor Amallar"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(a,{to:"/doctor/posts/create",className:"flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors duration-200",children:[e.jsx(d,{size:20}),e.jsx("span",{className:"font-medium",children:"Yangi Maqola Yozish"})]}),e.jsxs(a,{to:"/doctor/profile/edit",className:"flex items-center space-x-3 p-4 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors duration-200",children:[e.jsx(o,{size:20}),e.jsx("span",{className:"font-medium",children:"Profilni Tahrirlash"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text",children:"So'nggi Maqolalarim"}),e.jsx(a,{to:"/doctor/posts",className:"text-sm theme-accent hover:text-blue-800 font-medium",children:"Barchasini ko'rish"})]}),i.length>0?e.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(t=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl theme-border border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold theme-text mb-1 line-clamp-1",children:t.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsx("span",{children:t.published?"Nashr etilgan":"Qoralama"}),e.jsxs("span",{children:[(t.views_count||0).toLocaleString()," ko'rishlar"]}),e.jsx("span",{children:new Date(t.created_at).toLocaleDateString("uz-UZ")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(a,{to:`/doctor/posts/edit/${t.id}`,className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(o,{size:16})}),e.jsx(a,{to:`/posts/${t.slug}`,target:"_blank",className:"p-2 text-green-600 hover:text-green-800 rounded-lg hover:bg-green-50 transition-colors duration-200",children:e.jsx(j,{size:16})})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(h,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold theme-text-secondary mb-2",children:"Hozircha maqolalar yo'q"}),e.jsx("p",{className:"theme-text-muted mb-4",children:"Birinchi tibbiy maqolangizni yozing"}),e.jsxs(a,{to:"/doctor/posts/create",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(d,{size:16}),e.jsx("span",{children:"Maqola Yozish"})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"Profil Xulasasi"}),e.jsxs("div",{className:"text-center mb-6",children:[s.avatar_url?e.jsx("img",{src:s.avatar_url,alt:s.full_name,className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(x,{size:24,className:"text-blue-600"})}),e.jsx("h4",{className:"text-lg font-bold theme-text",children:s.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:s.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[s.experience_years," yil tajriba"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Sertifikatlar"}),e.jsx("span",{className:"font-medium theme-text",children:s.certificates.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Ta'lim"}),e.jsx("span",{className:"font-medium theme-text",children:s.education.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Tillar"}),e.jsx("span",{className:"font-medium theme-text",children:s.languages.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:"Holat"}),e.jsx("span",{className:`font-medium ${s.verified?"text-green-600":"text-yellow-600"}`,children:s.verified?"Tasdiqlangan":"Kutilmoqda"})]})]}),e.jsxs(a,{to:"/doctor/profile/edit",className:"w-full mt-6 theme-accent-bg text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(o,{size:16}),e.jsx("span",{children:"Profilni Tahrirlash"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"Aloqa Ma'lumotlari"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:s.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{size:16,className:"theme-text-muted"}),e.jsxs("span",{className:"text-sm theme-text",children:[Object.values(s.working_hours||{}).filter(t=>t.available).length," kun mavjud"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:"So'nggi Faollik"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:"Profil yaratildi"}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(s.created_at).toLocaleDateString("uz-UZ")})]}),i.length>0&&e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:"Oxirgi maqola"}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(i[0].created_at).toLocaleDateString("uz-UZ")})]})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(x,{size:32,className:"text-blue-600"})}),e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Shifokor Profili Yaratish"}),e.jsx("p",{className:"theme-text-secondary mb-6 max-w-md mx-auto",children:"Shifokor sifatida platformada faoliyat yuritish uchun professional profilingizni yarating."}),e.jsxs(a,{to:"/doctor-registration",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(d,{size:20}),e.jsx("span",{children:"Profil Yaratish"})]})]})}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Shifokor paneliga kirish uchun tizimga kirishingiz kerak."})]})})};export{V as default};
