import{r as n,c as C,d as G,j as e,e as L,H as M,A,S as P,f as X,L as q,F as Z,U as ee,g as V,h as te,C as se,i as ae}from"./index-CaEN0LVA.js";import{S as re}from"./SEOHead-Cja2CTz6.js";import{g as le}from"./homepageSettings-mbRNsPxQ.js";import{L as _}from"./LanguageAwareLink-vduotUdE.js";import{B as $}from"./book-open-vVxpbgf9.js";import{A as v}from"./arrow-right-B9jVhomy.js";import{P as oe}from"./plus-BjSJaAB3.js";import{M as Q}from"./message-square-D14w5LNz.js";import{g as ie,T as ne}from"./comments-jx_9yOIy.js";import{C as ce}from"./clock-C8PnlhDy.js";import{E as H}from"./eye-Du4Ich3T.js";import{C as J}from"./calendar-CGUhxsTp.js";import{g as de,a as me}from"./doctorReviews-BILXMe12.js";import{A as xe}from"./award-Die_a-B1.js";import{S as O}from"./star-DMreETf_.js";import{g as ue}from"./diseases-BaEA750l.js";import{A as K}from"./alert-circle-gwVqmrXV.js";import{T as he}from"./target-9LWmKsfU.js";const ge=({end:s,duration:c=2e3,start:l=0,delay:d=0,easing:m=h=>h*h*(3-2*h)})=>{const[h,x]=n.useState(l),[p,i]=n.useState(!1),[u,f]=n.useState(!1),t=n.useRef(null);return n.useEffect(()=>{const r=new IntersectionObserver(([o])=>{o.isIntersecting&&!u&&i(!0)},{threshold:.3});return t.current&&r.observe(t.current),()=>r.disconnect()},[u]),n.useEffect(()=>{if(!p||u)return;f(!0);const r=Date.now()+d,o=l,g=s,S=c,y=()=>{const b=Date.now(),w=Math.max(0,b-r),D=Math.min(w/S,1);if(D<1){const B=m(D),a=Math.round(o+(g-o)*B);x(a),requestAnimationFrame(y)}else x(g)};Date.now()>=r?y():setTimeout(y,d)},[p,u,l,s,c,d,m]),{count:h,ref:t}},I=({icon:s,endValue:c,label:l,suffix:d="",delay:m=0})=>{const{count:h,ref:x}=ge({end:c,duration:2500,delay:m,easing:i=>i*i*(3-2*i)}),p=i=>i>=1e3?(i/1e3).toFixed(i%1e3===0?0:1)+"K":i.toString();return e.jsxs("div",{ref:x,className:"group text-center p-6 theme-bg-secondary backdrop-blur-sm rounded-xl theme-shadow-lg theme-border border hover:theme-shadow-lg transition-all duration-300 hover:scale-105 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-primary-100 rounded-xl mb-4 group-hover:scale-110 transition-transform duration-300",children:e.jsx(s,{size:28,className:"text-white"})}),e.jsxs("div",{className:"text-2xl font-bold theme-text mb-2 tabular-nums",children:[p(h),d]}),e.jsx("div",{className:"theme-text-secondary text-sm font-medium",children:l})]})},pe=()=>{const{t:s,i18n:c}=C(),{isAuthenticated:l}=G(),[d,m]=n.useState(null),[h,x]=n.useState(!0);n.useEffect(()=>{p()},[c.language]);const p=async()=>{try{const{data:g}=await le("hero",c.language);g&&m(g)}catch(g){console.error("Error loading homepage settings:",g)}finally{x(!1)}},u=(()=>{switch(c.language){case"ru":return{title:"Ð”Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…",subtitle_authenticated:"ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð°Ñ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² Ð¸ Ð²Ñ€Ð°Ñ‡ÐµÐ¹",subtitle_unauthenticated:"Ð•ÑÐ»Ð¸ Ð²Ñ‹ Ð¿Ð°Ñ†Ð¸ÐµÐ½Ñ‚, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð¸ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð½ÑÑƒÐ»ÑŒÑ‚Ð°Ñ†Ð¸ÑŽ",stats:{articles:{value:500,label:"ÐœÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¸Ðµ Ð¡Ñ‚Ð°Ñ‚ÑŒÐ¸",suffix:"+"},doctors:{value:50,label:"Ð’Ñ€Ð°Ñ‡Ð¸-Ð­ÐºÑÐ¿ÐµÑ€Ñ‚Ñ‹",suffix:"+"},patients:{value:1e4,label:"ÐŸÐ°Ñ†Ð¸ÐµÐ½Ñ‚Ð¾Ð² ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ð»Ð¸ ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ",suffix:"+"}}};case"en":return{title:"Reliable information about rheumatic diseases",subtitle_authenticated:"Professional medical information platform for patients and doctors",subtitle_unauthenticated:"If you are a patient, register and get professional advice",stats:{articles:{value:500,label:"Medical Articles",suffix:"+"},doctors:{value:50,label:"Expert Doctors",suffix:"+"},patients:{value:1e4,label:"Patients Helped",suffix:"+"}}};default:return{title:"Revmatik kasalliklar haqida ishonchli ma'lumot",subtitle_authenticated:"Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi",subtitle_unauthenticated:"Agar bemor bo'lsangiz, ro'yxatdan o'ting va professional maslahat oling",stats:{articles:{value:500,label:"Tibbiy Maqolalar",suffix:"+"},doctors:{value:50,label:"Ekspert Shifokorlar",suffix:"+"},patients:{value:1e4,label:"Yordam Berilgan Bemorlar",suffix:"+"}}}}})(),f=d?.title||u.title,t=d?.subtitle_authenticated||u.subtitle_authenticated,r=d?.subtitle_unauthenticated||u.subtitle_unauthenticated,o=d?.stats||u.stats;return e.jsxs("section",{className:"relative min-h-screen flex items-center overflow-hidden theme-bg",children:[e.jsx("div",{className:"absolute inset-0 theme-bg"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 opacity-20 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-200 opacity-15 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-200 opacity-10 rounded-full blur-2xl animate-pulse-slow"}),e.jsx("div",{className:"absolute top-20 right-20 opacity-10",children:e.jsx(L,{size:48,className:"theme-accent animate-float"})}),e.jsx("div",{className:"absolute bottom-20 left-20 opacity-10",children:e.jsx(M,{size:40,className:"text-red-500 animate-pulse-slow"})}),e.jsx("div",{className:"absolute top-1/3 left-16 opacity-8",children:e.jsx(A,{size:36,className:"theme-accent-secondary animate-float",style:{animationDelay:"1s"}})}),e.jsx("div",{className:"absolute bottom-1/3 right-16 opacity-8",children:e.jsx(P,{size:32,className:"text-green-600 animate-float",style:{animationDelay:"3s"}})}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--accent-primary) 1px, transparent 0)",backgroundSize:"40px 40px"}})})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 z-10",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-bg-secondary backdrop-blur-sm rounded-full px-6 py-3 mb-8 animate-fade-in hover:scale-105 transition-all duration-300 theme-shadow-lg theme-border border",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx(L,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium border border-secondary-500 rounded px-1",children:"Professional Medical Platform"})]}),e.jsx("h1",{className:"text-5xl md:text-6xl lg:text-7xl font-bold mb-8 animate-fade-in theme-text leading-tight",children:f}),l?e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:t}):e.jsx("p",{className:"text-xl md:text-2xl theme-text-secondary mb-12 leading-relaxed animate-slide-up delay-200 max-w-3xl mx-auto",children:r}),e.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-6 mb-20 animate-slide-up delay-300",children:l?e.jsxs(e.Fragment,{children:[e.jsxs(_,{to:"/posts",className:"group bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx($,{size:20}),e.jsx("span",{children:s("readArticles")}),e.jsx(v,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs(_,{to:"/qa",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(oe,{size:20}),e.jsx("span",{children:s("askQuestionBtn")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(_,{to:"/register",className:"group bg-gradient-to-r from-primary-500 to-primary-600 text-white px-8 py-4 rounded-xl font-semibold hover:from-primary-600 hover:to-primary-700 transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx(Q,{size:20}),e.jsx("span",{children:s("register")}),e.jsx(v,{size:20,className:"group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsxs(_,{to:"/posts",className:"group theme-border border-2 theme-text px-8 py-4 rounded-xl font-semibold hover:theme-bg-tertiary transition-all duration-300 transform hover:scale-105 theme-shadow-lg hover:theme-shadow-xl flex items-center space-x-3",children:[e.jsx($,{size:20}),e.jsx("span",{children:s("viewArticles")})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto animate-fade-in delay-500",children:[e.jsx(I,{icon:$,endValue:o.articles.value,label:o.articles.label,suffix:o.articles.suffix,delay:0}),e.jsx(I,{icon:L,endValue:o.doctors.value,label:o.doctors.label,suffix:o.doctors.suffix,delay:300}),e.jsx(I,{icon:X,endValue:o.patients.value,label:o.patients.label,suffix:o.patients.suffix,delay:600})]}),e.jsxs("div",{className:"mt-16 flex flex-wrap items-center justify-center space-x-8 opacity-60 animate-fade-in delay-700",children:[e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(P,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Tasdiqlangan Tibbiy Kontent"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(M,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Bemorga Yo'naltirilgan G'amxo'rlik"})]}),e.jsxs("div",{className:"flex items-center space-x-2 theme-text-muted",children:[e.jsx(A,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"Real Vaqt Yangilanishlari"})]})]})]})})]})},fe=({posts:s=[]})=>{const{t:c,i18n:l}=C(),[d,m]=n.useState({}),[h,x]=n.useState(!1);n.useEffect(()=>{s.length>0&&!h&&p()},[s]);const p=async()=>{try{const t=`post_comments_count_${s.map(b=>b.id).join(",")}`,r=localStorage.getItem(t),o=localStorage.getItem(`${t}_timestamp`);if(r&&o&&Date.now()-parseInt(o)<120*1e3){m(JSON.parse(r)),x(!0),console.log("ðŸ“¦ Using cached post comments count");return}const g=s.map(async b=>{const{data:w}=await ie(b.id);return{postId:b.id,count:w?.length||0}}),y=(await Promise.all(g)).reduce((b,{postId:w,count:D})=>(b[w]=D,b),{});m(y),localStorage.setItem(t,JSON.stringify(y)),localStorage.setItem(`${t}_timestamp`,Date.now().toString()),x(!0)}catch(t){console.error("Error loading comments count:",t)}},i=[],u=s.length>0?s:i,f=t=>{const o={uz:"uz-UZ",ru:"ru-RU",en:"en-US"}[l.language]||"uz-UZ";return new Date(t).toLocaleDateString(o,{year:"numeric",month:"long",day:"numeric"})};return e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:c("latestPosts")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:"Revmatik kasalliklar bo'yicha eng so'nggi maqolalar va maslahatlar"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:u.slice(0,3).map((t,r)=>e.jsx(q,{to:`/posts/${t.slug}`,className:"group block",style:{animationDelay:`${r*100}ms`},children:e.jsxs("article",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in group-hover:scale-[1.02] h-full flex flex-col hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[16/9]",children:[t.featured_image_url?e.jsx("img",{src:t.featured_image_url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"}):t.youtube_url?e.jsx("div",{className:"relative w-full h-full",children:e.jsx("img",{src:`https://img.youtube.com/vi/${t.youtube_url.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/maxresdefault.jpg`,alt:t.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy",onError:o=>{const g=o.target;g.src=`https://img.youtube.com/vi/${t.youtube_url?.split("v=")[1]?.split("&")[0]||"dQw4w9WgXcQ"}/hqdefault.jpg`}})}):e.jsx("div",{className:"w-full h-full theme-bg-secondary dark:from-blue-900/20 dark:to-teal-900/20 flex items-center justify-center group-hover:from-blue-100 group-hover:to-teal-100 dark:group-hover:from-blue-900/30 dark:group-hover:to-teal-900/30 transition-all duration-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Z,{size:56,className:"theme-text-muted mx-auto mb-3 group-hover:scale-110 transition-transform duration-300 opacity-60"}),e.jsx("p",{className:"theme-text-muted text-lg font-medium",children:"Matn Maqolasi"})]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),t.category&&e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"px-3 py-1 text-xs font-bold text-white rounded-full shadow-lg backdrop-blur-sm",style:{backgroundColor:t.category.color},children:t.category.name})}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:`px-3 py-1 text-xs font-bold rounded-full shadow-lg ${t.youtube_url?"bg-red-500 text-white":t.featured_image_url?"bg-green-500 text-white":"bg-blue-500 text-white"}`,children:t.youtube_url?"Video":t.featured_image_url?"Rasm":"Matn"})}),e.jsx("div",{className:"absolute bottom-4 left-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(ce,{size:12,className:"text-gray-600"}),e.jsxs("span",{className:"text-xs font-medium theme-text",children:[Math.ceil(t.content.length/1e3)," daqiqa"]})]})}),e.jsx("div",{className:"absolute bottom-4 right-4",children:e.jsxs("div",{className:"flex items-center space-x-1 theme-bg-secondary/95 backdrop-blur-sm rounded-full px-3 py-1 shadow-lg",children:[e.jsx(H,{size:12,className:"text-gray-600"}),e.jsx("span",{className:"text-xs font-bold theme-text",children:(t.views_count||0).toLocaleString()})]})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"theme-bg-secondary/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"theme-text font-semibold flex items-center space-x-2",children:[e.jsx(v,{size:16}),e.jsx("span",{children:"Batafsil o'qish"})]})})})]}),e.jsxs("div",{className:"p-6 space-y-4 flex flex-col flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-100 to-teal-100 dark:from-blue-900/50 dark:to-teal-900/50 rounded-full flex items-center justify-center",children:e.jsx(ee,{size:16,className:"theme-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-semibold theme-text text-sm",children:t.author?.full_name}),t.author?.role==="doctor"&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs rounded-full font-bold",children:"Dr"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs theme-text-muted",children:[e.jsx(J,{size:10}),e.jsx("span",{children:f(t.published_at||t.created_at)})]})]})]}),e.jsx("h3",{className:"text-xl font-bold theme-text mb-3 line-clamp-2 group-hover:theme-accent transition-colors duration-300 leading-tight",children:t.title}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:t.excerpt}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[t.tags.slice(0,3).map(o=>e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0 hover:opacity-90 transition-colors duration-200",children:["#",o]},o)),t.tags.length>3&&e.jsxs("span",{className:"px-3 py-1 bg-[#CAD8D6] text-[#3E433B] dark:bg-[#5C6359] dark:text-white text-xs rounded-full font-medium border-0",children:["+",t.tags.length-3]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t theme-border mt-auto",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(H,{size:14}),e.jsx("span",{className:"font-medium",children:(t.views_count||0).toLocaleString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Q,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*20)," sharh"]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ne,{size:14}),e.jsxs("span",{className:"font-medium",children:[Math.floor(Math.random()*50)," yoqdi"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 theme-accent group-hover:theme-accent-secondary font-medium transition-colors duration-200",children:[e.jsx("span",{className:"text-sm",children:"O'qish"}),e.jsx(v,{size:14,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]})]})]})},t.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(q,{to:"/posts",className:"inline-flex items-center space-x-2 bg-[#62B6CB] text-white px-8 py-4 rounded-lg font-semibold hover:bg-[#5FA8D3] transition-colors duration-300 transform hover:scale-105",children:[e.jsx("span",{children:c("viewAll")}),e.jsx(v,{size:20})]})})]})})},be=({doctors:s=[]})=>{const{t:c}=C(),{i18n:l}=C(),[d,m]=n.useState([]),[h,x]=n.useState({}),[p,i]=n.useState({}),[u,f]=n.useState(!0),[t,r]=n.useState(!1);n.useEffect(()=>{o()},[l.language]);const o=async()=>{try{f(!0),console.log("ðŸ” Loading featured doctors...");const a=`featured_doctors_${l.language}`,N=V.get(a);if(N&&typeof N=="object"&&"doctors"in N){m(N.doctors),x(N.ratings),i(N.comments),r(!0),f(!1),console.log("ðŸ“¦ Using cached featured doctors data");return}const{data:k,error:E}=await te(l.language,{active:!0,verified:!0,limit:4});if(k){console.log("âœ… Featured doctors loaded:",k.length),m(k);const W=k.map(async j=>{const[R,z]=await Promise.all([de(j.id),me(j.id,{approved:!0})]);return{doctorId:j.id,stats:R,commentsCount:z.data?.length||0}}),T=await Promise.all(W),F=T.reduce((j,{doctorId:R,stats:z})=>(j[R]={averageRating:z.averageRating,totalReviews:z.totalReviews},j),{}),U=T.reduce((j,{doctorId:R,commentsCount:z})=>(j[R]=z,j),{});x(F),i(U);const Y={doctors:k,ratings:F,comments:U};V.set(a,Y,180*1e3),r(!0)}else E&&console.log("âŒ Error loading featured doctors:",E)}catch(a){console.error("Error loading doctors:",a)}finally{f(!1)}},g=[],S=d.length>0?d:s.length>0?s:g,y=a=>{switch(l.language){case"ru":return`${a} Ð»ÐµÑ‚ Ð¾Ð¿Ñ‹Ñ‚Ð°`;case"en":return`${a} years experience`;default:return`${a} yil tajriba`}},b=a=>{switch(l.language){case"ru":return`${a} Ð¾Ñ‚Ð·Ñ‹Ð²Ð¾Ð²`;case"en":return`${a} reviews`;default:return`${a} sharh`}},w=l.language==="ru"?"Ð¡ÐµÑ€Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ‚Ñ‹:":l.language==="en"?"Certificates:":"Sertifikatlar:",D=l.language==="ru"?"ÐµÑ‰Ñ‘":l.language==="en"?"more":"ko'proq",B=l.language==="ru"?"Ð¡Ð¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»ÑŒ":l.language==="en"?"View profile":"Profil ko'rish";return u?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Shifokorlar yuklanmoqda..."})]})})}):e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-4",children:c("ourDoctors")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:c("experiencedDoctorsHelp")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-12",children:S.slice(0,3).map((a,N)=>e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border overflow-hidden animate-fade-in h-full flex flex-col group hover:theme-shadow-lg transition-all duration-500 hover:-translate-y-2 hover-medical",style:{animationDelay:`${N*100}ms`,boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:a.avatar_url||"https://images.pexels.com/photos/559829/pexels-photo-559829.jpeg?auto=compress&cs=tinysrgb&w=400",alt:a.full_name,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent"}),a.verified&&e.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white p-2 rounded-full shadow-lg",children:e.jsx(xe,{size:16})}),e.jsxs("div",{className:"absolute bottom-4 left-4 flex items-center space-x-1 bg-white/90 backdrop-blur-sm rounded-full px-3 py-1",children:[e.jsx(O,{size:14,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:h[a.id]?.averageRating?.toFixed(1)||"4.9"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-xl transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:e.jsxs("span",{className:"text-gray-900 font-semibold flex items-center space-x-2",children:[e.jsx(v,{size:16}),e.jsx("span",{children:B})]})})})]}),e.jsxs("div",{className:"p-6 flex flex-col flex-1",children:[e.jsx("h3",{className:"text-xl font-bold theme-text mb-2 group-hover:theme-accent transition-colors duration-200",children:e.jsx(q,{to:`/doctors/${a.id}`,className:"hover:theme-accent transition-colors duration-200",children:a.full_name})}),e.jsx("p",{className:"theme-accent font-medium mb-3",children:a.specialization}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3",children:a.bio}),e.jsxs("div",{className:"flex items-center justify-between text-sm theme-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(J,{size:14}),e.jsx("span",{children:y(a.experience_years)})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(O,{size:14,className:"text-yellow-500"}),e.jsxs("span",{children:[h[a.id]?.averageRating?.toFixed(1)||"4.9","(",b(h[a.id]?.totalReviews??p[a.id]??0),")"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold theme-text mb-2",children:w}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[a.certificates?.slice(0,2).map((k,E)=>e.jsx("span",{className:"px-2 py-1 bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-xs rounded-full",children:k},E)),a.certificates&&a.certificates.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 text-xs rounded-full",children:["+",a.certificates.length-2," ",D]})]})]})]})]},a.id))}),e.jsx("div",{className:"text-center",children:e.jsxs(q,{to:"/doctors",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx("span",{children:c("viewAllDoctors")}),e.jsx(v,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]})})},je=()=>{const{t:s,i18n:c}=C(),l=c.language,[d,m]=n.useState([]),[h,x]=n.useState(!0);n.useEffect(()=>{p()},[c.language]);const p=async()=>{x(!0);try{const{data:t}=await ue(c.language,{active:!0,featured:!0});t&&m(t)}catch(t){console.error("Error loading diseases:",t)}finally{x(!1)}},i=t=>{const r=[M,A,L,K,P,he];return r[t%r.length]},u=t=>{const r=["from-red-500 to-pink-500","from-blue-500 to-indigo-500","from-green-500 to-teal-500","from-purple-500 to-violet-500","from-orange-500 to-amber-500","from-cyan-500 to-blue-500"];return r[t%r.length]},f=t=>{const r=["bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800","bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800","bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800","bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800","bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-800","bg-cyan-50 dark:bg-cyan-900/20 border-cyan-200 dark:border-cyan-800"];return r[t%r.length]};return h?e.jsx("section",{className:"py-20 theme-bg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Kasalliklar yuklanmoqda..."})]})})}):d.length===0?null:e.jsx("section",{className:"py-20 theme-bg",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16 animate-fade-in",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(A,{size:18,className:"theme-accent"}),e.jsx("span",{className:"theme-accent text-sm font-medium",children:s("medicalConditions")})]}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold theme-text mb-6",children:s("rheumaticDiseases")}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-3xl mx-auto mb-8",children:l==="ru"?"ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚Ðµ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½ÑƒÑŽ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ Ð¾ Ð½Ð°Ð¸Ð±Ð¾Ð»ÐµÐµ Ñ€Ð°ÑÐ¿Ñ€Ð¾ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð½Ñ‹Ñ… Ñ€ÐµÐ²Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸ÑÑ…. Ð¡Ð¸Ð¼Ð¿Ñ‚Ð¾Ð¼Ñ‹, Ð¼ÐµÑ‚Ð¾Ð´Ñ‹ Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸ Ð¿Ñ€Ð¾Ñ„Ð¸Ð»Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ð¼ÐµÑ€Ñ‹ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð·Ð°Ð±Ð¾Ð»ÐµÐ²Ð°Ð½Ð¸Ñ.":l==="en"?"Get detailed information about the most common rheumatic diseases. Symptoms, treatment methods and preventive measures for each disease.":"Eng keng tarqalgan revmatik kasalliklar haqida batafsil ma'lumot oling. Har bir kasallik uchun belgilar, davolash usullari va profilaktika choralari."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:d.map((t,r)=>{const o=i(r),g=u(r),S=f(r);return e.jsx(_,{to:`/diseases/${t.slug}`,className:"group block animate-fade-in transform hover:scale-105 transition-all duration-300",style:{animationDelay:`${r*150}ms`},children:e.jsxs("div",{className:`relative overflow-hidden rounded-2xl border-2 ${S} p-6 h-full hover:shadow-xl transition-all duration-500 group-hover:-translate-y-2`,style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 20px 20px, currentColor 1px, transparent 0)",backgroundSize:"40px 40px"}})}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${g} rounded-2xl flex items-center justify-center mx-auto shadow-lg group-hover:scale-110 transition-transform duration-300 animate-pulse-medical`,children:e.jsx(o,{size:28,className:"text-white"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-white rounded-full shadow-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsx(se,{size:14,className:"text-gray-600"})})]}),e.jsxs("div",{className:"relative text-center",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-3 group-hover:theme-accent transition-colors duration-300 leading-tight",children:t.name}),e.jsx("p",{className:"theme-text-secondary text-sm mb-4 line-clamp-3 leading-relaxed",children:t.description}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-xs theme-text-secondary mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(K,{size:12}),e.jsxs("span",{children:[t.symptoms?.length||0," ",s("symptoms")]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(L,{size:12}),e.jsxs("span",{children:[t.treatment_methods?.length||0," ",s("methods")]})]})]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-2 group-hover:translate-y-0",children:e.jsxs("div",{className:"inline-flex items-center space-x-2 theme-text font-medium text-sm",children:[e.jsx($,{size:14}),e.jsx("span",{children:s("detailedInfo")}),e.jsx(v,{size:12,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${g} opacity-0 group-hover:opacity-10 transition-opacity duration-300 rounded-2xl`})]})},t.id)})}),e.jsx("div",{className:"text-center animate-fade-in delay-700",children:e.jsxs(_,{to:"/diseases",className:"inline-flex items-center space-x-3 bg-[#62B6CB] text-white px-8 py-4 rounded-xl font-semibold hover:bg-[#5FA8D3] transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl",children:[e.jsx(A,{size:20}),e.jsx("span",{children:s("allDiseases")}),e.jsx(v,{size:18,className:"group-hover:translate-x-1 transition-transform duration-200"})]})}),e.jsx("div",{className:"mt-16 p-6 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-2xl animate-fade-in delay-1000",children:e.jsxs("div",{className:"flex items-center space-x-3 text-black dark:text-black",children:[e.jsx(P,{size:20,className:"flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-1",children:s("medicalWarning")}),e.jsx("p",{className:"text-sm",children:s("medicalWarningText")})]})]})})]})})},Ie=()=>{const{i18n:s}=C(),[c,l]=n.useState([]),[d,m]=n.useState(!0),[h,x]=n.useState(!1);n.useEffect(()=>{p()},[s.language]);const p=async()=>{try{m(!0);const i=`home_posts_${s.language}`,u=localStorage.getItem(i),f=localStorage.getItem(`${i}_timestamp`);if(u&&f&&Date.now()-parseInt(f)<180*1e3){l(JSON.parse(u)),x(!0),m(!1),console.log("ðŸ“¦ Using cached home posts data");return}const{data:t}=await ae(s.language,{published:!0,limit:6});t&&(l(t),localStorage.setItem(i,JSON.stringify(t)),localStorage.setItem(`${i}_timestamp`,Date.now().toString()),x(!0))}catch(i){console.error("Error loading posts:",i)}finally{m(!1)}};return e.jsxs("div",{className:"theme-bg min-h-screen",children:[e.jsx(re,{title:"Revmohelp",description:"Revmatik kasalliklar haqida ishonchli ma'lumot. Bemor va shifokorlar uchun professional tibbiy ma'lumot va yo'riqnoma platformasi.",keywords:"revmatik kasalliklar, shifokor, bemor, tibbiy ma'lumot, revmatologiya, salomatlik, artrit, artroz",url:"https://revmohelp.uz"}),e.jsxs("main",{className:"theme-bg",children:[e.jsx(pe,{}),e.jsx(je,{}),c.length>0&&e.jsx(fe,{posts:c}),e.jsx(be,{})]})]})};export{Ie as default};
