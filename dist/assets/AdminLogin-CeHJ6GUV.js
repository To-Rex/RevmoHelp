import{u as y,a as N,r as t,j as e,S as w,U as k,b as A}from"./index-BLGelJha.js";import{C as z}from"./check-circle-Cgg6WETx.js";import{A as C}from"./alert-circle-DAGHkWUe.js";import{L}from"./lock-C3ilJT6P.js";import{E as S}from"./eye-off-CyXGH1E1.js";import{E}from"./eye-CQZKzRnz.js";import{A as q}from"./arrow-right-wlmP8Ywg.js";const F=()=>{const n=y(),{isAuthenticated:u,login:b}=N(),[l,p]=t.useState(!1),[x,g]=t.useState(!1),[o,s]=t.useState(""),[d,c]=t.useState(""),[r,f]=t.useState({login:"",password:""});t.useEffect(()=>{u&&(console.log("‚úÖ Already authenticated, redirecting to admin panel"),n("/admin"))},[u,n]);const h=m=>{const{name:a,value:i}=m.target;f(v=>({...v,[a]:i})),o&&s(""),d&&c("")},j=async m=>{if(m.preventDefault(),console.log("üîê Admin login form submitted"),!r.login.trim()){s("Login kiritilishi shart");return}if(!r.password.trim()){s("Parol kiritilishi shart");return}g(!0),s(""),c("");try{console.log("üîÑ Attempting admin login...");const{data:a,error:i}=await A(r.login,r.password);i?(console.log("‚ùå Login failed:",i.message),s(i.message)):a?(console.log("‚úÖ Login successful, redirecting..."),c("Muvaffaqiyatli kirildi! Admin panelga yo'naltirilmoqda..."),b(a),setTimeout(()=>{n("/admin")},1e3)):s("Noma'lum xatolik yuz berdi")}catch(a){console.error("‚ùå Login error:",a),s("Tizimda xatolik yuz berdi. Qaytadan urinib ko'ring.")}finally{g(!1)}};return e.jsx("div",{className:"min-h-screen bg-white dark:bg-gray-50 flex items-center justify-center px-4 relative overflow-hidden",children:e.jsxs("div",{className:"max-w-md w-full space-y-8 relative z-10",children:[e.jsxs("div",{className:"text-center animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-2xl animate-pulse-medical relative",children:e.jsx(w,{size:36,className:"text-white relative z-10"})}),e.jsx("h2",{className:"text-4xl font-bold text-blue-600 mb-3",children:"Admin Panel"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Boshqaruv paneliga kirish"})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl border border-white/20 dark:border-gray-700/50 p-8 animate-zoom-in relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/10 to-transparent rounded-3xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[d&&e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-xl animate-slide-down",children:[e.jsx(z,{size:20,className:"text-green-600 dark:text-green-400"}),e.jsx("span",{className:"text-green-700 dark:text-green-300 text-sm",children:d})]}),o&&e.jsxs("div",{className:"flex items-center space-x-2 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl animate-shake",children:[e.jsx(C,{size:20,className:"text-red-600 dark:text-red-400"}),e.jsx("span",{className:"text-red-700 dark:text-red-300 text-sm",children:o})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Login"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(k,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-200"})}),e.jsx("input",{type:"text",name:"login",value:r.login,onChange:h,required:!0,className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"admin",autoComplete:"username"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Parol"}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(L,{className:"h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors duration-200"})}),e.jsx("input",{type:l?"text":"password",name:"password",value:r.password,onChange:h,required:!0,className:"w-full pl-12 pr-12 py-4 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 transition-all duration-200",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",autoComplete:"current-password"}),e.jsx("button",{type:"button",onClick:()=>p(!l),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-blue-500 transition-colors duration-200",children:l?e.jsx(S,{size:20}):e.jsx(E,{size:20})})]})]}),e.jsx("button",{type:"submit",disabled:x,className:"group relative w-full flex justify-center py-4 px-6 border border-transparent text-base font-semibold rounded-2xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-500/30 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 hover:shadow-xl shadow-lg",children:x?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),e.jsx("span",{children:"Kirilmoqda..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{children:"Admin panelga kirish"}),e.jsx(q,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]})})]}),e.jsx("div",{className:"text-center animate-fade-in delay-300",children:e.jsx("button",{onClick:()=>n("/"),className:"text-gray-500 hover:text-blue-600 transition-colors duration-200 text-sm underline hover:no-underline font-medium",children:"‚Üê Asosiy saytga qaytish"})})]})})};export{F as default};
