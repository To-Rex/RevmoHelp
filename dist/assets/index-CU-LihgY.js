const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/adminCore-BW4NlNf0.js","assets/shared-B5jlibYT.js","assets/doctor-BF9XdP5R.js","assets/publicCore-qNDSeefp.js","assets/adminOther-DTaVH7CY.js","assets/adminUsers-UtVvQYKa.js","assets/adminMedical-DbmcMGTU.js","assets/publicExtended-5VYG6gWS.js"])))=>i.map(i=>d[i]);
import{c8 as ee,r as a,c9 as r,as as te,ca as se,an as J,ao as d,j as e,cb as ae,cc as re,cd as ne,ce as t,ba as oe,aq as Y}from"./adminCore-BW4NlNf0.js";import{u as Z}from"./doctor-BF9XdP5R.js";import{A as ie,u as le}from"./shared-B5jlibYT.js";import"./adminOther-DTaVH7CY.js";import"./publicCore-qNDSeefp.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))x(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&x(c)}).observe(document,{childList:!0,subtree:!0});function l(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function x(n){if(n.ep)return;n.ep=!0;const o=l(n);fetch(n.href,o)}})();var p={},W;function ce(){if(W)return p;W=1;var s=ee();return p.createRoot=s.createRoot,p.hydrateRoot=s.hydrateRoot,p}var me=ce();const xe=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.cf),__vite__mapDeps([0,1,2,3,4]))),_=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.H),__vite__mapDeps([3,0,1,2,4]))),f=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.P),__vite__mapDeps([3,0,1,2,4]))),ue=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.cg),__vite__mapDeps([0,1,2,3,4]))),de=a.lazy(()=>r(()=>import("./adminUsers-UtVvQYKa.js"),__vite__mapDeps([5,0,1,2,3,4]))),he=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.ch),__vite__mapDeps([0,1,2,3,4]))),$=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.ci),__vite__mapDeps([0,1,2,3,4]))),pe=a.lazy(()=>r(()=>import("./adminMedical-DbmcMGTU.js").then(s=>s.D),__vite__mapDeps([6,0,1,2,3,4]))),je=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.cj),__vite__mapDeps([0,1,2,3,4]))),_e=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.ck),__vite__mapDeps([0,1,2,3,4]))),fe=a.lazy(()=>r(()=>import("./adminOther-DTaVH7CY.js").then(s=>s.P),__vite__mapDeps([4,0,1,2,3]))),ge=a.lazy(()=>r(()=>import("./adminMedical-DbmcMGTU.js").then(s=>s.P),__vite__mapDeps([6,0,1,2,3,4]))),Ee=a.lazy(()=>r(()=>import("./adminOther-DTaVH7CY.js").then(s=>s.A),__vite__mapDeps([4,0,1,2,3]))),ye=a.lazy(()=>r(()=>import("./adminMedical-DbmcMGTU.js").then(s=>s.c),__vite__mapDeps([6,0,1,2,3,4]))),g=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.D),__vite__mapDeps([2,0,1,3,4]))),E=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.a),__vite__mapDeps([2,0,1,3,4]))),y=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.Q),__vite__mapDeps([3,0,1,2,4]))),b=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.a),__vite__mapDeps([3,0,1,2,4]))),v=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.A),__vite__mapDeps([3,0,1,2,4]))),P=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.C),__vite__mapDeps([3,0,1,2,4]))),D=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.b),__vite__mapDeps([3,0,1,2,4]))),A=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.L),__vite__mapDeps([3,0,1,2,4]))),R=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.R),__vite__mapDeps([3,0,1,2,4]))),L=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.c),__vite__mapDeps([3,0,1,2,4]))),T=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.d),__vite__mapDeps([3,0,1,2,4]))),I=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.P),__vite__mapDeps([7,0,1,2,3,4,6]))),O=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.D),__vite__mapDeps([7,0,1,2,3,4,6]))),z=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.T),__vite__mapDeps([7,0,1,2,3,4,6]))),V=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.F),__vite__mapDeps([3,0,1,2,4]))),N=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.a),__vite__mapDeps([7,0,1,2,3,4,6]))),S=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.b),__vite__mapDeps([7,0,1,2,3,4,6]))),w=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.c),__vite__mapDeps([7,0,1,2,3,4,6]))),be=a.lazy(()=>r(()=>import("./adminOther-DTaVH7CY.js").then(s=>s.N),__vite__mapDeps([4,0,1,2,3]))),ve=a.lazy(()=>r(()=>import("./adminCore-BW4NlNf0.js").then(s=>s.cl),__vite__mapDeps([0,1,2,3,4]))),k=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.C),__vite__mapDeps([7,0,1,2,3,4,6]))),q=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.b),__vite__mapDeps([2,0,1,3,4]))),C=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.c),__vite__mapDeps([2,0,1,3,4]))),M=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.d),__vite__mapDeps([2,0,1,3,4]))),F=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.e),__vite__mapDeps([2,0,1,3,4]))),u=a.lazy(()=>r(()=>import("./doctor-BF9XdP5R.js").then(s=>s.f),__vite__mapDeps([2,0,1,3,4]))),Pe=a.lazy(()=>r(()=>import("./shared-B5jlibYT.js").then(s=>s.l),__vite__mapDeps([1,0,4,2,3]))),H=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.d),__vite__mapDeps([7,0,1,2,3,4,6]))),Q=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.e),__vite__mapDeps([7,0,1,2,3,4,6]))),U=a.lazy(()=>r(()=>import("./publicCore-qNDSeefp.js").then(s=>s.T),__vite__mapDeps([3,0,1,2,4]))),B=a.lazy(()=>r(()=>import("./publicExtended-5VYG6gWS.js").then(s=>s.f),__vite__mapDeps([7,0,1,2,3,4,6]))),De=({children:s})=>(le(),e.jsx(e.Fragment,{children:s})),Ae=()=>{const{pathname:s}=oe();return a.useLayoutEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[s]),null},Re=()=>{const{user:s}=Z(),[m,l]=a.useState(3),[x,n]=a.useState(!0),[o,c]=a.useState("");return a.useEffect(()=>{(async()=>{try{if(console.log("ðŸ”„ Processing auth callback..."),!J()||!d){console.warn("âš ï¸ Supabase not available during auth callback"),c("Supabase aloqasi mavjud emas. Iltimos keyinroq urinib koâ€˜ring."),n(!1);return}const{data:{session:i},error:h}=await d.auth.getSession();if(h){console.error("âŒ Session error:",h),(h.message?.includes("fetch")||h.message?.includes("Network")||h.message?.includes("network"))&&Y(!1),c("Session yaratishda xatolik"),n(!1);return}if(i?.user){console.log("âœ… Session found:",i.user.email);const{data:G,error:K}=await d.from("profiles").select("*").eq("id",i.user.id).single();if(K&&K.code==="PGRST116"){console.log("ðŸ“ Creating user profile...");const{error:X}=await d.from("profiles").insert({id:i.user.id,full_name:i.user.user_metadata?.full_name||i.user.user_metadata?.name||i.user.email?.split("@")[0]||"User",phone:i.user.user_metadata?.phone,role:i.user.user_metadata?.role||"patient",avatar_url:i.user.user_metadata?.avatar_url||i.user.user_metadata?.picture});X?console.error("âŒ Profile creation error:",X):console.log("âœ… Profile created successfully")}else G&&console.log("âœ… Profile exists:",G.full_name);n(!1)}else console.log("âŒ No session found"),c("Session topilmadi"),n(!1)}catch(i){console.error("âŒ Auth callback error:",i),i instanceof Error&&(i.message?.includes("fetch")||i.message?.includes("network")||i.name==="TypeError")&&(console.log("ðŸš¨ Auth callback network error detected, marking Supabase as unhealthy"),Y()),c("Autentifikatsiya xatoligi"),n(!1)}})()},[]),a.useEffect(()=>{if(!x&&!o){const j=setInterval(()=>{l(i=>i<=1?(clearInterval(j),window.location.href="/",0):i-1)},1e3);return()=>clearInterval(j)}},[x,o]),x?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold theme-text mb-2",children:"Autentifikatsiya..."}),e.jsx("p",{className:"theme-text-secondary",children:"Hisobingiz tayyorlanmoqda..."})]})}):o?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"âŒ"}),e.jsx("h2",{className:"text-xl font-bold theme-text mb-2",children:"Xatolik!"}),e.jsx("p",{className:"theme-text-secondary mb-4",children:o}),e.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Qaytadan urinish"})]})}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-green-500 text-6xl mb-4",children:"âœ…"}),e.jsx("h2",{className:"text-xl font-bold theme-text mb-2",children:"Muvaffaqiyatli!"}),e.jsx("p",{className:"theme-text-secondary mb-4",children:s?`Xush kelibsiz, ${s.full_name}!`:"Tizimga muvaffaqiyatli kirdingiz!"}),e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsxs("p",{className:"theme-text-muted animate-fade-in",children:["Bosh sahifaga yo'naltirilmoqda... (",m,")"]})]})})})};function Le(){const{ready:s}=te(),{loading:m}=Z();return a.useEffect(()=>{se()},[]),a.useEffect(()=>{let l=null;return J()&&d?l=d.auth.onAuthStateChange((n,o)=>{console.log("Auth state changed:",n,o?.user?.email),n==="SIGNED_IN"&&o?console.log("User signed in:",o.user):n==="SIGNED_OUT"?console.log("User signed out"):n==="TOKEN_REFRESHED"&&console.log("Token refreshed")})?.data?.subscription||null:console.warn("Supabase not available: skipping auth state listener"),()=>{l&&l.unsubscribe&&l.unsubscribe()}},[]),!s||m?e.jsx("div",{className:"min-h-screen theme-bg-secondary flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("div",{className:"animate-pulse-slow w-32 h-2 theme-accent-bg opacity-30 rounded mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted animate-fade-in",children:"Yuklanmoqda..."})]})}):e.jsx(ae,{children:e.jsxs(re,{children:[e.jsx(Ae,{}),e.jsx(De,{children:e.jsx(a.Suspense,{fallback:e.jsxs("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Yuklanmoqda..."})]}),children:e.jsxs(ne,{children:[e.jsx(t,{path:"/auth/callback",element:e.jsx(Re,{})}),e.jsx(t,{path:"/admin/login",element:e.jsx(xe,{})}),e.jsxs(t,{path:"/admin",element:e.jsx(ie,{}),children:[e.jsx(t,{index:!0,element:e.jsx(ue,{})}),e.jsx(t,{path:"admins",element:e.jsx(je,{})}),e.jsx(t,{path:"users",element:e.jsx(de,{})}),e.jsx(t,{path:"posts",element:e.jsx(he,{})}),e.jsx(t,{path:"doctors",element:e.jsx(pe,{})}),e.jsx(t,{path:"diseases",element:e.jsx(ye,{})}),e.jsx(t,{path:"posts/create",element:e.jsx($,{})}),e.jsx(t,{path:"posts/edit/:id",element:e.jsx($,{})}),e.jsx(t,{path:"pages",element:e.jsx(_e,{})}),e.jsx(t,{path:"partners",element:e.jsx(fe,{})}),e.jsx(t,{path:"patient-stories",element:e.jsx(ge,{})}),e.jsx(t,{path:"notifications",element:e.jsx(be,{})}),e.jsx(t,{path:"analytics",element:e.jsx(Ee,{})}),e.jsx(t,{path:"settings",element:e.jsx(ve,{})})]}),e.jsxs(t,{path:"/*",element:e.jsx(Pe,{}),children:[e.jsx(t,{path:"",element:e.jsx(_,{})}),e.jsx(t,{path:"posts",element:e.jsx(f,{})}),e.jsx(t,{path:"posts/:slug",element:e.jsx(T,{})}),e.jsx(t,{path:"doctors",element:e.jsx(g,{})}),e.jsx(t,{path:"doctors/:id",element:e.jsx(E,{})}),e.jsx(t,{path:"qa",element:e.jsx(y,{})}),e.jsx(t,{path:"questions/:slug",element:e.jsx(b,{})}),e.jsx(t,{path:"about",element:e.jsx(v,{})}),e.jsx(t,{path:"contact",element:e.jsx(P,{})}),e.jsx(t,{path:"partnership",element:e.jsx(D,{})}),e.jsx(t,{path:"login",element:e.jsx(A,{})}),e.jsx(t,{path:"register",element:e.jsx(R,{})}),e.jsx(t,{path:"consultation",element:e.jsx(k,{})}),e.jsx(t,{path:"profile",element:e.jsx(L,{})}),e.jsx(t,{path:"doctor-registration",element:e.jsx(q,{})}),e.jsx(t,{path:"doctor-dashboard",element:e.jsx(C,{})}),e.jsx(t,{path:"doctor/profile/edit",element:e.jsx(M,{})}),e.jsx(t,{path:"doctor/posts",element:e.jsx(F,{})}),e.jsx(t,{path:"doctor/posts/create",element:e.jsx(u,{})}),e.jsx(t,{path:"doctor/posts/edit/:id",element:e.jsx(u,{})}),e.jsx(t,{path:"privacy",element:e.jsx(I,{})}),e.jsx(t,{path:"data-security",element:e.jsx(O,{})}),e.jsx(t,{path:"terms",element:e.jsx(z,{})}),e.jsx(t,{path:"faq",element:e.jsx(V,{})}),e.jsx(t,{path:"partners/:slug",element:e.jsx(N,{})}),e.jsx(t,{path:"patient-stories",element:e.jsx(S,{})}),e.jsx(t,{path:"patient-stories/:id",element:e.jsx(w,{})}),e.jsx(t,{path:"diseases",element:e.jsx(H,{})}),e.jsx(t,{path:"diseases/:slug",element:e.jsx(Q,{})}),e.jsx(t,{path:"telegram-login",element:e.jsx(U,{})}),e.jsx(t,{path:"telegram-verify",element:e.jsx(B,{})}),e.jsx(t,{path:"ru",element:e.jsx(_,{})}),e.jsx(t,{path:"ru/posts",element:e.jsx(f,{})}),e.jsx(t,{path:"ru/posts/:slug",element:e.jsx(T,{})}),e.jsx(t,{path:"ru/doctors",element:e.jsx(g,{})}),e.jsx(t,{path:"ru/doctors/:id",element:e.jsx(E,{})}),e.jsx(t,{path:"ru/qa",element:e.jsx(y,{})}),e.jsx(t,{path:"ru/questions/:slug",element:e.jsx(b,{})}),e.jsx(t,{path:"ru/about",element:e.jsx(v,{})}),e.jsx(t,{path:"ru/contact",element:e.jsx(P,{})}),e.jsx(t,{path:"ru/partnership",element:e.jsx(D,{})}),e.jsx(t,{path:"ru/login",element:e.jsx(A,{})}),e.jsx(t,{path:"ru/register",element:e.jsx(R,{})}),e.jsx(t,{path:"ru/consultation",element:e.jsx(k,{})}),e.jsx(t,{path:"ru/profile",element:e.jsx(L,{})}),e.jsx(t,{path:"ru/doctor-registration",element:e.jsx(q,{})}),e.jsx(t,{path:"ru/doctor-dashboard",element:e.jsx(C,{})}),e.jsx(t,{path:"ru/doctor/profile/edit",element:e.jsx(M,{})}),e.jsx(t,{path:"ru/doctor/posts",element:e.jsx(F,{})}),e.jsx(t,{path:"ru/doctor/posts/create",element:e.jsx(u,{})}),e.jsx(t,{path:"ru/doctor/posts/edit/:id",element:e.jsx(u,{})}),e.jsx(t,{path:"ru/privacy",element:e.jsx(I,{})}),e.jsx(t,{path:"ru/data-security",element:e.jsx(O,{})}),e.jsx(t,{path:"ru/terms",element:e.jsx(z,{})}),e.jsx(t,{path:"ru/faq",element:e.jsx(V,{})}),e.jsx(t,{path:"ru/partners/:slug",element:e.jsx(N,{})}),e.jsx(t,{path:"ru/patient-stories",element:e.jsx(S,{})}),e.jsx(t,{path:"ru/patient-stories/:id",element:e.jsx(w,{})}),e.jsx(t,{path:"ru/diseases",element:e.jsx(H,{})}),e.jsx(t,{path:"ru/diseases/:slug",element:e.jsx(Q,{})}),e.jsx(t,{path:"ru/telegram-login",element:e.jsx(U,{})}),e.jsx(t,{path:"ru/telegram-verify",element:e.jsx(B,{})}),e.jsx(t,{path:"en",element:e.jsx(_,{})}),e.jsx(t,{path:"en/posts",element:e.jsx(f,{})}),e.jsx(t,{path:"en/posts/:slug",element:e.jsx(T,{})}),e.jsx(t,{path:"en/doctors",element:e.jsx(g,{})}),e.jsx(t,{path:"en/doctors/:id",element:e.jsx(E,{})}),e.jsx(t,{path:"en/qa",element:e.jsx(y,{})}),e.jsx(t,{path:"en/questions/:slug",element:e.jsx(b,{})}),e.jsx(t,{path:"en/about",element:e.jsx(v,{})}),e.jsx(t,{path:"en/contact",element:e.jsx(P,{})}),e.jsx(t,{path:"en/partnership",element:e.jsx(D,{})}),e.jsx(t,{path:"en/login",element:e.jsx(A,{})}),e.jsx(t,{path:"en/register",element:e.jsx(R,{})}),e.jsx(t,{path:"en/consultation",element:e.jsx(k,{})}),e.jsx(t,{path:"en/profile",element:e.jsx(L,{})}),e.jsx(t,{path:"en/doctor-registration",element:e.jsx(q,{})}),e.jsx(t,{path:"en/doctor-dashboard",element:e.jsx(C,{})}),e.jsx(t,{path:"en/doctor/profile/edit",element:e.jsx(M,{})}),e.jsx(t,{path:"en/doctor/posts",element:e.jsx(F,{})}),e.jsx(t,{path:"en/doctor/posts/create",element:e.jsx(u,{})}),e.jsx(t,{path:"en/doctor/posts/edit/:id",element:e.jsx(u,{})}),e.jsx(t,{path:"en/privacy",element:e.jsx(I,{})}),e.jsx(t,{path:"en/data-security",element:e.jsx(O,{})}),e.jsx(t,{path:"en/terms",element:e.jsx(z,{})}),e.jsx(t,{path:"en/faq",element:e.jsx(V,{})}),e.jsx(t,{path:"en/partners/:slug",element:e.jsx(N,{})}),e.jsx(t,{path:"en/patient-stories",element:e.jsx(S,{})}),e.jsx(t,{path:"en/patient-stories/:id",element:e.jsx(w,{})}),e.jsx(t,{path:"en/diseases",element:e.jsx(H,{})}),e.jsx(t,{path:"en/diseases/:slug",element:e.jsx(Q,{})}),e.jsx(t,{path:"en/telegram-login",element:e.jsx(U,{})}),e.jsx(t,{path:"en/telegram-verify",element:e.jsx(B,{})})]})]})})})]})})}me.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(Le,{})}));
