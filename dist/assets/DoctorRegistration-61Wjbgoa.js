import{c as Y,u as X,d as H,r as n,j as e,e as J,U as P,X as y,F as W}from"./index-CL5t8gok.js";import{S as $}from"./SEOHead-D1KLTp6J.js";import{c as Q}from"./doctorProfiles-DzlfYywj.js";import{C as V}from"./check-circle-B-lh5xiC.js";import{A as Z}from"./alert-circle-CZib7xpJ.js";import{U as ee}from"./upload-DoUi0bFA.js";import{A as te}from"./award-bhWuuS4N.js";import{P as _}from"./plus-DBPg9uJE.js";import{G as se}from"./graduation-cap-D2mnzVrD.js";import{L as ae}from"./languages-ZQ1CzCrf.js";import{C as re}from"./clock-wiaMoHKP.js";import{S as ie}from"./save-jVvOV8aA.js";const ye=()=>{const{t:le}=Y(),g=X(),{user:c}=H(),[d,E]=n.useState("uz"),[j,v]=n.useState(!1),[m,l]=n.useState({type:"",text:""}),[x,N]=n.useState(""),[h,k]=n.useState(""),[w,z]=n.useState(null),[a,o]=n.useState({specialization:"",experience_years:0,bio:"",certificates:[],education:[],languages:["uz"],consultation_fee:0,consultation_duration:30,working_hours:{monday:{start:"09:00",end:"17:00",available:!0},tuesday:{start:"09:00",end:"17:00",available:!0},wednesday:{start:"09:00",end:"17:00",available:!0},thursday:{start:"09:00",end:"17:00",available:!0},friday:{start:"09:00",end:"17:00",available:!0},saturday:{start:"09:00",end:"14:00",available:!1},sunday:{start:"09:00",end:"14:00",available:!1}},translations:{ru:{bio:"",specialization:"",education:[]},en:{bio:"",specialization:"",education:[]}}}),A=[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}],D=[{key:"monday",label:"Dushanba"},{key:"tuesday",label:"Seshanba"},{key:"wednesday",label:"Chorshanba"},{key:"thursday",label:"Payshanba"},{key:"friday",label:"Juma"},{key:"saturday",label:"Shanba"},{key:"sunday",label:"Yakshanba"}],R=["Revmatologiya","Ortopediya va travmatologiya","Reabilitatsiya va jismoniy terapiya","Ichki kasalliklar","Kardiologiya","Nevrologiya","Endokrinologiya","Immunologiya","Boshqa"],M=[{code:"uz",label:"O'zbek tili"},{code:"ru",label:"Rus tili"},{code:"en",label:"Ingliz tili"},{code:"tr",label:"Turk tili"},{code:"ar",label:"Arab tili"}],u=t=>{const{name:s,value:r,type:i}=t.target,T=i==="checkbox"?t.target.checked:!1;if(s.includes(".")){const[p,G]=s.split(".");o(q=>({...q,[p]:{...q[p],[G]:i==="checkbox"?T:i==="number"?Number(r):r}}))}else o(p=>({...p,[s]:i==="checkbox"?T:i==="number"?Number(r):r}));m.text&&l({type:"",text:""})},b=t=>{const{name:s,value:r}=t.target;o(i=>({...i,translations:{...i.translations,[d]:{...i.translations[d],[s]:r}}}))},f=(t,s,r)=>{o(i=>({...i,working_hours:{...i.working_hours,[t]:{...i.working_hours[t],[s]:r}}}))},C=()=>{x.trim()&&!a.certificates.includes(x.trim())&&(o(t=>({...t,certificates:[...t.certificates,x.trim()]})),N(""))},B=t=>{o(s=>({...s,certificates:s.certificates.filter(r=>r!==t)}))},S=()=>{h.trim()&&!a.education.includes(h.trim())&&(o(t=>({...t,education:[...t.education,h.trim()]})),k(""))},F=t=>{o(s=>({...s,education:s.education.filter(r=>r!==t)}))},L=t=>{o(s=>({...s,languages:s.languages.includes(t)?s.languages.filter(r=>r!==t):[...s.languages,t]}))},O=t=>{const s=t.target.files?.[0];if(s){if(s.size>5*1024*1024){l({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}o(i=>({...i,avatar:s}));const r=new FileReader;r.onload=()=>z(r.result),r.readAsDataURL(s)}},I=()=>{o(t=>({...t,avatar:void 0})),z(null)},K=()=>a.specialization.trim()?a.experience_years<0?(l({type:"error",text:"Tajriba yillari 0 dan kam bo'lishi mumkin emas"}),!1):a.bio?.trim()?a.certificates.length===0?(l({type:"error",text:"Kamida bitta sertifikat kiritilishi shart"}),!1):a.education.length===0?(l({type:"error",text:"Ta'lim ma'lumotlari kiritilishi shart"}),!1):!0:(l({type:"error",text:"Bio ma'lumot kiritilishi shart"}),!1):(l({type:"error",text:"Mutaxassislik kiritilishi shart"}),!1),U=async t=>{if(t.preventDefault(),!c){l({type:"error",text:"Foydalanuvchi autentifikatsiya qilinmagan"});return}if(K()){v(!0),l({type:"",text:""});try{const{data:s,error:r}=await Q(c.id,a);r?l({type:"error",text:"Xatolik: "+r.message}):(l({type:"success",text:"Shifokor profili muvaffaqiyatli yaratildi! Admin tasdiqlashini kuting."}),setTimeout(()=>{g("/profile")},2e3))}catch{l({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{v(!1)}}};return c?e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx($,{title:"Shifokor Profili Yaratish",description:"Shifokor sifatida professional profil yarating va bemorlar bilan bog'laning.",keywords:"shifokor profili, tibbiy mutaxassis, revmatolog",url:"https://revmohelp.uz/doctor-registration"}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 rounded-full px-4 py-2 mb-6",children:[e.jsx(J,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-blue-800 text-sm font-medium",children:"Doctor Registration"})]}),e.jsxs("h1",{className:"text-4xl font-bold theme-text mb-4",children:["Shifokor ",e.jsx("span",{className:"text-primary-500",children:"Profili"})," Yaratish"]}),e.jsx("p",{className:"text-xl theme-text-secondary max-w-2xl mx-auto",children:"Professional shifokor profili yarating va bemorlar bilan bog'laning. Profilingiz admin tomonidan tasdiqlanganidan so'ng faol bo'ladi."})]}),m.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${m.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[m.type==="success"?e.jsx(V,{size:20,className:"text-green-600"}):e.jsx(Z,{size:20,className:"text-red-600"}),e.jsx("span",{className:m.type==="success"?"text-green-700":"text-red-700",children:m.text})]}),e.jsxs("form",{onSubmit:U,className:"space-y-8",children:[e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(P,{size:24,className:"text-blue-600"}),e.jsx("span",{children:"Asosiy Ma'lumotlar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"To'liq ism (o'zgartirib bo'lmaydi)"}),e.jsx("input",{type:"text",value:c.full_name,disabled:!0,className:"w-full px-4 py-3 theme-border border rounded-lg theme-bg theme-text opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Email (o'zgartirib bo'lmaydi)"}),e.jsx("input",{type:"email",value:c.email,disabled:!0,className:"w-full px-4 py-3 theme-border border rounded-lg theme-bg theme-text opacity-60"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Telefon raqami"}),e.jsx("input",{type:"tel",name:"phone",value:c.phone||"",onChange:u,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"+998 90 123 45 67"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Profil rasmi"}),w?e.jsxs("div",{className:"relative inline-block",children:[e.jsx("img",{src:w,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"}),e.jsx("button",{type:"button",onClick:I,className:"absolute -top-2 -right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(y,{size:16})})]}):e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24 h-24 theme-bg-tertiary rounded-full flex items-center justify-center border-2 theme-border border-dashed",children:e.jsx(P,{size:32,className:"theme-text-muted"})}),e.jsxs("label",{className:"cursor-pointer inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Rasm yuklash"}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:O})]})]}),e.jsx("p",{className:"text-xs theme-text-muted mt-2",children:"PNG, JPG, WEBP (max 5MB). Profil rasmingiz shifokorlar sahifasida ko'rsatiladi."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik *"}),e.jsxs("select",{name:"specialization",value:a.specialization,onChange:u,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",children:[e.jsx("option",{value:"",children:"Mutaxassislikni tanlang"}),R.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Tajriba (yil) *"}),e.jsx("input",{type:"number",name:"experience_years",value:a.experience_years,onChange:u,required:!0,min:"0",max:"50",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Konsultatsiya narxi (so'm)"}),e.jsx("input",{type:"number",name:"consultation_fee",value:a.consultation_fee,onChange:u,min:"0",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"0 (bepul konsultatsiya)"})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text flex items-center space-x-2",children:[e.jsx(W,{size:24,className:"text-green-600"}),e.jsx("span",{children:"Bio va Tarjimalar"})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:A.map(t=>e.jsxs("button",{type:"button",onClick:()=>E(t.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${d===t.code?"bg-white theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:t.flag}),e.jsx("span",{children:t.label})]},t.code))})]}),d==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Mutaxassislik (O'zbek) *"}),e.jsx("input",{type:"text",name:"specialization",value:a.specialization,onChange:u,required:!0,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"Masalan: Revmatologiya"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (O'zbek) *"}),e.jsx("textarea",{name:"bio",value:a.bio,onChange:u,required:!0,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"O'zingiz haqingizda batafsil yozing..."})]})]}),d==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð¡Ð¿ÐµÑ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("input",{type:"text",name:"specialization",value:a.translations?.ru.specialization||"",onChange:b,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"ÐÐ°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: Ð ÐµÐ²Ð¼Ð°Ñ‚Ð¾Ð»Ð¾Ð³Ð¸Ñ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Ð‘Ð¸Ð¾ (Ð ÑƒÑÑÐºÐ¸Ð¹)"}),e.jsx("textarea",{name:"bio",value:a.translations?.ru.bio||"",onChange:b,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ð¾ Ñ€Ð°ÑÑÐºÐ°Ð¶Ð¸Ñ‚Ðµ Ð¾ ÑÐµÐ±Ðµ..."})]})]}),d==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Specialization (English)"}),e.jsx("input",{type:"text",name:"specialization",value:a.translations?.en.specialization||"",onChange:b,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text",placeholder:"e.g., Rheumatology"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Bio (English)"}),e.jsx("textarea",{name:"bio",value:a.translations?.en.bio||"",onChange:b,rows:4,className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text resize-none",placeholder:"Tell us about yourself in detail..."})]})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(te,{size:24,className:"text-purple-600"}),e.jsx("span",{children:"Sertifikatlar va Diplomlar"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Sertifikat yoki diplom qo'shish",value:x,onChange:t=>N(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),C()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("button",{type:"button",onClick:C,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.certificates.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 text-purple-800 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"flex-1",children:t}),e.jsx("button",{type:"button",onClick:()=>B(t),className:"text-purple-600 hover:text-purple-800 ml-2",children:e.jsx(y,{size:16})})]},s))})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(se,{size:24,className:"text-orange-600"}),e.jsx("span",{children:"Ta'lim"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ta'lim muassasasi yoki kurs qo'shish",value:h,onChange:t=>k(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),S()),className:"flex-1 px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("button",{type:"button",onClick:S,className:"px-4 py-3 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(_,{size:20})})]}),e.jsx("div",{className:"grid grid-cols-1 gap-3",children:a.education.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 text-orange-800 rounded-lg border border-orange-200",children:[e.jsx("span",{className:"flex-1",children:t}),e.jsx("button",{type:"button",onClick:()=>F(t),className:"text-orange-600 hover:text-orange-800 ml-2",children:e.jsx(y,{size:16})})]},s))})]})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(ae,{size:24,className:"text-teal-600"}),e.jsx("span",{children:"Tillar"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:M.map(t=>e.jsxs("label",{className:"flex items-center space-x-3 p-4 theme-bg-secondary rounded-lg cursor-pointer hover:theme-shadow-md transition-all duration-200",children:[e.jsx("input",{type:"checkbox",checked:a.languages.includes(t.code),onChange:()=>L(t.code),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium theme-text",children:t.label})]},t.code))})]}),e.jsxs("div",{className:"theme-bg rounded-2xl theme-shadow-lg theme-border border p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold theme-text mb-6 flex items-center space-x-2",children:[e.jsx(re,{size:24,className:"text-indigo-600"}),e.jsx("span",{children:"Ish Vaqti"})]}),e.jsx("div",{className:"space-y-4",children:D.map(t=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 theme-bg-secondary rounded-lg",children:[e.jsx("div",{className:"w-24",children:e.jsx("span",{className:"text-sm font-medium theme-text",children:t.label})}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:a.working_hours?.[t.key]?.available||!1,onChange:s=>f(t.key,"available",s.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm theme-text-secondary",children:"Mavjud"})]}),a.working_hours?.[t.key]?.available&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:a.working_hours[t.key].start,onChange:s=>f(t.key,"start",s.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"dan"}),e.jsx("input",{type:"time",value:a.working_hours[t.key].end,onChange:s=>f(t.key,"end",s.target.value),className:"px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 theme-bg theme-text"}),e.jsx("span",{className:"theme-text-secondary",children:"gacha"})]})]},t.key))})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>g("/profile"),className:"px-8 py-4 theme-border border theme-text-secondary rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:"Bekor qilish"}),e.jsxs("button",{type:"submit",disabled:j,className:"px-8 py-4 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 flex items-center space-x-2",children:[e.jsx(ie,{size:20}),e.jsx("span",{children:j?"Saqlanmoqda...":"Profil Yaratish"})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Shifokor profili yaratish uchun tizimga kirishingiz kerak."}),e.jsx("button",{onClick:()=>g("/login"),className:"theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Tizimga kirish"})]})})};export{ye as default};
