import{c as Y,u as O,d as $,x as D,r as c,k as K,y as Q,j as e,L as F,F as V,X as z,v as X,z as G,B as f}from"./index-CaEN0LVA.js";import{S as H}from"./SEOHead-Cja2CTz6.js";import{A as J}from"./arrow-left-S3nn1Qb0.js";import{E as W}from"./eye-Du4Ich3T.js";import{S as q}from"./save-CCdDHFjQ.js";import{C as Z}from"./check-circle--lu5k8Gk.js";import{A as ee}from"./alert-circle-gwVqmrXV.js";import{I as te}from"./image-l7_LsbxM.js";import{V as se}from"./video-D8vvuGxZ.js";import{U as ae}from"./upload-CuuLaBM2.js";import{P as re}from"./plus-BjSJaAB3.js";const pe=()=>{const{t:le}=Y(),C=O(),{user:j}=$(),{id:m}=D(),i=!!m,[M,S]=c.useState([]),[l,T]=c.useState("uz"),[b,y]=c.useState(""),[v,g]=c.useState(null),[p,N]=c.useState(!1),[E,w]=c.useState(i),[h,n]=c.useState({type:"",text:""}),[s,u]=c.useState({title:"",slug:"",meta_title:"",meta_description:"",category_id:"",tags:[],post_type:"text",content:"",excerpt:"",published:!1,translations:{ru:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""},en:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}}});c.useEffect(()=>{R(),i&&U()},[i,m]);const R=async()=>{try{const{data:t}=await K();t&&S(t)}catch(t){console.error("Error loading categories:",t)}},U=async()=>{if(m){w(!0);try{const{data:t}=await Q(m);t&&(u({title:t.title,slug:t.slug,meta_title:t.meta_title||"",meta_description:t.meta_description||"",category_id:t.category_id||"",tags:t.tags||[],post_type:t.youtube_url?"video":t.featured_image_url?"image":"text",youtube_url:t.youtube_url||"",content:t.content,excerpt:t.excerpt,published:t.published,translations:{ru:(()=>{const a=t.translations?.find(r=>r.language==="ru");return a?{title:a.title||"",content:a.content||"",excerpt:a.excerpt||"",meta_title:a.meta_title||"",meta_description:a.meta_description||"",slug:a.slug||""}:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}})(),en:(()=>{const a=t.translations?.find(r=>r.language==="en");return a?{title:a.title||"",content:a.content||"",excerpt:a.excerpt||"",meta_title:a.meta_title||"",meta_description:a.meta_description||"",slug:a.slug||""}:{title:"",content:"",excerpt:"",meta_title:"",meta_description:"",slug:""}})()}}),t.featured_image_url&&g(t.featured_image_url))}catch(t){console.error("Error loading post:",t),n({type:"error",text:"Maqolani yuklashda xatolik yuz berdi"})}finally{w(!1)}}};c.useEffect(()=>{if(s.title&&!i){const t=s.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim();u(a=>({...a,slug:t}))}},[s.title,i]),c.useEffect(()=>{if(s.content&&!s.excerpt&&l==="uz"){const t=s.content.replace(/[#*`]/g,"").substring(0,200).trim()+"...";u(a=>({...a,excerpt:t}))}},[s.content,l]);const o=(t,a)=>{u(r=>({...r,[t]:a})),h.text&&n({type:"",text:""})},d=t=>{const{name:a,value:r}=t.target;u(x=>({...x,translations:{...x.translations,[l]:{...x.translations[l],[a]:r}}}))},L=t=>{const a=t.target.files?.[0];if(a){if(a.size>5*1024*1024){n({type:"error",text:"Rasm hajmi 5MB dan kichik bo'lishi kerak"});return}u(x=>({...x,featured_image:a}));const r=new FileReader;r.onload=()=>g(r.result),r.readAsDataURL(a)}},P=()=>{u(t=>({...t,featured_image:void 0})),g(null)},_=()=>{b.trim()&&!s.tags.includes(b.trim())&&(u(t=>({...t,tags:[...t.tags,b.trim()]})),y(""))},A=t=>{u(a=>({...a,tags:a.tags.filter(r=>r!==t)}))},B=async()=>{if(!s.title.trim())return n({type:"error",text:"Sarlavha kiritilishi shart"}),!1;if(!s.content.trim())return n({type:"error",text:"Maqola matni kiritilishi shart"}),!1;if(!s.category_id)return n({type:"error",text:"Kategoriya tanlanishi shart"}),!1;if(s.post_type==="video"&&!s.youtube_url)return n({type:"error",text:"Video turi uchun YouTube URL kiritilishi shart"}),!1;const{isUnique:t}=await f(s.slug,"uz",i?m:void 0);if(!t)return n({type:"error",text:"Bu URL (slug) allaqachon mavjud. Boshqa sarlavha yozing yoki URL ni o'zgartiring."}),!1;if(s.translations.ru.slug){const{isUnique:a}=await f(s.translations.ru.slug,"ru",i?m:void 0);if(!a)return n({type:"error",text:"Rus tilidagi URL (slug) allaqachon mavjud."}),!1}if(s.translations.en.slug){const{isUnique:a}=await f(s.translations.en.slug,"en",i?m:void 0);if(!a)return n({type:"error",text:"Ingliz tilidagi URL (slug) allaqachon mavjud."}),!1}return!0},k=async(t=!1)=>{if(await B()){N(!0),n({type:"",text:""});try{const a={title:s.title,content:s.content,excerpt:s.excerpt||s.content.substring(0,200)+"...",slug:s.slug,featured_image:s.featured_image,youtube_url:s.youtube_url,category_id:s.category_id,tags:s.tags,meta_title:s.meta_title||s.title,meta_description:s.meta_description||s.excerpt,published:!t,translations:s.translations};let r;i?r=await X({id:m,...a}):r=await G(a),r.error?n({type:"error",text:"Xatolik: "+r.error.message}):(n({type:"success",text:i?"Maqola muvaffaqiyatli yangilandi!":t?"Qoralama saqlandi!":"Maqola nashr etildi!"}),setTimeout(()=>{C("/doctor/posts")},1500))}catch{n({type:"error",text:"Xatolik yuz berdi. Qaytadan urinib ko'ring."})}finally{N(!1)}}},I=()=>{s.slug&&window.open(`/posts/${s.slug}`,"_blank")};return j?j.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Ruxsat Yo'q"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Bu sahifa faqat shifokorlar uchun."})]})}):E?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:"Maqola yuklanmoqda..."})]})}):e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(H,{title:i?"Maqolani Tahrirlash":"Yangi Maqola Yaratish",description:"Shifokor uchun maqola yaratish va tahrirlash",keywords:"maqola yaratish, tibbiy yozuv, shifokor",url:`https://revmohelp.uz/doctor/posts/${i?"edit/"+m:"create"}`}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(F,{to:"/doctor/posts",className:"p-2 theme-text-secondary hover:theme-text rounded-lg hover:theme-bg-tertiary transition-colors duration-200",children:e.jsx(J,{size:20})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold theme-text",children:i?"Maqolani Tahrirlash":"Yangi Maqola Yaratish"}),e.jsx("p",{className:"theme-text-secondary",children:i?"Mavjud maqolani tahrirlang":"Yangi tibbiy maqola yozing"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:I,disabled:!s.slug,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50",children:[e.jsx(W,{size:16}),e.jsx("span",{children:"Ko'rish"})]}),e.jsxs("button",{onClick:()=>k(!0),disabled:p,className:"flex items-center space-x-2 theme-border border theme-text-secondary px-4 py-2 rounded-lg hover:theme-bg-tertiary transition-colors duration-200 disabled:opacity-50",children:[e.jsx(q,{size:16}),e.jsx("span",{children:"Qoralama"})]}),e.jsxs("button",{onClick:()=>k(!1),disabled:p,className:"flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50",children:[e.jsx(q,{size:16}),e.jsx("span",{children:p?"Saqlanmoqda...":"Nashr etish"})]})]})]}),h.text&&e.jsxs("div",{className:`mb-6 p-4 rounded-xl flex items-center space-x-2 animate-slide-down ${h.type==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[h.type==="success"?e.jsx(Z,{size:20,className:"text-green-600"}):e.jsx(ee,{size:20,className:"text-red-600"}),e.jsx("span",{className:h.type==="success"?"text-green-700":"text-red-700",children:h.text})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"xl:col-span-3 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Maqola Sarlavhasi"}),e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasini kiriting",value:s.title,onChange:t=>o("title",t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text text-lg font-medium"})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmoinfo.uz/posts/"}),e.jsx("input",{type:"text",value:s.slug,onChange:t=>o("slug",t.target.value),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Maqola Turi"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[{type:"text",icon:V,label:"Matn Maqolasi"},{type:"image",icon:te,label:"Rasm Maqolasi"},{type:"video",icon:se,label:"Video Maqolasi"}].map(({type:t,icon:a,label:r})=>e.jsxs("button",{type:"button",onClick:()=>o("post_type",t),className:`p-4 border-2 rounded-lg transition-all duration-200 ${s.post_type===t?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"theme-border hover:border-gray-300 dark:hover:border-gray-500 theme-text-secondary"}`,children:[e.jsx(a,{size:24,className:"mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-medium",children:r})]},t))})]}),(s.post_type==="image"||s.post_type==="video")&&e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6 animate-fade-in",children:[s.post_type==="image"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:"Asosiy Rasm"}),v?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:P,className:"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors duration-200",children:e.jsx(z,{size:16})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-48 border-2 theme-border border-dashed rounded-lg cursor-pointer bg-white hover:bg-gray-50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(ae,{className:"w-8 h-8 mb-4 theme-text-muted"}),e.jsxs("p",{className:"mb-2 text-sm theme-text-secondary",children:[e.jsx("span",{className:"font-semibold",children:"Yuklash uchun bosing"})," yoki sudrab tashlang"]}),e.jsx("p",{className:"text-xs theme-text-muted",children:"PNG, JPG, WEBP (max 5MB)"})]}),e.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:L})]})]}),s.post_type==="video"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"YouTube Video URL"}),e.jsx("input",{type:"url",placeholder:"https://www.youtube.com/watch?v=...",value:s.youtube_url||"",onChange:t=>o("youtube_url",t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary",children:"Maqola Matni"}),e.jsx("div",{className:"flex space-x-1 bg-white theme-border border rounded-lg p-1",children:[{code:"uz",label:"O'zbek",flag:"ðŸ‡ºðŸ‡¿"},{code:"ru",label:"Ð ÑƒÑÑÐºÐ¸Ð¹",flag:"ðŸ‡·ðŸ‡º"},{code:"en",label:"English",flag:"ðŸ‡ºðŸ‡¸"}].map(t=>e.jsxs("button",{type:"button",onClick:()=>T(t.code),className:`px-3 py-2 text-sm font-medium rounded-md transition-all duration-200 flex items-center space-x-2 ${l===t.code?"bg-blue-50 dark:bg-blue-900/20 theme-text shadow-sm":"theme-text-secondary hover:theme-text"}`,children:[e.jsx("span",{children:t.flag}),e.jsx("span",{children:t.label})]},t.code))})]}),l==="uz"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Maqola sarlavhasi (O'zbek)",value:s.title,onChange:t=>o("title",t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Tibbiy maqola matnini shu yerga yozing... (O'zbek tilida)",value:s.content,onChange:t=>o("content",t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[s.content.length," belgi"]})]}),l==="ru"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº ÑÑ‚Ð°Ñ‚ÑŒÐ¸ (Ð ÑƒÑÑÐºÐ¸Ð¹)",value:s.translations.ru.title,onChange:d,name:"title",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Ð¢ÐµÐºÑÑ‚ Ð¼ÐµÐ´Ð¸Ñ†Ð¸Ð½ÑÐºÐ¾Ð¹ ÑÑ‚Ð°Ñ‚ÑŒÐ¸... (Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ)",value:s.translations.ru.content,onChange:d,name:"content",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[s.translations.ru.content.length," ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),l==="en"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Article title (English)",value:s.translations.en.title,onChange:d,name:"title",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text font-semibold"}),e.jsx("textarea",{rows:12,placeholder:"Medical article content... (in English)",value:s.translations.en.content,onChange:d,name:"content",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"text-sm theme-text-muted",children:[s.translations.en.content.length," characters"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("label",{className:"block text-sm font-medium theme-text-secondary mb-4",children:["Qisqacha Mazmun (",l==="uz"?"O'zbek":l==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),l==="uz"&&e.jsx("textarea",{rows:3,placeholder:"Maqolaning qisqacha mazmuni (avtomatik yaratiladi)",value:s.excerpt,onChange:t=>o("excerpt",t.target.value),className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),l==="ru"&&e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ðµ ÑÑ‚Ð°Ñ‚ÑŒÐ¸",value:s.translations.ru.excerpt,onChange:d,name:"excerpt",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),l==="en"&&e.jsx("textarea",{rows:3,placeholder:"Article excerpt",value:s.translations.en.excerpt,onChange:d,name:"excerpt",className:"w-full px-4 py-3 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold theme-text mb-4",children:["SEO Sozlamalari (",l==="uz"?"O'zbek":l==="ru"?"Ð ÑƒÑÑÐºÐ¸Ð¹":"English",")"]}),l==="uz"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Sarlavha"}),e.jsx("input",{type:"text",placeholder:"Qidiruv tizimlari uchun sarlavha",value:s.meta_title,onChange:t=>o("meta_title",t.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.meta_title.length,"/60 belgi"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Tavsif"}),e.jsx("textarea",{rows:3,placeholder:"Qidiruv tizimlari uchun qisqacha tavsif",value:s.meta_description,onChange:t=>o("meta_description",t.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.meta_description.length,"/160 belgi"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmoinfo.uz/posts/"}),e.jsx("input",{type:"text",value:s.slug,onChange:t=>o("slug",t.target.value),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]}),l==="ru"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Ð·Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº"}),e.jsx("input",{type:"text",placeholder:"Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼",value:s.translations.ru.meta_title,onChange:d,name:"meta_title",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.translations.ru.meta_title.length,"/60 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ"}),e.jsx("textarea",{rows:3,placeholder:"ÐšÑ€Ð°Ñ‚ÐºÐ¾Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ¾Ð²Ñ‹Ñ… ÑÐ¸ÑÑ‚ÐµÐ¼",value:s.translations.ru.meta_description,onChange:d,name:"meta_description",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.translations.ru.meta_description.length,"/160 ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmohelp.uz/ru/posts/"}),e.jsx("input",{type:"text",value:s.translations.ru.slug,onChange:d,name:"slug",className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]}),l==="en"&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Title"}),e.jsx("input",{type:"text",placeholder:"Title for search engines",value:s.translations.en.meta_title,onChange:d,name:"meta_title",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.translations.en.meta_title.length,"/60 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"Meta Description"}),e.jsx("textarea",{rows:3,placeholder:"Brief description for search engines",value:s.translations.en.meta_description,onChange:d,name:"meta_description",className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text resize-none"}),e.jsxs("div",{className:"mt-1 text-xs theme-text-muted",children:[s.translations.en.meta_description.length,"/160 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-2",children:"URL Slug"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"theme-text-muted text-sm",children:"revmohelp.uz/en/posts/"}),e.jsx("input",{type:"text",value:s.translations.en.slug,onChange:d,name:"slug",className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Tarjima Holati"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¿"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"O'zbek"}),e.jsx("div",{className:`text-xs mt-1 ${s.title&&s.content?"text-green-600":"theme-text-muted"}`,children:s.title&&s.content?"Tayyor":"To'ldirilmagan"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡·ðŸ‡º"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"Ð ÑƒÑÑÐºÐ¸Ð¹"}),e.jsx("div",{className:`text-xs mt-1 ${s.translations.ru.title&&s.translations.ru.content?"text-green-600":"theme-text-muted"}`,children:s.translations.ru.title&&s.translations.ru.content?"Ð“Ð¾Ñ‚Ð¾Ð²Ð¾":"ÐÐµ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¾"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl theme-border border",children:[e.jsx("div",{className:"text-2xl mb-2",children:"ðŸ‡ºðŸ‡¸"}),e.jsx("div",{className:"text-sm font-medium theme-text",children:"English"}),e.jsx("div",{className:`text-xs mt-1 ${s.translations.en.title&&s.translations.en.content?"text-green-600":"theme-text-muted"}`,children:s.translations.en.title&&s.translations.en.content?"Ready":"Not filled"})]})]})]})]}),e.jsxs("div",{className:"xl:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold theme-text mb-4",children:"Nashr Sozlamalari"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",checked:s.published,onChange:t=>o("published",t.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium theme-text-secondary",children:"Darhol nashr etish"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Kategoriya"}),e.jsxs("select",{value:s.category_id,onChange:t=>o("category_id",t.target.value),className:"w-full px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text",children:[e.jsx("option",{value:"",children:"Kategoriya tanlang"}),M.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"bg-white rounded-lg theme-shadow theme-border border p-6",children:[e.jsx("label",{className:"block text-sm font-medium theme-text-secondary mb-3",children:"Teglar"}),e.jsxs("div",{className:"flex space-x-2 mb-3",children:[e.jsx("input",{type:"text",placeholder:"Teg qo'shish",value:b,onChange:t=>y(t.target.value),onKeyPress:t=>t.key==="Enter"&&(t.preventDefault(),_()),className:"flex-1 px-3 py-2 theme-border border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 bg-white theme-text"}),e.jsx("button",{type:"button",onClick:_,className:"px-3 py-2 theme-accent-bg text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:e.jsx(re,{size:16})})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map(t=>e.jsxs("span",{className:"inline-flex items-center space-x-1 px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm rounded-full",children:[e.jsx("span",{children:t}),e.jsx("button",{type:"button",onClick:()=>A(t),className:"theme-accent hover:text-blue-800 dark:hover:text-blue-200",children:e.jsx(z,{size:12})})]},t))})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:"Kirish Talab Etiladi"}),e.jsx("p",{className:"theme-text-secondary mb-6",children:"Maqola yaratish uchun tizimga kirishingiz kerak."})]})})};export{pe as default};
