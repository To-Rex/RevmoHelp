import{c as y,u as j,r as h,j as e}from"./index-BLGelJha.js";import{S as v}from"./SEOHead-DRQDryq-.js";import{A as N}from"./arrow-right-wlmP8Ywg.js";import{A as w}from"./arrow-left-DBncEDfI.js";const x=[{name:"Algeria",code:"DZ",dialCode:"+213"},{name:"Argentina",code:"AR",dialCode:"+54"},{name:"Australia",code:"AU",dialCode:"+61"},{name:"Austria",code:"AT",dialCode:"+43"},{name:"Bangladesh",code:"BD",dialCode:"+880"},{name:"Belarus",code:"BY",dialCode:"+375"},{name:"Belgium",code:"BE",dialCode:"+32"},{name:"Bolivia",code:"BO",dialCode:"+591"},{name:"Brazil",code:"BR",dialCode:"+55"},{name:"Cambodia",code:"KH",dialCode:"+855"},{name:"Canada",code:"CA",dialCode:"+1"},{name:"Chile",code:"CL",dialCode:"+56"},{name:"China",code:"CN",dialCode:"+86"},{name:"Colombia",code:"CO",dialCode:"+57"},{name:"Costa Rica",code:"CR",dialCode:"+506"},{name:"Denmark",code:"DK",dialCode:"+45"},{name:"Ecuador",code:"EC",dialCode:"+593"},{name:"Egypt",code:"EG",dialCode:"+20"},{name:"Ethiopia",code:"ET",dialCode:"+251"},{name:"Fiji",code:"FJ",dialCode:"+679"},{name:"Finland",code:"FI",dialCode:"+358"},{name:"France",code:"FR",dialCode:"+33"},{name:"Germany",code:"DE",dialCode:"+49"},{name:"Ghana",code:"GH",dialCode:"+233"},{name:"Guatemala",code:"GT",dialCode:"+502"},{name:"Hong Kong",code:"HK",dialCode:"+852"},{name:"India",code:"IN",dialCode:"+91"},{name:"Indonesia",code:"ID",dialCode:"+62"},{name:"Iran",code:"IR",dialCode:"+98"},{name:"Ireland",code:"IE",dialCode:"+353"},{name:"Israel",code:"IL",dialCode:"+972"},{name:"Italy",code:"IT",dialCode:"+39"},{name:"Ivory Coast",code:"CI",dialCode:"+225"},{name:"Jamaica",code:"JM",dialCode:"+1"},{name:"Japan",code:"JP",dialCode:"+81"},{name:"Jordan",code:"JO",dialCode:"+962"},{name:"Kazakhstan",code:"KZ",dialCode:"+7"},{name:"Kyrgyzstan",code:"KG",dialCode:"+996"},{name:"Tajikistan",code:"TJ",dialCode:"+992"},{name:"Turkmenistan",code:"TM",dialCode:"+993"},{name:"Kenya",code:"KE",dialCode:"+254"},{name:"Malaysia",code:"MY",dialCode:"+60"},{name:"Mexico",code:"MX",dialCode:"+52"},{name:"Morocco",code:"MA",dialCode:"+212"},{name:"Nepal",code:"NP",dialCode:"+977"},{name:"Netherlands",code:"NL",dialCode:"+31"},{name:"New Zealand",code:"NZ",dialCode:"+64"},{name:"Nigeria",code:"NG",dialCode:"+234"},{name:"Norway",code:"NO",dialCode:"+47"},{name:"Pakistan",code:"PK",dialCode:"+92"},{name:"Panama",code:"PA",dialCode:"+507"},{name:"Papua New Guinea",code:"PG",dialCode:"+675"},{name:"Peru",code:"PE",dialCode:"+51"},{name:"Philippines",code:"PH",dialCode:"+63"},{name:"Poland",code:"PL",dialCode:"+48"},{name:"Portugal",code:"PT",dialCode:"+351"},{name:"Russia",code:"RU",dialCode:"+7"},{name:"Saudi Arabia",code:"SA",dialCode:"+966"},{name:"Singapore",code:"SG",dialCode:"+65"},{name:"South Africa",code:"ZA",dialCode:"+27"},{name:"South Korea",code:"KR",dialCode:"+82"},{name:"Spain",code:"ES",dialCode:"+34"},{name:"Sri Lanka",code:"LK",dialCode:"+94"},{name:"Sweden",code:"SE",dialCode:"+46"},{name:"Switzerland",code:"CH",dialCode:"+41"},{name:"Taiwan",code:"TW",dialCode:"+886"},{name:"Tanzania",code:"TZ",dialCode:"+255"},{name:"Thailand",code:"TH",dialCode:"+66"},{name:"Tunisia",code:"TN",dialCode:"+216"},{name:"Turkey",code:"TR",dialCode:"+90"},{name:"UAE",code:"AE",dialCode:"+971"},{name:"Uganda",code:"UG",dialCode:"+256"},{name:"Ukraine",code:"UA",dialCode:"+380"},{name:"United Kingdom",code:"GB",dialCode:"+44"},{name:"United States",code:"US",dialCode:"+1"},{name:"Uruguay",code:"UY",dialCode:"+598"},{name:"Uzbekistan",code:"UZ",dialCode:"+998"},{name:"Venezuela",code:"VE",dialCode:"+58"},{name:"Vietnam",code:"VN",dialCode:"+84"}],L=d=>{const s=d.replace(/\D/g,"");let r="";for(let o=0;o<s.length&&o<9;o++)(o===2||o===5||o===7)&&(r+=" "),r+=s[o];return r},k=d=>d.replace(/\D/g,"").replace(/(\d{3})(?=\d)/g,"$1 "),E=()=>{const{t:d}=y(),s=j(),[r,o]=h.useState("+998"),[C,u]=h.useState("+998"),p=i=>{let a=i.target.value.replace(/[^+\d]/g,"");a.includes("+")?a.indexOf("+")>0?a="+"+a.replace(/\+/g,""):a="+"+a.slice(1).replace(/\+/g,""):a=a.replace(/\+/g,"");let l=a;if(a.trim()===""){o(""),u("");return}if(a.startsWith("+")){const n=x.find(c=>a.startsWith(c.dialCode));if(n){o(n.dialCode);const c=n.dialCode,g=a.slice(c.length);let m="";c==="+998"?m=L(g):m=k(g),l=c+(m?" "+m:"")}}u(l)},b=i=>{const t=i.target.value;o(t),u(t)},f=async i=>{i.preventDefault();const t=C.replace(/\s/g,"");let a=t;t.startsWith("+")||(a=r+t);try{const l=await fetch("https://revmohelp.up.railway.app/auth/phone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:a})}),n=await l.json();console.log("Response status:",l.status,l.statusText),console.log("Response data:",n),l.ok&&n.session_id&&n.telegram_url?s("/telegram-verify",{state:{session_id:n.session_id,telegram_url:n.telegram_url,phone:a}}):alert("Error: "+(n.message||"Unknown error"))}catch(l){console.error("Error during login:",l),alert("An error occurred. Please try again.")}};return e.jsxs("div",{className:"min-h-screen theme-bg relative overflow-hidden",children:[e.jsx(v,{title:"Telegram Login",description:"Login with your Telegram account",keywords:"telegram, login, authentication",url:"https://revmohelp.uz/telegram-login"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 theme-bg"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-primary-100 opacity-20 rounded-full blur-3xl animate-float"}),e.jsx("div",{className:"absolute -bottom-40 -left-40 w-96 h-96 bg-primary-200 opacity-15 rounded-full blur-3xl animate-float",style:{animationDelay:"2s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-green-200 opacity-10 rounded-full blur-2xl animate-pulse-slow"}),e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, var(--accent-primary) 1px, transparent 0)",backgroundSize:"40px 40px"}})})]})]}),e.jsxs("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"max-w-sm w-full",children:e.jsxs("div",{className:"bg-white rounded-3xl theme-shadow-lg theme-border border p-6 animate-zoom-in delay-200",style:{boxShadow:"0 -2px 4px -1px rgba(0, 0, 0, 0.03), 0 -6px 8px -2px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05), 0 10px 15px -3px rgba(0, 0, 0, 0.1)"},children:[e.jsxs("div",{className:"text-center animate-fade-in mb-6",children:[e.jsx("div",{className:"flex flex-col items-center space-y-3 mb-6",children:e.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-xl flex items-center justify-center animate-pulse-medical",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[e.jsx("path",{d:"M22 2L11 13",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M22 2L15 22L11 13L2 9L22 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),e.jsx("h2",{className:"text-2xl font-bold theme-text mb-2 animate-slide-up",children:d("telegramLogin.title")}),e.jsx("p",{className:"text-sm theme-text-secondary animate-slide-up delay-100",children:d("telegramLogin.description")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("telegramLogin.countryCodeLabel")}),e.jsxs("select",{name:"countryCode",required:!0,className:"w-full px-3 py-2 h-10 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200",value:r,onChange:b,children:[e.jsx("option",{value:"",disabled:!0,children:d("telegramLogin.selectCountry")}),x.map(i=>e.jsxs("option",{value:i.dialCode,children:[i.name," (",i.dialCode,")"]},i.code))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:d("telegramLogin.phoneNumberLabel")}),e.jsx("input",{type:"tel",name:"phone",required:!0,className:"w-full px-3 py-2 h-10 bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 transition-all duration-200",value:C,onChange:p,placeholder:d("telegramLogin.phonePlaceholder")})]}),e.jsxs("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-4 rounded-xl font-semibold hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx("span",{children:d("telegramLogin.continueButton")}),e.jsx(N,{size:20})]})]})]})}),e.jsx("div",{className:"max-w-sm w-full mt-4 text-center",children:e.jsx("div",{className:"text-center",children:e.jsxs("button",{onClick:()=>s(-1),className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors duration-200",children:[e.jsx(w,{size:20}),e.jsx("span",{children:d("telegramLogin.backButton")})]})})})]})]})};export{E as default};
