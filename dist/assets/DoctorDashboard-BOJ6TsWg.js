import{c as y,d as w,r as d,i as P,j as e,e as h,L as l,F as b}from"./index-CaEN0LVA.js";import{S as z}from"./SEOHead-Cja2CTz6.js";import{a as D}from"./doctorProfiles-_vKrNJJT.js";import{P as o}from"./plus-BjSJaAB3.js";import{C as j}from"./check-circle--lu5k8Gk.js";import{C as A}from"./clock-C8PnlhDy.js";import{A as S}from"./alert-circle-gwVqmrXV.js";import{E as u}from"./eye-Du4Ich3T.js";import{S as C}from"./star-DMreETf_.js";import{C as m}from"./credit-card-BlY8REKn.js";import{M as L}from"./mail-t0_ufx9o.js";import{P as _}from"./phone-BjNhtdVd.js";import{C as R}from"./calendar-CGUhxsTp.js";const B=()=>{const{t:s}=y(),{user:r}=w(),[t,f]=d.useState(null),[i,p]=d.useState([]),[E,x]=d.useState(!0),[g,N]=d.useState(!0);d.useEffect(()=>{r&&v()},[r]);const v=async()=>{if(r){x(!0);try{const[a,n]=await Promise.all([D(r.id),P("uz",{author_id:r.id})]);a.data&&f(a.data),n.data&&p(n.data)}catch(a){console.error("Error loading doctor data:",a)}finally{x(!1),N(!1)}}},c={totalPosts:i.length,publishedPosts:i.filter(a=>a.published).length,totalViews:i.reduce((a,n)=>a+(n.views_count||0),0),avgRating:4.8};return r?r.role!=="doctor"?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:s("dashboardAccessDenied")}),e.jsx("p",{className:"theme-text-secondary mb-6",children:s("dashboardDoctorOnlyPage")})]})}):g?e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"theme-text-muted",children:s("dashboardLoadingDoctorProfile")})]})}):t?e.jsxs("div",{className:"min-h-screen theme-bg",children:[e.jsx(z,{title:s("doctorPanel"),description:s("dashboardDoctorPanelDescription"),keywords:"shifokor panel, tibbiy maqolalar, bemor boshqaruvi",url:"https://revmohelp.uz/doctor-dashboard"}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold theme-text mb-2",children:[s("dashboardWelcomeDoctor"),", ",t.full_name,"!"]}),e.jsxs("p",{className:"theme-text-secondary",children:[s("dashboardDoctorPanelSpecialization")," - ",t.specialization]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:t.verified?e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[e.jsx(j,{size:16}),e.jsx("span",{children:s("verified")})]}):e.jsxs("span",{className:"flex items-center space-x-2 px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg",children:[e.jsx(A,{size:16}),e.jsx("span",{children:s("verificationPending")})]})})]})}),!t.verified&&e.jsx("div",{className:"mb-8 p-6 bg-yellow-50 border-l-4 border-yellow-400 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(S,{size:24,className:"text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:s("dashboardProfileVerificationPending")}),e.jsx("p",{className:"text-yellow-700 mb-4",children:s("dashboardProfileVerificationDesc")}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-yellow-600",children:[e.jsxs("span",{children:["• ",s("dashboardFillProfileInfo")]}),e.jsxs("span",{children:["• ",s("dashboardAddCertificates")]}),e.jsxs("span",{children:["• ",s("dashboardWaitAdminApproval")]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{size:24,className:"text-blue-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:c.totalPosts}),e.jsx("div",{className:"theme-text-secondary",children:s("dashboardTotalArticles")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{size:24,className:"text-green-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:c.publishedPosts}),e.jsx("div",{className:"theme-text-secondary",children:s("published")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(u,{size:24,className:"text-purple-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:c.totalViews.toLocaleString()}),e.jsx("div",{className:"theme-text-secondary",children:s("dashboardViews")})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{size:24,className:"text-yellow-600"})}),e.jsx("div",{className:"text-2xl font-bold theme-text mb-2",children:c.avgRating}),e.jsx("div",{className:"theme-text-secondary",children:s("dashboardRating")})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text mb-4",children:s("dashboardQuickActions")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(l,{to:"/doctor/posts/create",className:"flex items-center space-x-3 p-4 bg-blue-50 text-blue-700 rounded-xl hover:bg-blue-100 transition-colors duration-200",children:[e.jsx(o,{size:20}),e.jsx("span",{className:"font-medium",children:s("dashboardWriteNewArticle")})]}),e.jsxs(l,{to:"/doctor/profile/edit",className:"flex items-center space-x-3 p-4 bg-green-50 text-green-700 rounded-xl hover:bg-green-100 transition-colors duration-200",children:[e.jsx(m,{size:20}),e.jsx("span",{className:"font-medium",children:s("editProfile")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold theme-text",children:s("dashboardMyRecentArticles")}),e.jsx(l,{to:"/doctor/posts",className:"text-sm theme-accent hover:text-blue-800 font-medium",children:s("viewAllArticles")})]}),i.length>0?e.jsx("div",{className:"space-y-4",children:i.slice(0,3).map(a=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-xl theme-border border",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold theme-text mb-1 line-clamp-1",children:a.title}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm theme-text-muted",children:[e.jsx("span",{children:a.published?s("published"):s("draft")}),e.jsxs("span",{children:[(a.views_count||0).toLocaleString()," ",s("views")]}),e.jsx("span",{children:new Date(a.created_at).toLocaleDateString("uz-UZ")})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{to:`/doctor/posts/edit/${a.id}`,className:"p-2 theme-accent hover:text-blue-800 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:e.jsx(m,{size:16})}),e.jsx(l,{to:`/posts/${a.slug}`,target:"_blank",className:"p-2 text-green-600 hover:text-green-800 rounded-lg hover:bg-green-50 transition-colors duration-200",children:e.jsx(u,{size:16})})]})]},a.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(b,{size:48,className:"theme-text-muted mx-auto mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold theme-text-secondary mb-2",children:s("noArticlesYet")}),e.jsx("p",{className:"theme-text-muted mb-4",children:s("writeFirstArticle")}),e.jsxs(l,{to:"/doctor/posts/create",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(o,{size:16}),e.jsx("span",{children:s("writeArticle")})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:s("dashboardProfileSummary")}),e.jsxs("div",{className:"text-center mb-6",children:[t.avatar_url?e.jsx("img",{src:t.avatar_url,alt:t.full_name,className:"w-20 h-20 rounded-full mx-auto mb-4 object-cover border-4 border-white shadow-lg"}):e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-blue-100 to-teal-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(h,{size:24,className:"text-blue-600"})}),e.jsx("h4",{className:"text-lg font-bold theme-text",children:t.full_name}),e.jsx("p",{className:"theme-accent font-medium",children:t.specialization}),e.jsxs("p",{className:"theme-text-secondary text-sm",children:[t.experience_years," ",s("dashboardYearsExperience")]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:s("certificates")}),e.jsx("span",{className:"font-medium theme-text",children:t.certificates.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:s("dashboardEducation")}),e.jsx("span",{className:"font-medium theme-text",children:t.education.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:s("languages")}),e.jsx("span",{className:"font-medium theme-text",children:t.languages.length})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"theme-text-secondary",children:s("dashboardStatus")}),e.jsx("span",{className:`font-medium ${t.verified?"text-green-600":"text-yellow-600"}`,children:t.verified?s("verified"):s("dashboardPending")})]})]}),e.jsxs(l,{to:"/doctor/profile/edit",className:"w-full mt-6 theme-accent-bg text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[e.jsx(m,{size:16}),e.jsx("span",{children:s("editProfile")})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:s("dashboardContactInfo")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:t.email})]}),t.phone&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(_,{size:16,className:"theme-text-muted"}),e.jsx("span",{className:"text-sm theme-text",children:t.phone})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(R,{size:16,className:"theme-text-muted"}),e.jsxs("span",{className:"text-sm theme-text",children:[Object.values(t.working_hours||{}).filter(a=>a.available).length," ",s("dashboardDaysAvailable")]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl theme-shadow-lg theme-border border p-6",children:[e.jsx("h3",{className:"text-lg font-bold theme-text mb-4",children:s("dashboardRecentActivity")}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:s("dashboardProfileCreated")}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(t.created_at).toLocaleDateString("uz-UZ")})]}),i.length>0&&e.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"theme-text-secondary",children:s("dashboardLastArticle")}),e.jsx("span",{className:"theme-text-muted ml-auto",children:new Date(i[0].created_at).toLocaleDateString("uz-UZ")})]})]})]})]})]})]})]}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(h,{size:32,className:"text-blue-600"})}),e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:s("dashboardCreateDoctorProfile")}),e.jsx("p",{className:"theme-text-secondary mb-6 max-w-md mx-auto",children:s("createDoctorProfileDesc")}),e.jsxs(l,{to:"/doctor-registration",className:"inline-flex items-center space-x-2 theme-accent-bg text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[e.jsx(o,{size:20}),e.jsx("span",{children:s("createProfile")})]})]})}):e.jsx("div",{className:"min-h-screen theme-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold theme-text mb-4",children:s("dashboardLoginRequired")}),e.jsx("p",{className:"theme-text-secondary mb-6",children:s("dashboardLoginRequiredDesc")})]})})};export{B as default};
